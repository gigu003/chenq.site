---
title: 发现肿瘤登记数据的死亡漏报，减少长期生存率估计偏倚
description: |
  write description here
date: 2025-07-16
categories:
 - 肿瘤登记
 - R
image: https://cdn.jsdelivr.net/gh/gigu003/db/images/book/2022.jpg
draft: true
---

## 摘要
### 背景
基于人群的恶性肿瘤生存率估计可以揭示医疗干预和预防服务在真实世界中的影响。然而，基于人群肿瘤登记数据的生存率估计可能因发病漏报或生存状态信息不完整而存在偏倚。尤其是长期生存率容易被高估，因为随着随访时间的延长，由于如未登记的移民等原因导致的死亡漏报比例会上升，这也同样影响基于肿瘤登记数据的长期患病率估计。本报告旨在介绍一种方法，用于发现肿瘤登记数据中的死亡漏报，以避免恶性肿瘤患者的长期生存率超过一般人群的生存水平。

### 方法
该研究分析了来自15个德国流行病学肿瘤登记处1970-2016年的数据，以及美国SEER-18登记处1975-2015年的数据。该方法通过比较死亡患者与生存患者不同诊断分组、性别、年龄分组和分期下在随访终止时的生存时间和年龄，来发现死亡漏报。对于死亡患者，若其随访时间和退出时年龄均处于最高百分位，则视为异常值，并用来拟合Logistic回归模型。随后，利用该模型对每一位生存患者进行分类，判定其是实际生存者还是漏报死亡。该过程会针对死亡患者的更低百分位阈值重复，直到长期生存率不再超过一般人群的生存率。

### 结果
在德国癌症登记数据中，0.9%的总死亡数被分类为漏报死亡。剔除这些漏报死亡后，所有癌症合计的20年相对生存率由140%降至51%。在SEER白人数据中，分类出的漏报死亡占总死亡的0.02%，导致所有癌症合计的20年相对生存率降低了0.4个百分点。

### 结论
本方法虽仅识别出相对较小比例的死亡漏报，但却显著降低了长期生存率的高估，使其更为合理。在计算长期生存率或患病率估计时，应充分考虑死亡漏报的影响。

## 引言
基于人群肿瘤登记数据的恶性肿瘤患者生存分析，可以用于分析医疗干预（如新治疗方法或预防措施变化）在真实世界中的影响。然而，生存率的估计可能因数据缺失或无效而存在偏倚。在德国，人群肿瘤登记收集各联邦州人群的癌症信息如癌症类型、诊断日期以及患者生存状况等。患者的生存状态通过与人口登记处的死亡通报数据被动链接获得。然而，生存状态的被动随访可能受多种因素影响而导致错误。首先，患者信息错误（如姓名拼写错误或出生日期数字颠倒）可能导致与死亡通报的匹配失败。当发病信息上报延迟且生存时间短时，链接可能失败。此外，如果各登记处只能与本州的人口登记处对接数据，那么患者在联邦州之间的迁徙可能造成被动随访缺失。在上述所有情况下，除非知道迁出日期并降其设为随访删失，否则患者在随访结束时会被登记处视为仍然生存，形成“看似永生”的患者。随着其他患者陆续死亡，这种漏报死亡的比例会随随访时间的延长而增加，导致生存率被越来越高地高估。该问题在老年人群中最为明显，因为其生存时间较短。

研究发现，漏报死亡对相对生存率的影响大于对观察生存率的影响（1）。相对生存率是癌症患者的观察生存率与按年龄、性别、年份匹配的一般人群生存率的比值。若漏报死亡比例较高，癌症患者的生存率可能会高于一般人群，导致相对生存率超过100%。死亡漏报的偏倚不仅影响长期生存率的计算，也影响长期或终生患病率的估计。

已有少量研究关注基于人群肿瘤登记数据中的死亡漏报问题。Pinheiro等（2）基于SEER数据中高级致死性癌症的长期生存者比例，估算了死亡漏报的比例。该研究将死亡漏报定义为：数据中生存时间超过5年，但最后一次联系在诊断后0到5年之间的人群。Sriamporn等（3）在泰国宫颈癌病例中，提出了“损失调整”法来估算死亡日期，对于随访结束时生存状况不明的患者，采用Logistic回归估算年死亡概率，回归模型基于具有类似特征且已知生存时间的患者数据拟合。Okuyama等（4）通过模拟研究，评估了死亡漏报对5年绝对生存率估计的偏倚。在5%的失访率下，肺癌生存率被高估4%，乳腺癌生存率被高估1%。一般而言，预后差的癌症的生存率受漏报死亡的偏倚影响最大。

本报告旨在介绍一种算法，以检测基于人群肿瘤登记数据中的死亡漏报，使癌症患者的长期生存率不超过一般人群的生存水平。根据（5）开发的方法，为了估算长期癌症患病率，我们分析了最长达35年的生存时间。该研究将该方法应用于德国癌症登记数据和SEER数据，并通过模拟进行测试。该算法以R语言包(**misseddeaths**)的方式发布至Github上。

## 材料与方法
### 肿瘤登记数据
本研究包含近**500万名**癌症患者的数据，这些患者在**1970年至2016年**间于**德国15个基于人群肿瘤登记处**中被诊断，诊断时年龄均在**15岁及以上**。其中，只有**萨尔兰州（Saarland）**的癌症登记处自**1970年**起持续运作。其他联邦州的登记工作则始于 **1990年或之后**（见表1）。来自**东德联邦州**（柏林、勃兰登堡、梅克伦堡-前波美拉尼亚、萨克森-安哈尔特、萨克森和图林根）的数据仅涵盖**1995年至2015年**。在生存分析中，东德登记处患者的随访时间被删失于**2015年12月31日**，其他登记处的患者则删失于**2016年12月31日**。所有数据均依据联邦法律，由各州肿瘤登记处数据报送至**罗伯特·科赫研究所的德国肿瘤登记数据中心**。

为了评估所提出的方法，我们还分析了**SEER研究数据（6）**，该数据集涵盖了**1975年至2015年**间诊断的约**640万例**癌症病例（见表2）。SEER数据来自**18个人群肿瘤登记处**，其中**9个登记处自1975年起**提供数据，其他登记处的数据则始于**1992年至2000年**之间。本次分析仅限于**白人群体**，因为这是美国死亡漏报比例最低的族群，估计低于**1%**（参考文献2, 7）。

对于**德国数据**，肿瘤按**国际抗癌联盟（UICC）分期**分类。对于**SEER数据**，肿瘤按**历史分期A（historic stage A）**分类，区分为局部、区域和远处肿瘤。前列腺癌在历史分期A中仅分为两期：“局部/区域（localized/regional）”和“远处（distant）”。由于历史分期A仅提供至**2015年**，因此 SEER 数据的分析被限定在**1975年至2015年**。然而，历史分期A并未覆盖所有诊断的整个时间段。例如：肺癌（C34）的分期信息自**1988年**起才开始记录，前列腺癌（C61）自**1995年**起记录，口腔、咽喉和喉部（C00-C14, C30-C32）以及阴道癌（C52）的一些诊断，仅记录到 **2003年**。

一般而言，仅基于**死亡证明（DCO病例）**或**尸检报告**登记的病例被排除在分析之外。对于**缺失分期信息**的病例，单独划分为一个额外类别并纳入分析。当患者存在**多原发癌症**时，分析限定在**最后一次原发癌诊断后的生存时间**。

### 监测死亡漏报
当癌症患者的**观察生存率在随访结束时超过相应一般人群的生存率**时，我们会检查是否存在**漏报死亡**（见图1）。为了检测死亡漏报，我们比较了**有死亡日期记录的患者**与**随访结束时被记录为仍生存的患者**的年龄和生存时间。由于生存者的观察时间是删失的，死亡患者的最大年龄和最大随访时间应当大于生存者的对应数值。例如，在SEER数据中，**肺癌**死亡患者中年龄最大者去世时为 **108岁**，而随访结束（2015年12月31日）时仍生存的肺癌患者年龄最大者为 **101岁**，两者均在诊断后生存了18年。

为了尽可能在**同质性群组**内比较死亡者和生存者的随访时间和年龄，数据按以下方式分层：

- **诊断组别**
- **性别**
- **诊断时年龄组**（15-54岁、55-74岁、75岁及以上）

若每个 UICC 分期（或对于SEER数据，**历史分期A**）内的样本数达到**500人**，则进一步按分期分层，并为**缺失分期信息**的病例单独设置分层。

在这些分层内，采用**现时生存分析（period analysis）**估算**相对生存率**和**1年条件相对生存率**。对于**诊断时年龄小于55岁**的患者，估算**最长35年**的相对生存率；而对于**年龄较大的患者**，估算**最长30年**。

生存率的估计使用R包**`periodR`（8）**，通过函数**`period`**，并基于**Ederer II 方法（9）** 计算期望生存率。采用Ederer II方法的原因在于，Ederer I方法（10）或Hakulinen方法（11）倾向于高估长期相对生存率（12）。

相对生存率估计基于涵盖**1993年至2016年**，**0至99岁**年龄段的寿命表（99岁以上年龄的期望生存率，按99岁的值计算）。寿命表按**性别、单岁年龄组和年份**分层。

本研究分析周期选取了**随访的最后5年**：

- 德国数据：**2011-2016年**
- SEER数据：**2010-2015年**

因此，基于德国数据的生存率估计可覆盖**1976年及以后的诊断病例**。我们将**死亡时间和死亡时年龄位于第99.9百分位**的死亡患者视为**异常值（outliers）**，并以这些异常值为事件，基于死亡患者的数据拟合了一个**Logistic回归模型**：


