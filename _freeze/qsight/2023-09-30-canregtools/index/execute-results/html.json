{
  "hash": "fd5f559283a988d711f3ce7eeba9bf90",
  "result": {
    "markdown": "---\ntitle: \"一个肿瘤登记R语言包: canregtools\"\nsubtitle: \"让肿瘤登记数据分析和可视化更容易\"\ndescription: |\n  为了使肿瘤登记数据分析和可视化更加容易，我写了一个R语言软件包“*canregtools*”，这篇博文将详细介绍这个R包的功能和使用。\nauthor: 陈琼\ndate: 2023-09-30\ncategories:\n  - 肿瘤登记\n  - R语言\ndraft: true\n---\n\n\n> 肿瘤登记工作是搜集一个地区肿瘤数据资料，并进行常规数据分析和统计报告的统计制度，从而为肿瘤防治提供肿瘤发病率、死亡率、生存率及分布特征等流行病学数据。\n\ncanregtools包提供了肿瘤登记常用的数据分析、可视化、自动化报告等功能，目前*canregtools*包还处在开发阶段，新的功能会不断补充更新到该包中。\n\n我为该包做了一个网站[canregtools包](https://caregtools.chenq.site)，你可以登录网站查看最新的功能。\n\n## canregtools的安装\n\n```{{r}}\nlibrary(devtools)\ninstall_github(\"gigu003/canregtools\")\n```\n\n## 数据格式\n\n\n## 读取数据\n包里内置了登记处常用的数据上报格式，\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\nlibrary(canregtools)\nfile <- system.file(\"extdata\", \"411721.xls\", package = \"canregtools\")\ndata <- read_canreg(file)\ndata\n```\n````\n\n::: {.cell-output .cell-output-stdout}\n```\n2200  cases were read from FB sheet.1470  cases were read from SW sheet.$areacode\n[1] \"411721\"\n\n$county\n[1] \"\"\n\n$area_type\n[1] \"\"\n\n$location\n[1] \"\"\n\n$year\n[1] 2016\n\n$FBcases\n# A tibble: 2,200 × 20\n   registr sex   age   birthda    inciden    topo  morp  beha  grad  basi  trib \n   <chr>   <chr> <chr> <date>     <date>     <chr> <chr> <chr> <chr> <chr> <chr>\n 1 174117… 2     72    1943-10-04 2016-04-11 C00.9 8070  3     9     7     01   \n 2 184117… 1     91    1925-02-02 2016-09-13 C01.9 8070  3     9     7     01   \n 3 184117… 1     74    1941-09-16 2016-04-14 C01.9 8070  3     9     7     01   \n 4 194117… 1     61    1954-08-13 2016-06-15 C02.9 8070  3     9     7     01   \n 5 174117… 2     8     2008-03-31 2016-05-05 C02.9 9591  3     9     7     01   \n 6 164117… 1     60    1955-11-22 2016-07-04 C03.9 8070  3     9     7     01   \n 7 184117… 1     80    1935-08-12 2016-04-03 C03.9 8070  3     9     7     01   \n 8 204117… 1     71    1944-06-13 2016-03-02 C05.1 8070  3     9     7     01   \n 9 174117… 1     65    1951-03-25 2016-12-28 C05.9 8010  3     3     7     01   \n10 174117… 1     63    1953-01-08 2016-05-10 C05.9 8070  3     9     7     01   \n# ℹ 2,190 more rows\n# ℹ 9 more variables: dlc <dttm>, deathda <dttm>, caus <chr>, marri <chr>,\n#   status <chr>, reportd <dttm>, treatment <chr>, firsttreat <chr>,\n#   icd10 <chr>\n\n$SWcases\n# A tibble: 1,470 × 10\n   registr  sex   age   birthda    topo  morp  beha  inciden    deathda    icd10\n   <chr>    <chr> <chr> <date>     <chr> <chr> <chr> <date>     <date>     <chr>\n 1 1641172… 1     65    1951-05-28 C02.9 8052  3     2012-09-03 2016-07-13 C02.9\n 2 1741170… 1     75    1941-10-01 C02.9 8070  3     2014-04-28 2016-12-10 C02.9\n 3 1741170… 1     67    1949-11-04 C03.0 8070  3     2015-10-04 2016-12-15 C03.0\n 4 1741170… 1     68    1948-01-15 C04.9 8070  3     2015-09-11 2016-07-29 C04.9\n 5 1741170… 1     63    1953-04-08 C06.0 8050  3     2012-11-08 2016-11-09 C06.0\n 6 1741170… 1     67    1948-12-12 C06.9 8070  3     2015-05-06 2016-07-23 C06.9\n 7 1741170… 1     66    1950-10-10 C06.9 8070  3     2015-04-08 2016-11-10 C06.9\n 8 1741170… 1     67    1949-03-10 C07.9 8430  3     2014-06-10 2016-06-06 C07  \n 9 1741170… 1     65    1950-07-07 C07.9 8562  3     2015-10-02 2016-03-14 C07  \n10 1741170… 2     84    1931-12-02 C09.9 8070  3     2016-05-16 2016-12-22 C09.9\n# ℹ 1,460 more rows\n\n$POP\n# A tibble: 38 × 4\n    year   sex agegrp   rks\n   <int> <int> <fct>  <dbl>\n 1  2016     1 0       5053\n 2  2016     1 1      17743\n 3  2016     1 5      25541\n 4  2016     1 10     32509\n 5  2016     1 15     30530\n 6  2016     1 20     34806\n 7  2016     1 25     36846\n 8  2016     1 30     38691\n 9  2016     1 35     40056\n10  2016     1 40     39252\n# ℹ 28 more rows\n\nattr(,\"class\")\n[1] \"canreg\" \"list\"  \n```\n:::\n:::\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}