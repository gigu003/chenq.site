[
  {
    "objectID": "qsight/2014-05-21-SAS-by-group/index.html",
    "href": "qsight/2014-05-21-SAS-by-group/index.html",
    "title": "SAS数据步by-group语句",
    "section": "",
    "text": "By-Group 最常见的功能就是，在一个数据集里利用SET、MERGE、MODIFY 和 UPGRADE语句和By语句进行两个或者多个数据集的合并。当你在用SET、MERGE、MODIFY和UPGRADE语句合并By语句时，数据集里的记录必须是经过排序的。\n当在处理这些语句时，SAS每次读取一条记录到程序数据向量。在By-Group语句的作用下，SAS会根据一个或者多个By变量的值在数据集中选择相应的记录。当处理完一个By-Group的记录后，SAS会挪到下一个By-Group继续处理。 ### By-Group+条件语句\n我们可以通过利用条件语句（IF 或者IF-THEN语句或者SELECT语句）加上SAS临时变量First.variable 或者Last.variable，从而可以有条件地处理记录。 例如，我们可以利用它来执行每一个By-group组的计算，并且在一个By-Group组的第一条记录或者最后一条记录已经写进程序数据向量时写记录到数据集。 下面的程序计算了每一年各个部门的工资，在每一个By-Group开始的时候，它利用IF-THEN语句和自动变量First.variable和Last.variable来重置工资到0，在每个By-group处理结束的时候，写记录到数据集。\noptions pageno=1 nodate linesize=80 pagesize=60; \ndata salaries;   \ninput Department $ Name $ WageCategory $ WageRate;   \ndatalines;\nBAD Carol Salaried 20000\nBAD Elizabeth Salaried 5000\nBAD Linda Salaried 7000\nBAD Thomas Salaried 9000\nBAD Lynne Hourly 230\nDDG Jason Hourly 200\nDDG Paul Salaried 4000\nPPD Kevin Salaried 5500\nPPD Amber Hourly 150\nPPD Tina Salaried 13000\nSTD Helen Hourly 200\nSTD Jim Salaried 8000\n;\nproc print data=salaries;\nrun;\nproc sort data=salaries out=temp;   \nby Department;\nrun;\ndata budget (keep=Department Payroll);  \nset temp;      \nby Department;\nif WageCategory='Salaried' then YearlyWage=WageRate*12;   \nelse if WageCategory='Hourly' then YearlyWage=WageRate*2000;  \n\nif first.Department then Payroll=0;   \nPayroll+YearlyWage;\nif last.Department;\nrun;\n\nproc print data=budget;   \nformat Payroll dollar10.;\ntitle 'Annual Payroll by Department';\nrun;\n\n0.1 数据不是按照字母或者数字排序\n在进行BY-Group处理操作时，不仅可以利用按照字母或者数字排序的数据，还可以按照日历月份或者分类等排列的数据。只需要在你使用SET语句时，在By语句后面加个Notsorted选项即可。Notsorted选项的作用就是告诉SAS数据不是按照字母或者数字大小排序的，而是按照By变量的值按组排列的。 Notsorted选项不能用在Merge语句、Upgrade语句，或者当SET语句后多于一个数据集的时候。 下面的例子假定数据是按照字符变量Month分组的，IF语句根据Last.Month的值有条件的写记录到数据集。数据步只会在每个By组处理完后写记录到数据集。\ndata total_sale(drop=sales);\nset region.sales\nby month notsorted;   \ntotal+sales;   \nif last.month;\nrun;\n\n\n\n\n\n\n  \n    \n  \n  \n    陈 琼\n       博士 \n       副主任医师 \n    他从事肿瘤登记与人群流行病学研究，编写肿瘤登记年报，并开发和维护个人网站。他撰写博文，分享数据分析方法、可视化技巧和自动化报告解决方案，同时学习 R 语言，开发 R 包，不断探索高效的数据处理与展示方式。 🚀\n    \n      \n        \n      \n      \n        \n      \n      \n        \n      \n    \n  \n\n 回到顶部"
  },
  {
    "objectID": "qsight/2020-04-16-ethics/index.html",
    "href": "qsight/2020-04-16-ethics/index.html",
    "title": "医学伦理学在肿瘤流行病学中的应用",
    "section": "",
    "text": "1964年在第18届世界医学大会通过的生物学和药学临床研究指南《赫尔辛基宣言》、国际医学科学组织委员会颁布的《人体生物医学研究国际道德指南》和国际流行病学协会制定的流行病学研究的伦理学条约，均明确指出了生物医学研究的四个基本伦理学原则，即自主性、有益性、无害性和公平性。\n在开展肿瘤流行病学研究中主要涉及的伦理问题包括知情同意、隐私保护等，传统的观察性研究所涉及的伦理主要有研究目的知情、自主决策权、个人或家庭资料的披露、筛查的伦理问题、研究资料的归属权、调查参与者和地区分布的公平性、研究结果的传播和疾病监测过程的伦理问题。随着肿瘤流行病学研究范畴的拓展，研究对象从宏观发展至微观，研究者面临的伦理学问题也日益突出，涉及的伦理问题包括个体生物标本和个人信息采集的知情同意、基因的私密性问题和基因歧视问题。而近年来开展的肿瘤临床试验中，干预的随机化过程也面临伦理学抉择问题。\n随着肿瘤流行病学的不断发展，也在不断出现新的伦理学问题，如何正确认识研究伦理学意义，解决伦理学冲突，保护研究对象的权益，成为目前研究关注的重点之一。"
  },
  {
    "objectID": "qsight/2020-04-16-ethics/index.html#国内外流行病学研究伦理规范的发展",
    "href": "qsight/2020-04-16-ethics/index.html#国内外流行病学研究伦理规范的发展",
    "title": "医学伦理学在肿瘤流行病学中的应用",
    "section": "1 国内外流行病学研究伦理规范的发展",
    "text": "1 国内外流行病学研究伦理规范的发展\n国际上流行病学研究伦理规范的发展较早，1985年美国流行病学学会（ACE）批准成立伦理和行为规范委员会，1989年美国流行病学杂志发表“Epidemiology: Questions Of Science, Ethics, Morality, And Law”，专门论述了流行病学研究中的伦理学问题1。1990年，国际流行病学学会召开伦理研讨会，讨论流行病学伦理准则草案。1991年，国际医学科学组织理事会（CIOMS）出版了“伦理学和流行病学的国际准则”，内容涉及流行病学工作者信息传播的责任问题、对研究对象的责任问题以及针对流行病学工作者的伦理指南。2002年CIOMS和世界卫生组织（WHO）修订《国际流行病学研究伦理指南》，2008年再次修订，是目前指导流行病学研究的权威性的伦理指导文件。 我国对流行病学研究中的伦理问题的重视程度不足，与国际上有一定差距。目前，我国还没有出台流行病学伦理问题的规范法规。我国医学伦理相关规范的发展起始于1998年卫生部颁布的“涉及人体的生物医学研究伦理审查办法”，2007年正式发布《涉及人的生物医学研究伦理审查办法（试行）》，2016年9月30日国家卫生计生委委主任会议讨论通过《涉及人的生物医学研究伦理审查办法》，并于2016年12月1日起正式施行2。 国内关于流行病学伦理问题的研究仍然相对匮乏，《中华流行病学杂志》和《American Journal of Epidemiology》分别作为发表中国和美国流行病学研究成果的主要期刊，孟若谷等人2012年对比了两刊2006年至2012年期刊研究论文的伦理学问题，发现中国在伦理审查、采集受试者生物标本和隐私信息的伦理意识等方面与美国均存在较大差距，但两刊伦理意识均呈逐年上升趋势3。"
  },
  {
    "objectID": "qsight/2020-04-16-ethics/index.html#伦理学在我国肿瘤流行病学研究中的应用",
    "href": "qsight/2020-04-16-ethics/index.html#伦理学在我国肿瘤流行病学研究中的应用",
    "title": "医学伦理学在肿瘤流行病学中的应用",
    "section": "2 伦理学在我国肿瘤流行病学研究中的应用",
    "text": "2 伦理学在我国肿瘤流行病学研究中的应用\n\n2.1 伦理委员会\n19世纪80年代初期，国内尚无伦理审查管理条例，中国医学科学院肿瘤研究所同美国国家卫生研究院国立癌症研究所合作开展大规模的肿瘤流行病学研究时，就建立了伦理委员会（Institutional review board, IRB）,遵循国际准则开展伦理审查，包括研究设计合理性、益处与风险以及安慰剂对照的采用等。多次获得NIH保护人类研究对象委员会的“单一项目认证”（single project assurance, SPA）。在云南锡矿工肺癌早诊早治研究中，为确保高危人群的自我权益得到充分保护，有一定数据量的矿工代表参加到普查队，并有一位工会的代表成为云锡劳动防护研究所IRB的成员4。\n\n\n2.2 知情同意\n知情同意赋予受试者自我选择并决定是否参加的权利，它包含了“知情”和“同意”两部分密切相关的内容。概括起来有研究目的、自愿参加、益处与风险、保密性、联系人和赔偿等6点基本要素。在流行病学研究中，不仅要做到受试者在形式上知情同意，而且要使知情同意工作在实质上达到应有的伦理学标准。但在获取知情同意的过程中，要避免对未来受试者的不正当影响。 CICAMS在林县进行的大规模的随机双盲有对照的营养干预试验，参加者为食管癌高发区的农民29，584名。尽管参加试验的农民属于食管癌高发区的人群，但是他们的基线调查通常显示为无症状或无病状态。他们中的大部分人即使 不参加任何干预，也可能不会发展为食管癌。因此健康个体也被随机分配，接受5年的维生素／矿物质或者安慰剂补充。NCI和CICAMS的IRB均批准了这个科学研究计划，并认为它对于参加者的有益之处大于潜在危险性，是可以接受的。双 方的IRB每年都对这项研究中涉及的伦理性问题进行复审。知情同意书中的信息包括了整个研究的过程，试验的危害性，自愿参加准则，科学研究的真实性，保护隐私性和研究对象分组情况的保密性，以及有1／8被选中安慰剂对照的可能性(半数重复42的析因设计)。由于参加者有40％文盲，项目的现场负责人以小组会和壁报的形式给参加者讲解这项研究的意义和利弊(知情)，并解答他们提出的所有问题。自愿参加者在知情同意二|；上逐一签名或按手印(同意)。高发区人群一般都愿意参加癌症预防试验，但对安慰剂对照不喜欢。在保证统计功效的基础上，应尽量减少安慰剂对照的样本数量。另外，研究者也提供了对患病个体的部分医疗照顾和误工补偿。\n\n\n2.3 肿瘤筛查\n癌症筛查研究与其他研究一样，首先要通过伦理委员会的审批。伦理审查的内容包括研究方案、CRF、研究器械或药物的安全性资料、研究中可能出现问题的对策、知情同意书、主要研究者资质等。对于多中心临床研究还需保证伦理审查的一致性和及时性。组长单位需审核方案的科学性与伦理合理性，参加单位需在接受组长单位审查意见的前提下审查研究在本单位的可行性。赫尔辛基宣言第26条提到：“每位潜在的受试者必须被充分告知：研究目的、方法、资金来源、任何可能的利益冲突、研究人员的机构隶属关系、研究预期的获益和潜在的风险、研究可能造成的不适、试验结束后的条款，以及任何其他相关方面的信息”。因此，受试者在被完全告知、充分理解、没有不正当影响的情况下签署《知情同意书》也是研究的重要组成部分。因参与研究受到伤害的受试者应得到适当的补偿和治疗，必要时可为其购买保险。知情同意书的签署保 护的不仅是受试者的权益，也为研究者规避了一定的风险5。 目前对于肿瘤筛查也是争议不断，对于已经推广的筛查工作，较为肯定的只有乳腺癌和宫颈癌的筛查工作。争议主要是对于筛查目的的认识、筛查作用的认识、生存期延长与领先时间的争议、成本与效益的问题、筛查本身对社会公众带来的心理问题、哪些人应该列为筛查对象的伦理问题以及筛查检出病例的治疗是否比临床诊断的、采取相同疗法的病例更有效？6\n\n\n2.4 肿瘤监测\n我国自19世纪60年代开展肿瘤监测也就是以人群为基础的肿瘤登记，其目的是监测人群癌症负担以及发展趋势，为病因学研究提供原始资料，有效评价癌症防治措施的效果，为制定癌症防控策略提供依据。 以人群为基础的肿瘤登记，与医学科学研究的个案调查需尊重患者知情同意权不同，肿瘤登记是一项经常性地监测人群癌症发生、死亡与生存情况的社会公共卫生工作，旨在促进人类社会的健康发展。同时，肿瘤登记处在数据收集过程所获得登记病例信息是间接的，获得每一位病人的知情同意是不现实的。如要获得全部登记病例的知情同意，则该项工作基本不能实施。如果仅有部分知情同意，登记所获得信息则无法达到肿瘤登记数据的可比性、完整性和有效性的基本要求标准。肿瘤登记资料的获取、保存和利用应遵循赫尔辛基宣言和纽伦堡法典中所提及的医学伦理学的基本原则。而WHO公布的《公共卫生监测伦理指南》第12条也指出“如果可靠、有效、完全的数据集是必须的，且相关的保护措施得当，那么个人有义务为监测做出贡献。在这些情况下，知情同意不一定伦理上必须的”7, 8。但在肿瘤登记实际运行过程中和数据利用及信息发布时，相关的保密原则是应严格执行，要充分尊重患者的隐私权，防止个人信息泄露和数据滥用。国家卫生计生委、国家中医药管理局联合下发的“关于印发肿瘤登记管理办法的通知”国卫疾控发【2015】6号文件第五章保障措施中的第十九条专门对肿瘤资料保密作出规定：“各肿瘤报告单位及有关研究机构在利用肿瘤登记报告信息时，应当遵从国家法律法规和有关规定、伦理学准则、知识产权准则和保密原则，对个案肿瘤病例信息采取管理和技术上的安全措施，保护患者隐私和信息安全。”"
  },
  {
    "objectID": "qsight/2020-04-16-ethics/index.html#参考文献",
    "href": "qsight/2020-04-16-ethics/index.html#参考文献",
    "title": "医学伦理学在肿瘤流行病学中的应用",
    "section": "3 参考文献",
    "text": "3 参考文献\n1. SOSKOLNE CL. EPIDEMIOLOGY: QUESTIONS OF SCIENCE, ETHICS, MORALITY, AND LAW. American Journal of Epidemiology 1989;129:1-18.\n2. 涉及人的生物医学研究伦理审查办法 中华人民共和国中央人民政府, 2016.\n3. 孟若谷, 翟炎冰, 陈森, 张晏畅, 张越伦, 赵剑云, 孙凤. 《中华流行病学杂志》和 American Journal of Epidemiology 的医学伦理问题比较. 中华流行病学杂志 2012;33:106-10.\n4. 乔友林. 在中国开展肿瘤流行病学研究的伦理学问题. 北京国际生命伦理学学术会议 2004.\n5. 陈世耀, 杜玄凌, 韦怡超. 开展早癌筛查研究面临的问题. 中国癌症防治杂志 2017;9:90-93.\n6. 杨秉辉. 关于肿瘤筛查的争议与思考. 医学与哲学 2017;38:2-4.\n7. 张海洪, 丛亚丽. 世界卫生组织《公共卫生监测伦理指南》要点及启示. 医学与哲学 2018;39:26-28,36.\n8. 巴璐, 蔡慧媛, 戎或. 公共卫生监测中的伦理问题及其借鉴意义. 医学与哲学 2019;40:33-39."
  },
  {
    "objectID": "qsight/2023-09-30-canregtools/index.html",
    "href": "qsight/2023-09-30-canregtools/index.html",
    "title": "R包canregtools：肿瘤登记可视化和自动化报告",
    "section": "",
    "text": "为了使肿瘤登记数据分析和可视化更加容易，我写了一个R语言软件包“canregtools”，这篇博文将详细介绍这个R包的功能和使用。\nR语言包“canregtools”提供了肿瘤登记常规数据分析中常用的数据处理、可视化、自动化报告等功能，该包的主要目的是通过一系列R语言函数功能实现肿瘤登记数据常规数据分析和数据可视化功能，并通过整合不同函数功能从而实现应用于不同场景的肿瘤登记报告，在统一的R语言环境中让肿瘤登记数据分析更流畅。\n目前canregtools包还处在开发阶段，新的功能会不断补充更新到该包中，大家可以登陆canregtools包网站了解开发进度和最新功能，如果您有关于该包的建议，请发送邮件给我。"
  },
  {
    "objectID": "qsight/2023-09-30-canregtools/index.html#canregtools的安装",
    "href": "qsight/2023-09-30-canregtools/index.html#canregtools的安装",
    "title": "R包canregtools：肿瘤登记可视化和自动化报告",
    "section": "1 canregtools的安装",
    "text": "1 canregtools的安装\n该包还正处于开发阶段，暂时还没有准备将其提交至CRAN，我们会等其功能稳定之后再考虑将其正式提交。目前代码托管在github上，大家可以通过下面的代码进行安装。\n```{r}\nlibrary(devtools)\ninstall_github(\"gigu003/canregtools\")\n```\n在开始介绍canregtools包之前，首先看看我们包的运行环境。\n\nlibrary(devtools)\nlibrary(sessioninfo)\nsession_info()\n\n─ Session info ───────────────────────────────────────────────────────────────\n setting  value\n version  R version 4.4.2 (2024-10-31)\n os       macOS Sequoia 15.3.2\n system   aarch64, darwin20\n ui       X11\n language (EN)\n collate  en_US.UTF-8\n ctype    en_US.UTF-8\n tz       Asia/Shanghai\n date     2025-03-31\n pandoc   3.6.3 @ /opt/homebrew/bin/ (via rmarkdown)\n\n─ Packages ───────────────────────────────────────────────────────────────────\n package     * version date (UTC) lib source\n cachem        1.1.0   2024-05-16 [1] CRAN (R 4.4.0)\n cli           3.6.3   2024-06-21 [1] CRAN (R 4.4.0)\n devtools    * 2.4.5   2022-10-11 [1] CRAN (R 4.4.0)\n digest        0.6.37  2024-08-19 [1] CRAN (R 4.4.1)\n ellipsis      0.3.2   2021-04-29 [1] CRAN (R 4.2.0)\n evaluate      0.24.0  2024-06-10 [1] CRAN (R 4.4.0)\n fastmap       1.2.0   2024-05-15 [1] CRAN (R 4.4.0)\n fs            1.6.4   2024-04-25 [1] CRAN (R 4.4.0)\n glue          1.8.0   2024-09-30 [1] CRAN (R 4.4.1)\n htmltools     0.5.8.1 2024-04-04 [1] CRAN (R 4.4.0)\n htmlwidgets   1.6.4   2023-12-06 [1] CRAN (R 4.4.0)\n httpuv        1.6.15  2024-03-26 [1] CRAN (R 4.4.0)\n jsonlite      1.8.8   2023-12-04 [1] CRAN (R 4.3.1)\n knitr         1.48    2024-07-07 [1] CRAN (R 4.4.0)\n later         1.3.2   2023-12-06 [1] CRAN (R 4.4.0)\n lifecycle     1.0.4   2023-11-07 [1] CRAN (R 4.3.1)\n magrittr      2.0.3   2022-03-30 [1] CRAN (R 4.2.0)\n memoise       2.0.1   2021-11-26 [1] CRAN (R 4.3.0)\n mime          0.12    2021-09-28 [1] CRAN (R 4.2.0)\n miniUI        0.1.1.1 2018-05-18 [1] CRAN (R 4.2.2)\n pkgbuild      1.4.4   2024-03-17 [1] CRAN (R 4.4.0)\n pkgload       1.3.4   2024-01-16 [1] CRAN (R 4.4.0)\n profvis       0.3.8   2023-05-02 [1] CRAN (R 4.3.0)\n promises      1.3.0   2024-04-05 [1] CRAN (R 4.4.0)\n purrr         1.0.2   2023-08-10 [1] CRAN (R 4.4.0)\n R6            2.5.1   2021-08-19 [1] CRAN (R 4.2.0)\n Rcpp          1.0.13  2024-07-17 [1] CRAN (R 4.4.0)\n remotes       2.5.0   2024-03-17 [1] CRAN (R 4.4.0)\n rlang         1.1.4   2024-06-04 [1] CRAN (R 4.4.0)\n rmarkdown     2.29    2024-11-04 [1] CRAN (R 4.4.1)\n rstudioapi    0.16.0  2024-03-24 [1] CRAN (R 4.4.0)\n sessioninfo * 1.2.2   2021-12-06 [1] CRAN (R 4.2.0)\n shiny         1.8.1.1 2024-04-02 [1] CRAN (R 4.4.0)\n stringi       1.8.4   2024-05-06 [1] CRAN (R 4.4.0)\n stringr       1.5.1   2023-11-14 [1] CRAN (R 4.3.1)\n urlchecker    1.0.1   2021-11-30 [1] CRAN (R 4.2.0)\n usethis     * 2.2.3   2024-02-19 [1] CRAN (R 4.4.0)\n vctrs         0.6.5   2023-12-01 [1] CRAN (R 4.3.1)\n xfun          0.45    2024-06-16 [1] CRAN (R 4.4.0)\n xtable        1.8-4   2019-04-21 [1] CRAN (R 4.2.0)\n yaml          2.3.9   2024-07-05 [1] CRAN (R 4.4.0)\n\n [1] /Users/qc0824/Library/R\n [2] /Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n\n──────────────────────────────────────────────────────────────────────────────"
  },
  {
    "objectID": "qsight/2023-09-30-canregtools/index.html#主要功能介绍",
    "href": "qsight/2023-09-30-canregtools/index.html#主要功能介绍",
    "title": "R包canregtools：肿瘤登记可视化和自动化报告",
    "section": "2 主要功能介绍",
    "text": "2 主要功能介绍\n该包的主要功能分为以下几类：数据读取、数据整理、指标计算、可视化、表单制作和生成报告等。"
  },
  {
    "objectID": "qsight/2023-09-30-canregtools/index.html#数据读取",
    "href": "qsight/2023-09-30-canregtools/index.html#数据读取",
    "title": "R包canregtools：肿瘤登记可视化和自动化报告",
    "section": "3 数据读取",
    "text": "3 数据读取\n目前该包可以读取国家癌症中心发布的数据上报格式（call for data），包括以EXCEL格式保存的单年数据或生存数据，通过read_canreg()函数来实现。我们在包里内置了按照国家癌症中心数据上报格式准备的excel数据文档(“411721.xls”)。\n\nlibrary(canregtools)\nfile &lt;- system.file(\"extdata\", \"411721.xlsx\", package = \"canregtools\")\ndata &lt;- read_canreg(file)\n\n我们给读入的原始数据定义一个类”canreg”， 我们可以通过class函数查看一下。\n\nclass(data)\n\n[1] \"canreg\" \"list\""
  },
  {
    "objectID": "qsight/2023-09-30-canregtools/index.html#数据整理",
    "href": "qsight/2023-09-30-canregtools/index.html#数据整理",
    "title": "R包canregtools：肿瘤登记可视化和自动化报告",
    "section": "4 数据整理",
    "text": "4 数据整理\n数据整理函数主要为count_canreg()，它可以把读入的class类型为canreg的原始数据整理为各个变量的频数数据，我们给这个频数数据定义了一个类为‘fbswicd’。\n\nfbsw &lt;- count_canreg(data)\nclass(fbsw)\n\n[1] \"fbswicd\" \"list\"   \n\n\n这个函数还可以指定一些参数值从而实现对年龄、癌症分类、语言类型使用不同的分类方法。\n比如癌症分类方法，我们按照不同解剖学系统进行分类、大类或小类进行分类。\n\n# 指定癌症分类方法为system\nfbsw &lt;- count_canreg(data, cancer_type = \"system\")\n\n\n# 指定癌症分类方法为small，并指定输出语言为英语\nfbsw &lt;- count_canreg(data, cancer_type = \"small\")"
  },
  {
    "objectID": "qsight/2023-09-30-canregtools/index.html#统计指标计算",
    "href": "qsight/2023-09-30-canregtools/index.html#统计指标计算",
    "title": "R包canregtools：肿瘤登记可视化和自动化报告",
    "section": "5 统计指标计算",
    "text": "5 统计指标计算\n\n5.1 年龄标化率\n计算年龄标化率的函数为ageadjust()，可以基于不同标准人口计算年龄标化率，并基于不同方法估计可信区间。该函数主要有以下参数：\n\nageadjust(\n  count, #不同年龄组病例数\n  pop, #不同年龄组风险人口数\n  rate = NULL, #不同年龄组发病率\n  stdpop = NULL, #各年龄组标准人口数\n  method = \"gamma\", #估计可信区间的方法，选项为'gamma', 'normal'，'lognormal'\n  conf_level = 0.95, #设置可信区间水平, 范围为0-1， 0.95则输出95%可信区间\n  mp = 1e+05\n)\n\n举个具体的例子：\n\ncases &lt;- c(50, 60, 45, 70)\npop &lt;- c(1000, 1200, 1100, 900)\nspop &lt;- c(800, 1000, 1100, 900)\nageadjust(cases, pop, stdpop = spop, mp = 100000)\n\n$cases\n[1] 225\n\n$cr\n[1] 5357.143\n\n$cr_var\n[1] 1.27551e-05\n\n$cr_lci\n[1] 4679.972\n\n$cr_uci\n[1] 6104.765\n\n$asr\n[1] 5394.737\n\n$asr_var\n[1] 1.306556e-05\n\n$asr_lci\n[1] 4709.493\n\n$asr_uci\n[1] 6154.046\n\n\n这是一个向量化的函数，如果你使用tidyverse进行数据处理时，你可以把他放到mutate或reframe函数内使用。\n\n\n5.2 基于类canreg或fbswicd计算标化率\n我们把数据读入R以后被转换为’canreg’类，我可以直接基于’canreg’数据计算标化率。函数为create_asr()，该函数的参数如下：\n\ncreate_asr(\n  x, # 类为canreg或fbswicd的数据\n  ..., #指定输出的分类: year,sex,icd_cat\n  event = fbs, #指定计算年龄率的变量\n  pop = rks, # 指定人口数变量\n  agegrp = agegrp, #指定年龄分组变量\n  std = c(china, segi), #指定标准人口\n  mp = 1e+05, \n  decimal = 2, #输出小数位\n  show_var = FALSE, #是否输出方差\n  show_ci = FALSE, #是否输出可信区间\n  keep_sex_specific = FALSE #是否保留年龄别专属癌种值\n)\n\n基于canreg类数据计算标化率,同时也可以输出0-74岁累积率和35-64岁截缩率。\n\nasr &lt;- create_asr(data, year, sex, cancer) |&gt; \n  add_labels()\nasr\n\n# A tibble: 56 × 13\n    year sex   cancer site             icd10 no_cases    cr asr_cn2000 asr_wld85\n   &lt;int&gt; &lt;fct&gt; &lt;chr&gt;  &lt;fct&gt;            &lt;chr&gt;    &lt;int&gt; &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;\n 1  2016 男性  101    口腔和咽（除外鼻咽）…… C00-…       13  2.85       2.46      2.73\n 2  2016 男性  102    鼻咽             C11          7  1.54       1.37      1.16\n 3  2016 男性  103    食管             C15        157 34.5       29.0      30.6 \n 4  2016 男性  104    胃               C16        135 29.6       24.0      24.9 \n 5  2016 男性  105    结直肠肛门       C18-…       72 15.8       12.4      12.6 \n 6  2016 男性  106    肝脏             C22        180 39.5       31.7      31.8 \n 7  2016 男性  107    胆囊及其他       C23-…       16  3.51       2.74      2.7 \n 8  2016 男性  108    胰腺             C25         27  5.93       4.88      5.03\n 9  2016 男性  109    喉               C32         11  2.41       1.89      1.78\n10  2016 男性  110    气管、支气管、肺 C33-…      320 70.2       59.2      61.0 \n# ℹ 46 more rows\n# ℹ 4 more variables: truncr_cn2000 &lt;dbl&gt;, truncr_wld85 &lt;dbl&gt;, cumur &lt;dbl&gt;,\n#   prop &lt;dbl&gt;\n\n\n同样，也可以基于fbswicd类数据计算标化率。\n\nasr &lt;- create_asr(fbsw, year, sex, cancer) |&gt; \n  add_labels(lang = \"en\")\nasr\n\n# A tibble: 110 × 13\n    year sex   cancer site             icd10 no_cases    cr asr_cn2000 asr_wld85\n   &lt;int&gt; &lt;fct&gt; &lt;chr&gt;  &lt;fct&gt;            &lt;chr&gt;    &lt;int&gt; &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;\n 1  2016 Male  1      Lip              C00          0  0          0         0   \n 2  2016 Male  10     Esophagus        C15        157 34.5       29.0      30.6 \n 3  2016 Male  11     Stomach          C16        135 29.6       24.0      24.9 \n 4  2016 Male  12     Small Intestine  C17          3  0.66       0.51      0.55\n 5  2016 Male  13     Colon            C18         33  7.24       5.79      6.1 \n 6  2016 Male  14     Rectum           C19-…       38  8.34       6.43      6.36\n 7  2016 Male  15     Anus             C21          1  0.22       0.18      0.16\n 8  2016 Male  16     Liver            C22        180 39.5       31.7      31.8 \n 9  2016 Male  17     Gallbladder and… C23-…       16  3.51       2.74      2.7 \n10  2016 Male  18     Pancreas         C25         27  5.93       4.88      5.03\n# ℹ 100 more rows\n# ℹ 4 more variables: truncr_cn2000 &lt;dbl&gt;, truncr_wld85 &lt;dbl&gt;, cumur &lt;dbl&gt;,\n#   prop &lt;dbl&gt;"
  },
  {
    "objectID": "qsight/2023-09-30-canregtools/index.html#数据可视化",
    "href": "qsight/2023-09-30-canregtools/index.html#数据可视化",
    "title": "R包canregtools：肿瘤登记可视化和自动化报告",
    "section": "6 数据可视化",
    "text": "6 数据可视化\n\n6.1 绘制人口金字塔图\n绘图函数为draw_pyramid()，该函数的主要功能为绘制一个或多个人口金字塔，用于展示人口数据结构。该函数主要有以下参数：\n\ndraw_pyramid(\n  x, # 类为\"canreg\"或\"fbswicd\"的数据 \n  show_value = TRUE, #是否在人口金字塔上显示人口数\n  show_prop = TRUE,  #是否在人口金字塔上显示人口比例\n  left_axis = NULL, #设置人口金字塔左侧坐标轴值\n  right_axis = NULL, #设置人口金字塔右侧坐标轴值\n  axis_fm = \"g\", \n  axis_bm = \"\",\n  axis_bi = 3,\n  cgap = 0.3, # 人口金字塔的中间间隔宽度\n  cstep = 1, # 间隔1个条形显示人口金字塔\n  csize = 1, #设置字体大小，默认为1\n  labs = c(\"Males\", \"Ages\", \"Females\"), # 设置左中右坐标标签\n  gl = TRUE, # 是否显示竖型背景条\n  cadj = 0, # 调整标签位置\n  cols = c(\"#006400\", \"#b32134\"), # 设置人口金字塔条颜色\n  dens = c(-1, -1),\n  main = \"\", # 设置人口金字塔图的标题\n  grid = c(2, 3) #如果绘制多个图，设置显示方式，c(2,3) 设置为2行3列\n)\n\n\ndraw_pyramid(fbsw,\n             csize = 0.8,\n             cgap = 0.4,\n             cols = c(\"steelblue\", \"pink\"),\n             grid = c(1,1))\n\n\n\n\n\n\n\n\n如果不想显示人口金字塔人口数字可以，设置show_value = FALSE，不显示这些数据。\n\ndraw_pyramid(fbsw,\n             csize = 0.8,\n             cgap = 0.4,\n             show_value = FALSE,\n             cols = c(\"steelblue\", \"pink\"),\n             grid = c(1,1))\n\n\n\n\n\n\n\n\n\n\n6.2 绘制条形图\n肿瘤登记年报中经常会出现各种各样的条形图，该包通过draw_barchart()来绘制这种类型的图。该函数的参数如下：\n\nlibrary(dplyr)\nlibrary(tidyr)\nlibrary(showtext)\nshowtext_auto()\nasr &lt;- create_asr(data, event = fbs, sex, cancer) |&gt; \n  select(sex,cancer,asr_cn2000) |&gt; \n  filter(!cancer %in% c(60,61)) |&gt; \n  add_labels(lang=\"en\", label_type = \"abbr\") |&gt; \n  pivot_wider(names_from = sex, values_from = asr_cn2000) |&gt; \n  arrange(M)\n\ndraw_bar(list(asr$M),\n         cates = as.character(asr$site),\n         bar_side = 1,\n         label = c(\"男性\",\"女性\"))\n\n\n\n\n\n\n\n\n\ndraw_barchart(\n  data, #用于绘图的数据框\n  plot_var = cr, #用于绘图的变量\n  cate_var = icd_cat, #分类变量\n  group_var = year, #分组变量\n  side_var = sex,\n  topn = 10,\n  bar_side = 1,\n  nrow = 2,\n  ...\n)\n\n\nlibrary(dplyr)\nlibrary(showtext)\nshowtext_auto()\nasr1 &lt;- create_asr(data, event = fbs, sex, cancer) |&gt;\n  bind_rows(create_asr(data, event = fbs, cancer)) |&gt; \n  select(sex, cancer, asr_cn2000) |&gt; \n  mutate(type = \"发病率\")\nasr2 &lt;- create_asr(data, event = sws, sex, cancer) |&gt;\n  bind_rows(create_asr(data, event = sws, cancer)) |&gt; \n  select(sex, cancer, asr_cn2000) |&gt; \n  mutate(type = \"死亡率\") |&gt; \n  bind_rows(asr1) |&gt; \n  drop_total() |&gt; \n  drop_others() |&gt; \n  add_labels(label_type = \"abbr\") |&gt; \n  mutate(sex=as.character(sex))\n\ndraw_barchart(asr2,\n              plot_var = asr_cn2000,\n              cate_var = site,\n              group_var = type,\n              side_var = sex,\n              bar_side = 2,\n              grid = c(1, 3))\n\n\n\n\n\n\n\n\n\nasr2 |&gt; \n  filter(!sex == \"合计\") |&gt; \n  arrange(type,sex,cancer) |&gt; \ndraw_barchart(\n              plot_var = asr_cn2000,\n              cate_var = site,\n              group_var = type,\n              side_var = sex,\n              grid = c(1, 1))"
  },
  {
    "objectID": "qsight/2021-10-29-ICDO3编码/index.html",
    "href": "qsight/2021-10-29-ICDO3编码/index.html",
    "title": "什么是ICD-O3编码？",
    "section": "",
    "text": "ICD-O3 （International Classification of Disease for Oncology third edition，ICD-O3）是国际疾病分类肿瘤学专辑第三版。它是一个既有解剖学部位、又有形态学编码系统的双重分类体系，目前被广泛应用于肿瘤随访登记的数据收集系统和医疗实践中。\n它于1976年被WHO正式发布并应用（ICD-O1），而分别于1990年（ICD-O2）和2000年（ICD-O3）进行了两次较大的版本更新，而ICDO3也于2019年5月份更新到了第二版（ICD-O3.2），并被推荐应用到肿瘤登记工作中。而ICD-O工作组也正着手ICD-O4的撰写工作，预计于2023年8月份完成，届时ICD-O编码的形态学编码也会增加至5位。\n一套完整的ICDO3编码由四部分组成，共10个数字或字符，分别为：解剖学部位编码（4位）；形态学编码（4位）；动态编码（1位）；等级或分化程度编码（1位）。每一部分编码代表不同的含义：\n参考下图图解。\n\n\n\nICDO3编码图解,肿瘤登记,分类与编码\n\n\n\n0.1 解剖学部位编码\n解剖学部位编码共4位，以大写字母”C”开头，用以描述肿瘤的原发部位，如（C15.1），字母C后面两位数字描述的肿瘤原发部位的主要部位信息，小数点后面一位数字描述肿瘤的亚部位。比如：C15.1描述肿瘤发生于食管（C15）的食管胸部（C15.1）。编码范围为：C00-C80。\n\n\n0.2 形态学编码\n形态学编码共4位，以大写字母M开头，用以描述肿瘤的细胞学类型和生物学活性，即肿瘤本身的特性。M后面的前3位数字代表组织或细胞类型，例如：809-811代表基底细胞、974代表肥大细胞、817代表干细胞；M后的第4位数字代表形态或性质。\n\n\n0.3 动态编码\n动态编码共1位数字，描述肿瘤的良、恶性，用”/0”、“/1”、“/2”、“/3”、“/6”、“/9”来表示，分别代表不同良恶性信息，具体如下：\n\n/0: 表示良性肿瘤；\n/1: 表示良性或恶性未肯定（交界恶性）；\n/2: 表示原位癌；\n/3: 表示原发部位的恶性肿瘤；\n/6: 表示继发部位的恶性肿瘤；\n/9: 表示恶性肿瘤无法区分原发与否。\n\n\n\n0.4 组织学等级或分化程度编码\n等级或分化程度编码共1位数字，用以描述肿瘤的等级或分化程度，用1、2、3、4、5、6、7、8、9表示，具体意义如下：\n\n\n\n\n\n\n\n编码\n意义\n\n\n\n\n1\nI级：高分化或已分化NOS\n\n\n2\nII级：中分化或已中等分化\n\n\n3\nIII级：低分化\n\n\n4\nIV级：未分化或间变\n\n\n5\nT细胞\n\n\n6\nB细胞/前B细胞/B前体细胞(仅用淋巴瘤白血病)\n\n\n7\n无标记淋巴细胞或非T/非B细胞(M9590-M9989)\n\n\n8\nNK细胞\n\n\n9\n等级或分化程度未确定，未指出或不适用的细胞类型未确定，未指出或不适用的\n\n\n\n\n\n0.5 举例\n\nC15.9,M8070/32 表示中分化食管鳞状细胞癌\nC16.0,M8140/33 表示低分化胃贲门腺癌\nC16.3,M8490/33 表示胃窦后壁溃疡型印戒细胞癌\n\n\n\n0.6 编码的意义\n\n标准化：ICDO编码的推行和应用有助于疾病名称的标准化、格式化，也是医院信息管理等临床信息系统应用的基础；\n共享性：编码使得疾病信息得到最大范围的共享；\n利于管理：编码是医院医疗和管理的依据。\n\n\n\n\n\n\n\n  \n    \n  \n  \n    陈 琼\n       博士 \n       副主任医师 \n    他从事肿瘤登记与人群流行病学研究，编写肿瘤登记年报，并开发和维护个人网站。他撰写博文，分享数据分析方法、可视化技巧和自动化报告解决方案，同时学习 R 语言，开发 R 包，不断探索高效的数据处理与展示方式。 🚀\n    \n      \n        \n      \n      \n        \n      \n      \n        \n      \n    \n  \n\n 回到顶部"
  },
  {
    "objectID": "qsight/2022-02-23-ggplot2-lineplot/index.html",
    "href": "qsight/2022-02-23-ggplot2-lineplot/index.html",
    "title": "利用ggplot2制作折线图或者趋势图，反映变化趋势",
    "section": "",
    "text": "折线图是由许多的资料点用直线连接形成的统计图表，若看多个资料点之间的连线，会是折线。折线图常用于显示数据在一个连续的时间间隔或者时间跨度上或再或者在一个有序类别上的变化，它的特点是反映数据随时间或有序类别而变化的趋势。\n折线图用横轴表示时间或者有序类别，用纵轴表示数值，用点来表示各个数据的位置，用线连接各个数据点。\n折线图可以反映数据变化的规律，比如数据是逐渐增高还是降低的、增高或者降低的速度如何？是周期的变化还是一过性的变化，变化周期内的峰值是多少？这些数据的特征都可以通过折线图表达或展示出来。\n今天我们要绘制的线图就是要展示恶性肿瘤的发病率随年龄变化的趋势，用来展示恶性肿瘤发病率随着年龄变化的一些特征，如恶性肿瘤的高发年龄段是多少？恶性肿瘤的发病率从哪个年龄段开始快速上升的？出现恶性肿瘤发病率峰值的年龄段是多少？"
  },
  {
    "objectID": "qsight/2022-02-23-ggplot2-lineplot/index.html#什么是折线图",
    "href": "qsight/2022-02-23-ggplot2-lineplot/index.html#什么是折线图",
    "title": "利用ggplot2制作折线图或者趋势图，反映变化趋势",
    "section": "",
    "text": "折线图是由许多的资料点用直线连接形成的统计图表，若看多个资料点之间的连线，会是折线。折线图常用于显示数据在一个连续的时间间隔或者时间跨度上或再或者在一个有序类别上的变化，它的特点是反映数据随时间或有序类别而变化的趋势。\n折线图用横轴表示时间或者有序类别，用纵轴表示数值，用点来表示各个数据的位置，用线连接各个数据点。\n折线图可以反映数据变化的规律，比如数据是逐渐增高还是降低的、增高或者降低的速度如何？是周期的变化还是一过性的变化，变化周期内的峰值是多少？这些数据的特征都可以通过折线图表达或展示出来。\n今天我们要绘制的线图就是要展示恶性肿瘤的发病率随年龄变化的趋势，用来展示恶性肿瘤发病率随着年龄变化的一些特征，如恶性肿瘤的高发年龄段是多少？恶性肿瘤的发病率从哪个年龄段开始快速上升的？出现恶性肿瘤发病率峰值的年龄段是多少？"
  },
  {
    "objectID": "qsight/2022-02-23-ggplot2-lineplot/index.html#今天我们用到哪些r包",
    "href": "qsight/2022-02-23-ggplot2-lineplot/index.html#今天我们用到哪些r包",
    "title": "利用ggplot2制作折线图或者趋势图，反映变化趋势",
    "section": "2 今天我们用到哪些R包？",
    "text": "2 今天我们用到哪些R包？\n今天我们主要用来绘图的包还是ggplot2包，用于组合图的R包是cowplot包，用于数据处理的包是dplyr包。\n首先，安装这些包\n# 安装ggplot2包\ninstall.packages(\"ggplot2\")\n# 安装cowplot包\ninstall.packages(\"cowplot\")\n# 安装dplyr包\ninstall.packages(\"dplyr\")\n把这些要用到的R包加载到工作环境中\n\nlibrary(ggplot2)\nlibrary(cowplot)\nlibrary(dplyr)"
  },
  {
    "objectID": "qsight/2022-02-23-ggplot2-lineplot/index.html#数据处理",
    "href": "qsight/2022-02-23-ggplot2-lineplot/index.html#数据处理",
    "title": "利用ggplot2制作折线图或者趋势图，反映变化趋势",
    "section": "3 数据处理",
    "text": "3 数据处理\n我们把需要用到的数据读取到向量中，我们的数据以csv的格式存放，我们可以基础包的read.csv函数来读取。\n\ndata&lt;-read.csv(\"age_incidence.csv\")\n\n我们再来看看数据结构是什么样的\n\nhead(data)\n\n  area  sex variable agegrp\n1    1 合计    11.48      0\n2    1 合计     9.50      1\n3    1 合计     8.11      5\n4    1 合计     9.78     10\n5    1 合计     9.65     15\n6    1 合计    14.78     20\n\n\n可以看出读入的数据框里有四个变量，分别为area,sex,variable,agegrp 分别为地区、性别、发病率和年龄组数据，其中area的值为1,2,3分别代表全省合计、城市地区和农村地区，agegrp的值0、1、5、10、15、20、25、30、35、40、45、50、55、60、65、70、75、80、85分别为年龄组范围。\n然后，我们把area和agegrp两个变量都转化为因子，并加上标签，标签的值为最终显示在图上的值。\n\ndata &lt;- data%&gt;%mutate(\n  area=factor(area,labels=c(\"全省合计\",\"城市地区\",\"农村地区\")),\n  agegrp=factor(agegrp,labels = c(\"0~\",\"1~\",\"5~\",\"10~\",\"15~\",\"20~\",\"25~\",\"30~\",\"35~\",\"40~\",\"45~\",\"50~\",\"55~\",\"60~\",\"65~\",\"70~\",\"75~\",\"80~\",\"85~\")))"
  },
  {
    "objectID": "qsight/2022-02-23-ggplot2-lineplot/index.html#利用ggplot2作图",
    "href": "qsight/2022-02-23-ggplot2-lineplot/index.html#利用ggplot2作图",
    "title": "利用ggplot2制作折线图或者趋势图，反映变化趋势",
    "section": "4 利用ggplot2作图",
    "text": "4 利用ggplot2作图\nggplot2包作折线图主要用的是geom_line()函数，我们先来一个示例，先作一个单图，把data数据框里的全省合计数据提取出来制作一个年龄别发病率的折线图。\n\n# 利用dplyr包filter函数提取数据\ndata%&gt;%filter(area==\"全省合计\")%&gt;%\n  ggplot(mapping = aes(x=agegrp))+\n# 利用 geom_line函数添加折线图图层\n  geom_line(mapping=aes(y=variable,group=factor(sex),color=factor(sex)),stat = \"identity\",size=1.3)+\n# 利用 annotate语句添加图中注释\nannotate(\"text\", x = 10, y = 3000, label = \"全省合计\",size=6,fontface=\"bold\")+\n# 设置x轴标题\n    xlab(\"年龄组\")+\n# 设置y轴标题\n  ylab(\"年龄别发病率(1/10万)\")+\n# 设置y轴起始刻度和终止刻度，以间隔数值\n  scale_y_continuous(breaks = c(500,1000,1500, 2000,2500, 3000),limits = c(0,3000))+\n# 使用gpplot2经典图样式\ntheme_classic()+\n# 对样式进行个性化调整\n  theme(\n    # 把x轴标签调整为90度\n    axis.text.x = element_text(angle = 90, hjust = 1),\n    # 设置图例标题为空\n    legend.title=element_blank(),\n    # 设置图例的位置在左上角\n    legend.position = c(0.15,0.9),\n    # 设置图例的文字大小为10号\n    legend.text=element_text(size=10),\n    # 设置图标题位置和文字大小\n    plot.caption = element_text(hjust=0.5, size=15),\n    axis.text=element_text(size=10),\n    # 设置轴标题文字大小和文字加粗\n    axis.title=element_text(size=12,face=\"bold\")\n    )-&gt;p1\n\nWarning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.\nℹ Please use `linewidth` instead.\n\n\nWarning: A numeric `legend.position` argument in `theme()` was deprecated in ggplot2\n3.5.0.\nℹ Please use the `legend.position.inside` argument of `theme()` instead.\n\n# 把作好的图存入向量p1\nggsave(\"lineplot.png\")\n\nSaving 7 x 5 in image\n\n\n现在我们来看看存入向量p1的图是什么样的吧!\n ## 在gpplot2语句中加入facet_wrap或者facet_grid语句制作组合图\n如果我们想分别展示不同地区的发病率随着年龄的变化趋势，那么我们可以把area这个变量放入facet_wrap函数里以按照area这个变量分组作图，并展示出来。\n另外，需要注意的是，用了facet_wrap函数就不用加annotate注释语句了，因为facet_wrap会自动加上。\n\n# 这里我们就不用filter函数提取数据了\ndata%&gt;%\n  ggplot(mapping = aes(x=agegrp))+\n  geom_line(mapping=aes(y=variable,group=factor(sex),color=factor(sex)),stat = \"identity\",size=1.3)+\n  facet_wrap(~area)+\n  xlab(\"年龄组\")+\n  ylab(\"年龄别发病率(1/10万)\")+\n  scale_y_continuous(breaks = c(500,1000,1500, 2000,2500, 3000),limits = c(0,3000))+\ntheme_classic()+\n  theme(axis.text.x = element_text(angle = 90, hjust = 1))+\n  theme(legend.title=element_blank(),\n        legend.position = c(0.10,0.85),\n        legend.text=element_text(size=10),\n        plot.caption = element_text(hjust=0.5, size=15),\n        strip.text = element_text(size=14,face=\"bold.italic\"),\n        strip.background = element_rect(color=\"white\",size=0),\n        axis.text=element_text(size=10),\n        axis.title=element_text(size=12,face=\"bold\")\n        )-&gt;p2\n\nWarning: The `size` argument of `element_rect()` is deprecated as of ggplot2 3.4.0.\nℹ Please use the `linewidth` argument instead.\n\n\n现在不同地区的年龄别发病率图已经存入向量p2，现在我们p2展示出来，看看是什么样的？\n\np2\n\n\n\n\n\n\n\n\n注意：facet_wrap()函数还提供了一个参数就 scales=“fixed” fixed是默认的参数值，意思是所有图共享一个统一的坐标轴刻度，但是还可以选择scales=“free”，这个每个图根据自身值的范围自动选择坐标轴刻度范围。\n但是因为我们已经在前面的语句中已经通过scale_y_continuous语句设置了坐标轴刻度，所以加入scales=“free”选项，只会再每个图上再单独显示出来坐标轴，但是刻度范围还是按照scale_y_continuous语句设置的来显示。\n我们再来验证一下是不是这样的？\n\ndata%&gt;%\n  ggplot(mapping = aes(x=agegrp))+\n  geom_line(mapping=aes(y=variable,group=factor(sex),color=factor(sex)),stat = \"identity\",size=1.3)+\n  # 根前面的程序块里唯一不同的是加入了scales=\"free\"参数\n  facet_wrap(~area,scales=\"free\")+\n  xlab(\"年龄组\")+\n  ylab(\"年龄别发病率(1/10万)\")+\n  scale_y_continuous(breaks = c(500,1000,1500, 2000,2500, 3000),limits = c(0,3000))+\ntheme_classic()+\n  theme(axis.text.x = element_text(angle = 90, hjust = 1))+\n  theme(legend.title=element_blank(),\n        legend.position = c(0.10,0.85),\n        legend.text=element_text(size=10),\n        plot.caption = element_text(hjust=0.5, size=15),\n        strip.text = element_text(size=14,face=\"bold.italic\"),\n        strip.background = element_rect(color=\"white\",size=0),\n        axis.text=element_text(size=10),\n        axis.title=element_text(size=12,face=\"bold\")\n        )-&gt;p3\n# 直接显示p3向量\np3"
  },
  {
    "objectID": "qsight/2022-02-23-ggplot2-lineplot/index.html#小结",
    "href": "qsight/2022-02-23-ggplot2-lineplot/index.html#小结",
    "title": "利用ggplot2制作折线图或者趋势图，反映变化趋势",
    "section": "5 小结",
    "text": "5 小结\n今天我们介绍了折线图的概念，以及如何利用ggplot2包绘制折线图，大家可以根据自己的审美观点修改上面参数和设置，绘制自己的折线图吧。\n如果你对本篇文章有何意见或建议的话，请在底部的留言框中留言吧！"
  },
  {
    "objectID": "qsight/2021-01-16-语言课/index.html",
    "href": "qsight/2021-01-16-语言课/index.html",
    "title": "女儿的语言课",
    "section": "",
    "text": "《春》：春天的花儿红艳艳，春天的草儿绿油油。 春天的小鸟真机灵，春天的微笑到处有。 春天的风景美如云，春天的快乐数不清。\n《夏》：夏天到，怎知道，轰隆轰隆雷公闹。 夏天到，怎知道，咕呱咕呱青蛙叫。 夏天到，怎知道，蜻蜓跳舞荷花笑。 夏天到，怎知道，头上汗珠往下掉。"
  },
  {
    "objectID": "qsight/2021-01-16-语言课/index.html#四季之歌",
    "href": "qsight/2021-01-16-语言课/index.html#四季之歌",
    "title": "女儿的语言课",
    "section": "",
    "text": "《春》：春天的花儿红艳艳，春天的草儿绿油油。 春天的小鸟真机灵，春天的微笑到处有。 春天的风景美如云，春天的快乐数不清。\n《夏》：夏天到，怎知道，轰隆轰隆雷公闹。 夏天到，怎知道，咕呱咕呱青蛙叫。 夏天到，怎知道，蜻蜓跳舞荷花笑。 夏天到，怎知道，头上汗珠往下掉。"
  },
  {
    "objectID": "qsight/2021-01-16-语言课/index.html#颠倒歌",
    "href": "qsight/2021-01-16-语言课/index.html#颠倒歌",
    "title": "女儿的语言课",
    "section": "2 颠倒歌",
    "text": "2 颠倒歌\n太阳从西往东落， 听我唱支颠倒歌， 天上打雷没有响， 地下石头滚上坡， 水里的骆驼会下蛋， 山上鲤鱼搭成窝。 腊月酷热汗直流， 六月爆冷打哆嗦。 姐姐在房中头梳手， 出门在外把驴驼。"
  },
  {
    "objectID": "qsight/2021-01-16-语言课/index.html#小老鼠的梦",
    "href": "qsight/2021-01-16-语言课/index.html#小老鼠的梦",
    "title": "女儿的语言课",
    "section": "3 小老鼠的梦",
    "text": "3 小老鼠的梦\n小老鼠做了一个甜甜的梦，它梦见世界上所有的猫变了模样，小猫的脸变成了香香的奶油蛋糕，小猫的眼睛变成了紫色的葡萄，小猫的嘴巴变成了美味的香肠。 自己变成了鼠大王，神气的走在大街上，一边走还一边说：“老鼠怕猫，那是谣传，一只小猫有啥可怕？壮起鼠胆，把猫打翻，千古偏见，全都推翻！”"
  },
  {
    "objectID": "qsight/2021-01-16-语言课/index.html#八只小狗抬花轿",
    "href": "qsight/2021-01-16-语言课/index.html#八只小狗抬花轿",
    "title": "女儿的语言课",
    "section": "4 八只小狗抬花轿",
    "text": "4 八只小狗抬花轿\n八只小狗抬花轿，老虎坐轿把扇摇。 一只小狗摔一跤，老虎对它踢一脚。 小狗气得汪汪叫，老虎得意胡子翘。 小狗抬轿到山腰，想个办法可真妙。 一二三，往上抛，老虎摔了一大跤。"
  },
  {
    "objectID": "qsight/2021-01-16-语言课/index.html#主持稿聪明屋",
    "href": "qsight/2021-01-16-语言课/index.html#主持稿聪明屋",
    "title": "女儿的语言课",
    "section": "5 主持稿：聪明屋",
    "text": "5 主持稿：聪明屋\nA：聪明屋里乐趣多； B：请你千万别错过； A：故事葫芦，智力快车； B：让你越看越快乐； A：电视机前的大朋友们； B：电视机前的小朋友们； 合：大家好； B：欢迎走进聪明屋； A：我是主持人… B：我是主持人… 合：别再犹豫，别再等待，让我们一起打开快乐的宝典吧！"
  },
  {
    "objectID": "qsight/2021-01-16-语言课/index.html#童谣小弟和小猫",
    "href": "qsight/2021-01-16-语言课/index.html#童谣小弟和小猫",
    "title": "女儿的语言课",
    "section": "6 童谣《小弟和小猫》",
    "text": "6 童谣《小弟和小猫》\n我家有个小弟弟，聪明又淘气，每天爬上又爬下，弄得满头满脸都是泥。妈妈叫他来洗澡，装没听见他就跑；爸爸拿镜子把他照，他闭上眼睛咯咯地笑。 姐姐抱来个小花猫，拍拍爪子舔舔毛，两眼一眯：“喵…喵…，谁跟我玩，谁把我抱？”弟弟伸出小黑手，小猫连忙往后跳，胡子一撅头一摇：“不妙，不妙， 太脏太脏我不要！”姐姐听了哈哈笑，爸爸妈妈皱眉毛，小弟弟听了真害臊：“妈，妈！快给我洗个澡！”"
  },
  {
    "objectID": "qsight/2021-01-16-语言课/index.html#绕口令稀奇",
    "href": "qsight/2021-01-16-语言课/index.html#绕口令稀奇",
    "title": "女儿的语言课",
    "section": "7 绕口令《稀奇》",
    "text": "7 绕口令《稀奇》\n稀奇稀奇真稀奇， 麻雀踩死老母鸡， 蚂蚁身长三尺六， 八十岁的老头坐在摇篮里。"
  },
  {
    "objectID": "qsight/2021-01-16-语言课/index.html#童谣表演小熊过桥",
    "href": "qsight/2021-01-16-语言课/index.html#童谣表演小熊过桥",
    "title": "女儿的语言课",
    "section": "8 童谣表演《小熊过桥》",
    "text": "8 童谣表演《小熊过桥》\n小竹桥，摇啊摇， 有只小熊来过桥。 走不稳，站不牢， 走到桥上心乱跳。 头上乌鸦哇哇叫， 桥下流水哗哗笑。 “妈妈，妈妈你来呀，快把小熊报过桥。” 河里鲤鱼跳出水，对着小熊大声叫： “小熊，小熊不要怕，眼睛向着前面瞧！要勇敢，向前跑！” 小熊过桥回头笑， 鲤鱼乐得为尾巴摇。"
  },
  {
    "objectID": "qsight/2021-01-16-语言课/index.html#好言好语",
    "href": "qsight/2021-01-16-语言课/index.html#好言好语",
    "title": "女儿的语言课",
    "section": "9 《好言好语》",
    "text": "9 《好言好语》\n祝小朋友，吃的好，睡的好，玩的好！祝爸爸妈妈，事业好，工作好，家庭好！祝爷爷奶奶，生活好，身体好，心情好！祝所有的朋友，上好，下好，去好，来好，天好，地好， 人好，运好，好上加好，好的不得了！"
  },
  {
    "objectID": "qsight/2021-01-16-语言课/index.html#跳蚤",
    "href": "qsight/2021-01-16-语言课/index.html#跳蚤",
    "title": "女儿的语言课",
    "section": "10 《跳蚤》",
    "text": "10 《跳蚤》\n从前，有一只大跳蚤，不知怎么跑到了黄牛的鼻子尖儿上。他轻轻地抖动了一下后退儿，又用前腿儿擦了擦嘴唇儿，然后郑重的宣布：“我确信，在这个世界上没有比我更大的动物了！” 正巧，一只小蜜蜂从他身边飞过，连忙说：“哎呦，我的小乖乖，你也不看看，你是站在什么地方？” 小跳蚤四处看了看，“嗯？嗯？嗯！从我这个角度看，这是一座高山。” 就在这时，大黄牛突然打了一个大喷嚏，“啊–！嚏”一下子就把小跳蚤喷到了地上，吓得他抱头大叫：“哎呦，不好啦！地震啦！快跑呀！” 一旁的小蜜蜂忍不住大笑起来：“哈哈！黄牛打个喷嚏你就当地震了！真是个没见识的小东西，这世界上比你大的动物可多了去了！”"
  },
  {
    "objectID": "qsight/2021-01-16-语言课/index.html#绕口令炖豆腐",
    "href": "qsight/2021-01-16-语言课/index.html#绕口令炖豆腐",
    "title": "女儿的语言课",
    "section": "11 绕口令《炖豆腐》",
    "text": "11 绕口令《炖豆腐》\n你会炖我的冻豆腐，就来炖我的冻豆腐， 你不会炖我的冻豆腐，别胡炖乱炖炖坏了我的冻豆腐。"
  },
  {
    "objectID": "qsight/2022-02-15-update-package/index.html",
    "href": "qsight/2022-02-15-update-package/index.html",
    "title": "R如何安装并更新R包？",
    "section": "",
    "text": "R包是按照一个格式定义的R函数、数据和编译代码的集合。当你安装了一个包的时候，它允许您使用在基本R函数集中不可用的命令。存储软件包的目录称为库(library)。R附带一套标准的软件包。"
  },
  {
    "objectID": "qsight/2022-02-15-update-package/index.html#什么是r包",
    "href": "qsight/2022-02-15-update-package/index.html#什么是r包",
    "title": "R如何安装并更新R包？",
    "section": "",
    "text": "R包是按照一个格式定义的R函数、数据和编译代码的集合。当你安装了一个包的时候，它允许您使用在基本R函数集中不可用的命令。存储软件包的目录称为库(library)。R附带一套标准的软件包。"
  },
  {
    "objectID": "qsight/2022-02-15-update-package/index.html#如何安装r包",
    "href": "qsight/2022-02-15-update-package/index.html#如何安装r包",
    "title": "R如何安装并更新R包？",
    "section": "2 如何安装R包？",
    "text": "2 如何安装R包？\n在了解如何安装R包之前，你需要了解在哪里可以找到R包。R社区大部分的R包可以在CRAN上找到，也有部分R包由开发者共享到github上。CRAN上的R包储存在不同地区的CRAN镜像上，在安装R包的时候，你可以选择离自己较近的CRAN镜像进行安装，这样安装速度会快一些。\n如果想在安装CRAN上的R包，可以使用install.packages()命令\n# 安装流行的ggplot2包\ninstall.packages(\"ggplot2\")\n如果想安装开发者共享到github上的R包，则需要使用devtools进行安装\n# 首先安装devtools包\ninstall.packages(\"devtools\")\n# 使用devtools安装github上的R包\ndevtools::install_github(\"Hemken/SASmarkdown\")\n# 或者另外一种方式\nlibrary(\"devtools\")\ninstall_github(\"Hemken/SASmarkdown\")\n如果提前从CRAN上下载的R包存储在本地，也可以通过install.packages命令从本地安装R包\ninstall.packages('ggplots', repos = \"file:///tmp/ryantester\")"
  },
  {
    "objectID": "qsight/2022-02-15-update-package/index.html#如何使用r包",
    "href": "qsight/2022-02-15-update-package/index.html#如何使用r包",
    "title": "R如何安装并更新R包？",
    "section": "3 如何使用R包？",
    "text": "3 如何使用R包？\n一旦R包被安装之后，每次使用的时候只需要把它加载到目前的工作空间即可。加载R包的命令的有两个library()和require()命令\n# 加载SASmarkdown包\nlibrary(\"SASmarkdown\")\n#\nrequire(\"SASmarkdown\")"
  },
  {
    "objectID": "qsight/2022-02-15-update-package/index.html#我都安装了哪些包",
    "href": "qsight/2022-02-15-update-package/index.html#我都安装了哪些包",
    "title": "R如何安装并更新R包？",
    "section": "4 我都安装了哪些包？",
    "text": "4 我都安装了哪些包？\n如果你想用一个包，但是不确定是否已经安装，你可以installed.packages()命令查看一下都安装了哪些包。\n# 查看安装了哪些包\ninstalled.packages()"
  },
  {
    "objectID": "qsight/2022-02-15-update-package/index.html#更新r包",
    "href": "qsight/2022-02-15-update-package/index.html#更新r包",
    "title": "R如何安装并更新R包？",
    "section": "5 更新R包",
    "text": "5 更新R包\n# 可以利用old.packages() 查看哪些包有更新的内容\nold.packages()\n# 更新所有可以更新的R包\nupdate.packages()\n# 更新所有可以更新的R包强制更新\nupdate.packages(ask = FALSE)"
  },
  {
    "objectID": "qsight/2010-06-03-SAS-export/index.html",
    "href": "qsight/2010-06-03-SAS-export/index.html",
    "title": "SAS访问外部数据文件",
    "section": "",
    "text": "SAS访问外部数据文件有四种方法，分别为： 1. 通过IMPORT过程 1. 通过libname语句和库引擎 1. 通过Access过程 1. 通过ODBC或者远程软件平台。 这里做个读书笔记，备忘。 ## IMPORT过程 语法和选项说明："
  },
  {
    "objectID": "qsight/2010-06-03-SAS-export/index.html#access过程",
    "href": "qsight/2010-06-03-SAS-export/index.html#access过程",
    "title": "SAS访问外部数据文件",
    "section": "1 ACCESS过程：",
    "text": "1 ACCESS过程：\nACCESS过程对外部数据文件的访问和读写，必须通过两步来完成：\n第一步：创建访问描述器 access descriptor.\n第二步：创建基于外部数据文件的数据视窗 view.\n创建访问描述器：语句格式：\nProc Access dbms=dbf|xls；\ncreate libref.membername.access;\nrequired database description statements;\noptional editing statements;\nrun;\n实例：\nproc access dbms=xls;\ncreate work.cyst.access;\npath=‘d:\\data\\cyst.xls’；\ngetnames=yes;\nscantype=yes;\nlist all;\nrun;\n创建数据视窗view：\nproc access dbms=dbf | xls  accdesc=libref.access-descriptor;\ncreate   libref.membername.view;\nselect    column-list;\noptional editing statements;\nrun;\n实例：\nproc access dbms=xls   accdesc=work.cyst;\ncreate work.aaa.view;\nselect all;\nlist view;\nrun;"
  },
  {
    "objectID": "qsight/2022-02-21-survminer-ggforest/index.html",
    "href": "qsight/2022-02-21-survminer-ggforest/index.html",
    "title": "利用survminer包ggforest函数制作用森林图，直观化展示比值比数据！",
    "section": "",
    "text": "森林图是在平面直角坐标系中，以一条垂直的无效线（横坐标刻度为1或0）为中心，用平行于横轴的多条线段描述了每个被纳入研究的效应量和可信区间（confidence interval，CI），用一个棱形（或其它图形）描述了多个研究合并的效应量及可信区间。它非常简单和直观地描述了Meta分析的统计结果，是Meta分析中最常用的结果表达形式。"
  },
  {
    "objectID": "qsight/2022-02-21-survminer-ggforest/index.html#什么是森林图",
    "href": "qsight/2022-02-21-survminer-ggforest/index.html#什么是森林图",
    "title": "利用survminer包ggforest函数制作用森林图，直观化展示比值比数据！",
    "section": "",
    "text": "森林图是在平面直角坐标系中，以一条垂直的无效线（横坐标刻度为1或0）为中心，用平行于横轴的多条线段描述了每个被纳入研究的效应量和可信区间（confidence interval，CI），用一个棱形（或其它图形）描述了多个研究合并的效应量及可信区间。它非常简单和直观地描述了Meta分析的统计结果，是Meta分析中最常用的结果表达形式。"
  },
  {
    "objectID": "qsight/2022-02-21-survminer-ggforest/index.html#实现森林图的方法有哪些",
    "href": "qsight/2022-02-21-survminer-ggforest/index.html#实现森林图的方法有哪些",
    "title": "利用survminer包ggforest函数制作用森林图，直观化展示比值比数据！",
    "section": "2 实现森林图的方法有哪些？",
    "text": "2 实现森林图的方法有哪些？\n在R语言里，实现森林图的方法有很多，比如forestplot包，ggforestplot包，以及survminer包等都可以，当然也可以利用ggplot2包实现更自由的绘制森林图。\n今天我们主要讲讲利用survminer包的ggforest函数绘制森林图\n这个包有个优势就是可以直接利用模型拟合输出的结果直接输出森林图，不用另外单独准备数据。比如我们可以用survival包来做预后的影响因素分析，然后利用survminer包里的ggforest函数读取survival包拟合的模型结果绘制森林图。"
  },
  {
    "objectID": "qsight/2022-02-21-survminer-ggforest/index.html#如何安装survminer包",
    "href": "qsight/2022-02-21-survminer-ggforest/index.html#如何安装survminer包",
    "title": "利用survminer包ggforest函数制作用森林图，直观化展示比值比数据！",
    "section": "3 如何安装survminer包？",
    "text": "3 如何安装survminer包？\n照例两种方式，要么从R CRAN的不同镜像上安装，要么从github上安装。\n第一种方式：从CRAN镜像上安装\ninstall.packages(\"survminer\")\n第二种方式：从github上安装\n# 首先判断运行环境里是否安装了devtools包，如果没有安装的话，需要先安装devtools包\nif(!require(devtools)) install.packages(\"devtools\")\n# 利用devtools从github上安装survminer包\ndevtools::install_github(\"kassambara/survminer\", build_vignettes = FALSE))"
  },
  {
    "objectID": "qsight/2022-02-21-survminer-ggforest/index.html#准备数据",
    "href": "qsight/2022-02-21-survminer-ggforest/index.html#准备数据",
    "title": "利用survminer包ggforest函数制作用森林图，直观化展示比值比数据！",
    "section": "4 准备数据",
    "text": "4 准备数据\n加载survival包时，自动加载了colon数据框，我们就可以利用这个数据来拟合预后风险。\n首先加载survival包，并查看一下colon数据框的基本情况\n\n# 加载dplyr包进行数据处理\nlibrary(dplyr)\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\nlibrary(survival)\n# 看下colon数据的结构\nhead(colon)\n\n  id study      rx sex age obstruct perfor adhere nodes status differ extent\n1  1     1 Lev+5FU   1  43        0      0      0     5      1      2      3\n2  1     1 Lev+5FU   1  43        0      0      0     5      1      2      3\n3  2     1 Lev+5FU   1  63        0      0      0     1      0      2      3\n4  2     1 Lev+5FU   1  63        0      0      0     1      0      2      3\n5  3     1     Obs   0  71        0      0      1     7      1      2      2\n6  3     1     Obs   0  71        0      0      1     7      1      2      2\n  surg node4 time etype\n1    0     1 1521     2\n2    0     1  968     1\n3    0     0 3087     2\n4    0     0 3087     1\n5    0     1  963     2\n6    0     1  542     1"
  },
  {
    "objectID": "qsight/2022-02-21-survminer-ggforest/index.html#首先我们对colon数据预处理一下",
    "href": "qsight/2022-02-21-survminer-ggforest/index.html#首先我们对colon数据预处理一下",
    "title": "利用survminer包ggforest函数制作用森林图，直观化展示比值比数据！",
    "section": "5 首先我们对colon数据预处理一下",
    "text": "5 首先我们对colon数据预处理一下\n我们对sex变量和differ变量因子化，并增加中文值标签。\n如果我们想在森林图里显示交互作用项，那么就需要提前处理数据，比如我们想看surg和nodes的交互作用，我们可以把两者的相乘项加入模型里。\n\n# 预处理colon数据框\ncolon &lt;- colon%&gt;%\n  mutate(sex=factor(sex, labels = c(\"女性\", \"男性\")),\n         differ=factor(differ,labels = c(\"高分化\", \"中分化\", \"低分化\")),\n         # 为模型拟合准备交互项\n         interaction=surg*nodes,\n         surg= factor(surg,label=c(\"非手术组\",\"手术组\"))\n         )"
  },
  {
    "objectID": "qsight/2022-02-21-survminer-ggforest/index.html#利用colon数据来拟合预后风险",
    "href": "qsight/2022-02-21-survminer-ggforest/index.html#利用colon数据来拟合预后风险",
    "title": "利用survminer包ggforest函数制作用森林图，直观化展示比值比数据！",
    "section": "6 利用colon数据来拟合预后风险",
    "text": "6 利用colon数据来拟合预后风险\n\nmodel &lt;- coxph(Surv(time, status) ~ sex +  differ + surg + nodes + interaction, data = colon )\nsummary(model)\n\nCall:\ncoxph(formula = Surv(time, status) ~ sex + differ + surg + nodes + \n    interaction, data = colon)\n\n  n= 1776, number of events= 876 \n   (82 observations deleted due to missingness)\n\n                  coef exp(coef)  se(coef)      z Pr(&gt;|z|)    \nsex男性      -0.094440  0.909883  0.068029 -1.388   0.1651    \ndiffer中分化 -0.030810  0.969660  0.116865 -0.264   0.7921    \ndiffer低分化  0.257933  1.294252  0.136498  1.890   0.0588 .  \nsurg手术组    0.176022  1.192465  0.102487  1.718   0.0859 .  \nnodes         0.081409  1.084814  0.007312 11.133   &lt;2e-16 ***\ninteraction   0.023728  1.024012  0.016809  1.412   0.1581    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n             exp(coef) exp(-coef) lower .95 upper .95\nsex男性         0.9099     1.0990    0.7963     1.040\ndiffer中分化    0.9697     1.0313    0.7712     1.219\ndiffer低分化    1.2943     0.7726    0.9904     1.691\nsurg手术组      1.1925     0.8386    0.9755     1.458\nnodes           1.0848     0.9218    1.0694     1.100\ninteraction     1.0240     0.9766    0.9908     1.058\n\nConcordance= 0.633  (se = 0.009 )\nLikelihood ratio test= 153.9  on 6 df,   p=&lt;2e-16\nWald test            = 210.2  on 6 df,   p=&lt;2e-16\nScore (logrank) test = 214.7  on 6 df,   p=&lt;2e-16"
  },
  {
    "objectID": "qsight/2022-02-21-survminer-ggforest/index.html#利用ggforest函数输出森林图",
    "href": "qsight/2022-02-21-survminer-ggforest/index.html#利用ggforest函数输出森林图",
    "title": "利用survminer包ggforest函数制作用森林图，直观化展示比值比数据！",
    "section": "7 利用ggforest函数输出森林图",
    "text": "7 利用ggforest函数输出森林图\nggforest函数可以自由定义的参数不多，主要有以下几个:\n\nmodel= modeldata，指定ggforest函数读取的模型拟合数据\ndata= colon，指定输出模型的数据\ncpositions= c(0.01,0.1,0.3)，指定森林图的前三列分别离最左侧有多远，0为最左侧，1为最右侧，大家可以根据放入模型的变量的值标签的长度来自行定义。\nrefLable=“参照组”，用来指定比值比指标参考组的显示标签，默认的为Reference，我们可以给它调整为参照组。\nfontsize=0.7，调整图里的文字大小。\nnoDigits=2，设置小数点的位数，默认值为2。\nmain=“图标的标题”，设置图的标题。\n\n\nlibrary(survminer)\n\nLoading required package: ggplot2\n\n\nLoading required package: ggpubr\n\n\n\nAttaching package: 'survminer'\n\n\nThe following object is masked from 'package:survival':\n\n    myeloma\n\nggforest(model = model,\n         data = colon,\n         cpositions = c(0.01,0.1,0.3),\n         refLabel = \"参照组\",\n         fontsize=0.7,\n         noDigits=2,\n         main = \"预后因素回归分析\")-&gt;pp\nggsave(\"forest.png\")\n\nSaving 7 x 5 in image\n\n\n 好了，森林图出来了，如果你想对输出的图进一步处理的话，可以用本站前面介绍的magick包或者其它包进行更加个性化的调整和处理。"
  },
  {
    "objectID": "qsight/2022-02-21-survminer-ggforest/index.html#小结",
    "href": "qsight/2022-02-21-survminer-ggforest/index.html#小结",
    "title": "利用survminer包ggforest函数制作用森林图，直观化展示比值比数据！",
    "section": "8 小结",
    "text": "8 小结\n利用survminer包ggforest函数制作森林图既有优势也有缺点，优势是可以利用前期拟合的模型输出结果，不用再专门整理数据，当然有优势也就有劣势，就是可以调整的参数较少，缺少更个性化的调整参数。"
  },
  {
    "objectID": "qsight/2022-01-27ICDO3tools/index.html",
    "href": "qsight/2022-01-27ICDO3tools/index.html",
    "title": "ICDO3模糊查询工具",
    "section": "",
    "text": "在全球大多数的国家都有全国或地区性肿瘤登记处，肿瘤登记已经成为肿瘤预防与控制的一个重要组成部分。ICD国际肿瘤学编码是必用工具之一。但在使用中，编码繁杂，记忆困难。在此中需求下，天津医科大学肿瘤医院预防医学中心王庆生教授与全国肿瘤登记中心陈万青副主任联合开发此软件。此软件基本使用对象是肿瘤登记网络单位和各级肿瘤医院病案室的工作人员。"
  },
  {
    "objectID": "qsight/2022-01-27ICDO3tools/index.html#软件相关信息",
    "href": "qsight/2022-01-27ICDO3tools/index.html#软件相关信息",
    "title": "ICDO3模糊查询工具",
    "section": "1 软件相关信息",
    "text": "1 软件相关信息\n\nICDFuzzyquery, 2.0.1 2013年4月。\n此软件的编程语言为visual basic 2010。\n此软件的肿瘤形态学编码是ICD-O3。\n此软件的肿瘤解剖学部位编码是ICD-O3和ICD-10。\n\n为了推广国际通用的肿瘤编码，此软件免费提供大家使用，没有功能限制，没有木马漏洞等隐患。"
  },
  {
    "objectID": "qsight/2022-01-27ICDO3tools/index.html#软件相关功能",
    "href": "qsight/2022-01-27ICDO3tools/index.html#软件相关功能",
    "title": "ICDO3模糊查询工具",
    "section": "2 软件相关功能",
    "text": "2 软件相关功能\n此软件主要实现ICD-O3以及ICD10编码的模糊查询，通过输入关键词即可查找相应的编码。"
  },
  {
    "objectID": "qsight/2022-01-27ICDO3tools/index.html#软件下载",
    "href": "qsight/2022-01-27ICDO3tools/index.html#软件下载",
    "title": "ICDO3模糊查询工具",
    "section": "3 软件下载",
    "text": "3 软件下载\n下载链接：ICDFuzzyquery ，提取码：mmwj"
  },
  {
    "objectID": "qsight/2022-03-06-jamovi/index.html",
    "href": "qsight/2022-03-06-jamovi/index.html",
    "title": "推荐一个适合临床医生的统计软件-Jamovi",
    "section": "",
    "text": "jamovi,适合临床医生的统计软件\n今天，我想给大家推荐一款统计软件，如果你是一名临床医生，如果你不太懂编程，不会使用R或SAS，如果你嫌SPSS菜单太复杂，那么你一定要看完这篇文章。\n我想要推荐的统计软件名称是jamovi，它是一种新的第三代统计软件，易于使用，免费开源，灵活安装模块，可以集成R语言等这些特征是笔者推荐的主要理由，下面我们来了解下具体内容。"
  },
  {
    "objectID": "qsight/2022-03-06-jamovi/index.html#免费开源",
    "href": "qsight/2022-03-06-jamovi/index.html#免费开源",
    "title": "推荐一个适合临床医生的统计软件-Jamovi",
    "section": "1 免费、开源",
    "text": "1 免费、开源\n目前一些比较流行的统计软件比如SAS、SPSS、Stata等都是需要付费的，而免费的R语言则需要使用者具备一些编程能力，使用门槛比较高。而jamovi的出现刚好填补了免费且易于使用的市场缺口，同时也给使用者带来了福利。"
  },
  {
    "objectID": "qsight/2022-03-06-jamovi/index.html#多平台使用",
    "href": "qsight/2022-03-06-jamovi/index.html#多平台使用",
    "title": "推荐一个适合临床医生的统计软件-Jamovi",
    "section": "2 多平台使用",
    "text": "2 多平台使用\njamovi能够在windows、macOS、Linux和ChromeOS上使用，可以说是全平台通用哈，不管你用的什么设备，都可以用了。"
  },
  {
    "objectID": "qsight/2022-03-06-jamovi/index.html#友好的操作界面",
    "href": "qsight/2022-03-06-jamovi/index.html#友好的操作界面",
    "title": "推荐一个适合临床医生的统计软件-Jamovi",
    "section": "3 友好的操作界面",
    "text": "3 友好的操作界面\nJamovi的操作界面与SPSS类似，直观易懂、操作便利。使用jamovi对数据进行统计分析，只需要通过选择菜单、填写对话框和点击按钮等简单操作即可完成，免去了复杂的程序编辑环节。分析过程中，不仅可以同步得到标准数字表格，还可产生美观、高清的统计图；而且，所得图表均可便捷地导出或复制、粘贴。此外，jamovi可以实现数据的实时编辑与管理，相应的统计分析结果也会在输出窗口及时更新，极大地提高了工作效率。"
  },
  {
    "objectID": "qsight/2022-03-06-jamovi/index.html#灵活安装模块避免模块灾难",
    "href": "qsight/2022-03-06-jamovi/index.html#灵活安装模块避免模块灾难",
    "title": "推荐一个适合临床医生的统计软件-Jamovi",
    "section": "4 灵活安装模块，避免“模块灾难”",
    "text": "4 灵活安装模块，避免“模块灾难”\nJamovi软件具有可扩充性，主菜单栏包含了常用的统计分析模块，若想实现更多的统计分析如元分析、功效分析、中介与调节模型分析、贝叶斯方法等可通过加载模块(Modules)的方式实现方法扩充，这种方式很好的规避了过多的模块使得主菜单或模块列表里过于拥挤而造成分析模块选择和操作的不便。"
  },
  {
    "objectID": "qsight/2022-03-06-jamovi/index.html#集成r的庞大功能",
    "href": "qsight/2022-03-06-jamovi/index.html#集成r的庞大功能",
    "title": "推荐一个适合临床医生的统计软件-Jamovi",
    "section": "5 集成R的庞大功能",
    "text": "5 集成R的庞大功能\nJamovi是基于R语言开发的，可以与R软件无缝对接，加载Rj模块后，可通过Rj Editor实现所有R软件的数据处理功能。"
  },
  {
    "objectID": "qsight/2022-03-06-jamovi/index.html#软件下载",
    "href": "qsight/2022-03-06-jamovi/index.html#软件下载",
    "title": "推荐一个适合临床医生的统计软件-Jamovi",
    "section": "6 软件下载",
    "text": "6 软件下载\n点击此处下载Jamovi，快把jamovi安装到电脑上试着用用吧，反正也不要钱。"
  },
  {
    "objectID": "qsight/2022-03-06-jamovi/index.html#官方博客",
    "href": "qsight/2022-03-06-jamovi/index.html#官方博客",
    "title": "推荐一个适合临床医生的统计软件-Jamovi",
    "section": "7 官方博客",
    "text": "7 官方博客\n官方blog，没事儿来这里逛逛，看看有哪些新的功能出现！"
  },
  {
    "objectID": "qsight/2022-03-06-jamovi/index.html#小结",
    "href": "qsight/2022-03-06-jamovi/index.html#小结",
    "title": "推荐一个适合临床医生的统计软件-Jamovi",
    "section": "8 小结",
    "text": "8 小结\nJamovi软件开源免费、易于使用、能扩展功能、能集成R语言实现R的所有功能，有以上这些理由，值得你来试试！"
  },
  {
    "objectID": "qsight/2021-04-23-年报解读/index.html",
    "href": "qsight/2021-04-23-年报解读/index.html",
    "title": "《2020河南省肿瘤登记年报》解读",
    "section": "",
    "text": "4.15肿瘤防治宣传周期间，河南省癌症中心/河南省肿瘤医院线上线下重磅发布《2020河南省肿瘤登记年报》，年报图文并茂，内容详实，线下由河南科学技术出版社正式出版，线上为Gitbook格式电子书籍，2020肿瘤登记年报系统描述了河南省肿瘤登记地区癌症发病和死亡等癌症疾病负担情况，为河南省癌症防控提供了基础数据。\n\n\n\n\n\n\n\n  \n    \n  \n  \n    陈 琼\n       博士 \n       副主任医师 \n    他从事肿瘤登记与人群流行病学研究，编写肿瘤登记年报，并开发和维护个人网站。他撰写博文，分享数据分析方法、可视化技巧和自动化报告解决方案，同时学习 R 语言，开发 R 包，不断探索高效的数据处理与展示方式。 🚀\n    \n      \n        \n      \n      \n        \n      \n      \n        \n      \n    \n  \n\n 回到顶部"
  },
  {
    "objectID": "qsight/2011-09-18-SAS-email-all/index.html",
    "href": "qsight/2011-09-18-SAS-email-all/index.html",
    "title": "利用SAS群发邮件",
    "section": "",
    "text": "今天在网上看到有人用SAS群发邮件，很是震惊，SAS功能这么强大还能群发邮件？于是就找了点资料试了一下，果真可以唉！原来SAS可以利用SMTP功能发邮件，这对于批量处理数据后，把结果一次性发送给不同的用户来说，还是非常有用的！现在把学习的这个功能跟大家分享一下啦！\n首先准备下用户信息（用户名、邮箱地址、附件地址）的数据集：\n数据集：usermessage\n\n\n\nname\nEmail\naddress\n\n\n\n\n张三\nccc@126.com\nd:\\ddd.pdf\n\n\n李四\nddd@163.com\nd:\\eee.pdf\n\n\n王五\neee@hotmail.com\nd:\\xyz.pdf\n\n\n\nOPTIONS Emailauthprotocol=login\nEmailsys=smtp\nEmailport=25\nEmailhost=\"smtp.163.com\"\nEmailid=\"xxxxx@163.com\"\nEmailpw=\"**********\";\n\nfilename mymail email\"dddd@126.com\"\nsubject=\"SAS OUTPUT SYSTEM\"\nencoding=gb2312;\ndata _null_;\nfile mymail;\nset usermessage; *从用户信息数据集usermessage读取数据;\nput \"!EM_TO!\" email; *指定邮件发送的地址;\nput \"!EM_SUBJECT! The output result by SAS\"; *指定邮件的主题;\n\nput \"!EM_ATTACH!\" address; *指定邮件所添加的附件;\n\nput \"尊敬的 \" name \"(先生/女士)：\"; *把邮件接收者的姓名添加到邮件中;\n\nput \" 您好!程序已经运行成功，现在把结果给您发过去，请查看！附件\";\nput \"!EM_SEND!\";\nput \"!EM_NEWMSG!\";\nreturn;\nrun;\n好了，现在邮件已经被发送到用户信息数据集指定的用户邮箱里了！\n\n\n\n\n\n  \n    \n  \n  \n    陈 琼\n       博士 \n       副主任医师 \n    他从事肿瘤登记与人群流行病学研究，编写肿瘤登记年报，并开发和维护个人网站。他撰写博文，分享数据分析方法、可视化技巧和自动化报告解决方案，同时学习 R 语言，开发 R 包，不断探索高效的数据处理与展示方式。 🚀\n    \n      \n        \n      \n      \n        \n      \n      \n        \n      \n    \n  \n\n 回到顶部"
  },
  {
    "objectID": "qsight/2022-12-02-quarto-install/index.html",
    "href": "qsight/2022-12-02-quarto-install/index.html",
    "title": "如何安装quarto运行环境，并通过命令行建立简单的网站",
    "section": "",
    "text": "Quarto考虑了各种运行环境，你可以直接用各类文本编辑器配合终端命令行直接运行quarto命令，可以用Rstudio运行，当然也可以用比较流行的vscode来运行。\n点击下面的链接，根据自己的系统环境下载相应的quarto版本。\n\n\n\n\n\n安装完成后，测试一下，是否成功安装。\n如果是MacOS，打开终端，输入如下命令：quarto -v 显示quarto的版本号，如果在命令行下面显示相应的版本号，则证明正确安装。\nquarto -v \n如果是windows操作系统，打开CMD，输入如下命令: quarto -v ，同样如果显示版本号，则证明已正确安装。\n可以用quarto -h命令来查看常见的quarto命令。\n Quarto融合了Blogdown、Bookdown、xaringan等基于rmd包的优势，可以不用基于这些包，直接建立网站，博客，或者幻灯片。\n下面我们直接以网站为例，利用 create-project 命令建立一个website project。\nquarto create-project chen --type website\n上面的命令在文件夹chen下面建立了一个类型为website的quarto project\n会生成如下几个文件：\n\nquarto.yaml\nabout.qmd\nindex.qmd\nstyles.css\n\n我们可以用以下命令来看看这些文件是否已经生成:\ncd chen\nls\n如果已经正常生成，则可以用preview 命令来预览一下，quarto建立的默认的网站的样子。\nquarto preview\n\n从上面的结果可以看出，preview把生成的网页配置到http://localhost:3070/,把该地址粘贴到浏览器地址栏中就可以看到，网页的样子了。 \n通过上面的简单的命令，就通过命令行建立的一个简单的网站，你还可以通过设置_quarto.yml 来配置更为附在的网站。\n通过纯命令行只是建立quarto website的一种方式，还可以通过Rstudio的菜单，VScode来建立网站。\n\n\n\n\n\n  \n    \n  \n  \n    陈 琼\n       博士 \n       副主任医师 \n    他从事肿瘤登记与人群流行病学研究，编写肿瘤登记年报，并开发和维护个人网站。他撰写博文，分享数据分析方法、可视化技巧和自动化报告解决方案，同时学习 R 语言，开发 R 包，不断探索高效的数据处理与展示方式。 🚀\n    \n      \n        \n      \n      \n        \n      \n      \n        \n      \n    \n  \n\n 回到顶部"
  },
  {
    "objectID": "qsight/2021-01-16-肿瘤登记历史/index.html",
    "href": "qsight/2021-01-16-肿瘤登记历史/index.html",
    "title": "河南省肿瘤登记系统介绍",
    "section": "",
    "text": "肿瘤登记报告是按照统一的技术与方法在目标人群中开展经常性的搜集、储存、整理、统计分析肿瘤发病、死亡及生存资料的统计制度。 肿瘤登记报告是国际通用的关于人群肿瘤发病信息收集的标准方法，目的是了解人群中恶性肿瘤的发病、死亡和生存状况， 为肿瘤病因研究提供依据，为制定卫生工作规划和肿瘤防治计划、评价和考核肿瘤防治效果提供基础数据。\n20世纪50年代末，由河南医学院、河南中医学院、河南省人民医院等单位的科研人员组成的河南省食管癌防治研究协作组，深入林州市山区， 开展了食管癌流行病学的调查和防治研究工作。组织实施了林州市食管癌和贲门癌的发病及死亡登记工作。 1959-1962年林州市人群食管癌发病、死亡病例的收集主要依靠回顾性调查。随着县、乡、村三级肿瘤防治网的建立， 1963-1966年食管癌/贲门癌的发病、死亡登记报告工作基本稳定。1967~1969年期间，由于“文化大革命”的原因， 使登记工作受到了严重影响，发病、死亡登记资料漏报严重，经后期回顾调查补报得以完善。 1977年根据全国的统一部署，河南省卫健委领导组织实施了覆盖河南省6000多万人口三年（1974-1976）全死因回顾调查。\n在三年全死因回顾性调查的基础上，河南省肿瘤医院/研究院于1983年在全省抽样选取了林州市、济源市、禹州市、洛阳市、偃师市、罗山县、鲁山县、内乡县等十五个县市、 约占河南省人口1/10的地区开展了居民全死因登记工作，建立起了以肿瘤为主的全死因登记报告系统。\n1988年，林州市在全死因登记系统的基础上，参照国际癌症中心（IARC）/国际癌症登记协会（IACR）推荐的肿瘤随访登记方法与原则，建立起了以人群为基础的肿瘤发病登记报告系统， 对恶性肿瘤及中枢神经系统良性肿瘤进行登记报告。2004年4月1日，河南省癌症及生命统计中心成立，并在15个市县建立了癌症及生命统计登记处。 2004年10月7日，河南省卫建委印发《河南省癌症及生命统计登记工作规范》的通知，下发到市、县卫生局及各登记处并落实执行。\n2008年，河南省肿瘤医院/研究院在偃师市、禹州、内乡、开封、鲁山县开始实施人群肿瘤登记报告工作。2009年国家卫健委在全国范围内启动了中央财政转移支付地方的肿瘤随访登记项目工作， 中央财政对登记市县给予经费支持。河南省林州、洛阳、偃师、禹州、西平和沈丘县纳入国家肿瘤随访登记项目市县。在2009年的基础上，2010年将济源市、鲁山县、漯河市、内乡县、郸城县、罗山县、三门峡市、 虞城县列入河南省肿瘤登记系统。2012-2013年又有开封县，鹤壁市区、睢县及郑州市四个市县进入全省的肿瘤登记系统。\n为进一步加强全国肿瘤登记工作规范化管理，获得及时、统一、准确的肿瘤发病、死亡和生存信息，2015年2月5日国家卫健委合国家中医药管理局联合印发了《肿瘤登记管理办法》， 河南省卫健委和省中医管理局结合我省实际情况，组织制定了《河南省肿瘤登记实施方案》（豫卫疾控【2015】10号）。河南省肿瘤防治研究办公室按照《河南省肿瘤登记实施方案》的要求对全省各级医疗机构相关人员进行了业务培训， 在各市县成立肿瘤登记处，开展肿瘤随访登记工作，并通过河南省网络直报系统上报当地的肿瘤发病、死亡和随访数据。\n各级肿瘤登记处履行肿瘤登记报告职责，建立健全肿瘤登记报告工作管理制度，明确肿瘤登记报告管理科室及责任人，明确诊疗机构科室责任。\n从早期林县食管/贲门癌的单癌种登记系统，发展到目前的全部位的肿瘤随访登记系统，逐步建立起了河南省人群肿瘤监测系统，为肿瘤预防控制与研究奠定了基础。肿瘤随访登记工作以政府为主导，河南省卫健委作为项目主管单位全面负责肿瘤登记报告工作，制定相关政策和规划，组织开展考核和评估。\n河南省肿瘤医院，肿瘤防治研究办公室作为技术指导单位，负责全省肿瘤登记系统的建立和工作的实施；制定及修订肿瘤登记报告实施方案和年度工作计划；负责开展全省肿瘤登记工作业务培训、技术指导等工作。 河南省各市、县（区）卫生行政部门负责辖区内肿瘤登记报告系统的建立及项目工作的实施与管理； 对肿瘤登记报告工作进行督导检查和考核评估；协调相关机构和部门，为肿瘤登记报告工作的正常运行提供保障。\n市、县（区）肿瘤登记处负责制定本辖区肿瘤登记报告工作计划和实施方案；指导辖区内各级医疗机构开展肿瘤登记报告工作；确定辖区内肿瘤登记报告单位、报告人、联系方式、并登记建档；负责肿瘤登记的业务管理和技术指导等工作。\n各级医疗机构为登记病例的上报单位，要求各级医疗机构在当地肿瘤登记处的指导下，利用河南省肿瘤随访登记网络直报系统开展肿瘤登记报告工作，按照项目内容要求，提供完整、准确、及时的肿瘤登记信息。建立、健全机构内的登记报告管理组织制度和技术规范，将资料登记及死亡报告工作纳入单位考核管理内容，并制定相关的管理措施。\n\n\n\n\n\n  \n    \n  \n  \n    陈 琼\n       博士 \n       副主任医师 \n    他从事肿瘤登记与人群流行病学研究，编写肿瘤登记年报，并开发和维护个人网站。他撰写博文，分享数据分析方法、可视化技巧和自动化报告解决方案，同时学习 R 语言，开发 R 包，不断探索高效的数据处理与展示方式。 🚀\n    \n      \n        \n      \n      \n        \n      \n      \n        \n      \n    \n  \n\n 回到顶部"
  },
  {
    "objectID": "qsight/2022-02-18-for-macro/index.html",
    "href": "qsight/2022-02-18-for-macro/index.html",
    "title": "利用%for宏程序实现在开放代码中循环执行SAS代码",
    "section": "",
    "text": "SAS的循环功能实现相比较R语言而言一直是个弱点或者是不太方便，SAS可以通过Do语句或While语句在数据步或程序步内部实现循环功能，但是要想实现在在开放代码的循环功能，也就是说把数据步或者程序步嵌入到循环里的话就比较困难了。\n本文给大家介绍的%FOR宏程序正是解决了这个问题，实现了在数据步或程序步之外的开放代码中的循环功能。它由University of California San Francisco的Jim Anderson博士编写的一套SAS宏程序。程序实现了利用简单的语法在数据集、值列表、数字范围以及宏数组中循环。\n%FOR宏程序\n下面让我们来学习一下，它是如何实现循环的吧。为了演示SAS的运行记录，我们在R里安装了SASmarkdown包（本文采用R Blogdown来写），以实现调用SAS的运行日志。"
  },
  {
    "objectID": "qsight/2022-02-18-for-macro/index.html#安装方法",
    "href": "qsight/2022-02-18-for-macro/index.html#安装方法",
    "title": "利用%for宏程序实现在开放代码中循环执行SAS代码",
    "section": "1 安装方法",
    "text": "1 安装方法\n%for宏程序的使用方法和其它宏程序一样，首先需要运行编译后才能使用，可以使用%include语句，也可以通过options调用编译过的宏程序。\n# 编译宏程序\n%include \"\\存放路径\\for.sas\""
  },
  {
    "objectID": "qsight/2022-02-18-for-macro/index.html#基本语法",
    "href": "qsight/2022-02-18-for-macro/index.html#基本语法",
    "title": "利用%for宏程序实现在开放代码中循环执行SAS代码",
    "section": "2 基本语法",
    "text": "2 基本语法\n%for宏程序是迭代语句用来重复执行sas语句，%for宏程序的基本语法如下： 宏程序有三个参数被两个”,“隔开，三个参数分别为:\n\n宏变量列表，用来存储数据源的每条记录值\n数据源\n每次循环执行的SAS代码\n\n%for( \n参数1:宏变量列表 ,\n参数2:数据源 ,\n参数3:SAS语句 \n  ) \n执行过程：\n首先，宏程序读取数据源参数2，然后对于数据源的每个观测值，把相应的观测值赋值给参数1的列出的宏变量，然后执行参数3里的sas语句。每次执行代码时，都会在SAS代码中进行宏变量替换。\n%for宏可以使用四种数据源：\n\nSAS数据集，关键字参数标识: “data=”\n值列表，关键字参数标识: “value=”\n数字范围，关键字参数标识: “to=”\n宏数组，关键字参数标识: “array=”\n\n每种数据源都由不同的关键字参数标识：“data=”、“value=”、“to=”和。 “array=”。每次调用%for宏程序只允许一个数据源。\nSAS语句关键字参数：“do=”，用来指定用来循环重复执行的SAS代码，注意SAS代码要包含在%nrstr()函数内，由它调用，例如：do=%nrstr(proc print data=sashelp.class;run;)。\n你可以了解%nrstr()的意义。"
  },
  {
    "objectID": "qsight/2022-02-18-for-macro/index.html#利用数据集执行循环",
    "href": "qsight/2022-02-18-for-macro/index.html#利用数据集执行循环",
    "title": "利用%for宏程序实现在开放代码中循环执行SAS代码",
    "section": "3 利用数据集执行循环",
    "text": "3 利用数据集执行循环\n数据集是SAS编程中的主要数据源。%FOR宏使用“data=”参数指定数据集数据源。数据集可以用“WHERE”和“RENAME”子句限定。对于数据集数据源，宏变量列表必须仅包含数据集变量名称。对于%for循环的每次迭代，对于宏变量列表中的每个名称，具有该名称的宏变量被设置为该观测的同名数据集变量的值。\n举个例子，我们首先建一个数据集名为temp，数据集中只有一个变量，变量名为：dataset，值为：cx，cy和cz。然后我们把temp数据集作为%for宏的数据源，然后利用数据集进行循环，%for宏对数据集的每个观测进行迭代，把每个观测的变量值赋值给参数1的宏变量列表中的宏变量，然后在每次迭代中执行sas语句。\n%include \"Y:\\Website\\newnew\\content\\tech\\2022-02-18-for-macro\\for.sas\";\ndata temp;\ninput dataset $2.;\ncards;\ncx\ncy\ncz\n;\nrun;\nproc print data=temp;run;\n\n%for(dataset, data=temp, do=%nrstr( \n      data &dataset;\n      name=\"Qiong Chen\";\n      gender=\"Male\";\n      run;\n  ))\n我们从sas的运行日志中可以看出，%for宏已经建立了三个数据集。"
  },
  {
    "objectID": "qsight/2022-02-18-for-macro/index.html#利用值列表进行循环",
    "href": "qsight/2022-02-18-for-macro/index.html#利用值列表进行循环",
    "title": "利用%for宏程序实现在开放代码中循环执行SAS代码",
    "section": "4 利用值列表进行循环",
    "text": "4 利用值列表进行循环\n%FOR宏在值列表中迭代利用关键字参数标识: “value=”，值列表的各值之间用空格分隔。\n举个例子，我们利用值列表作为数据源，值列表有 a b c 三个值，然后%FOR宏在这三个值中迭代，然后执行sas语句，每次迭代分别生成一个数据集，总共三次迭代，分别生成a b c 三个数据集。值得注意的是sas语句需要由 do=%nrstr(sas语句)包括。\n%include \"Y:\\Website\\newnew\\content\\tech\\2022-02-18-for-macro\\for.sas\";\n%for(dataset, values= a b c, do=%nrstr( \n      data &dataset;\n      name=\"Qiong Chen\";\n      gender=\"Male\";\n      height=170;\n      run;\n  ))\n我们从上面的sas日志中可以看出，%FOR宏生成了三个数据集，数据集名分别为a,b,c，每个数据集的内容都是一样的。"
  },
  {
    "objectID": "qsight/2022-02-18-for-macro/index.html#利用数值范围进行循环",
    "href": "qsight/2022-02-18-for-macro/index.html#利用数值范围进行循环",
    "title": "利用%for宏程序实现在开放代码中循环执行SAS代码",
    "section": "5 利用数值范围进行循环",
    "text": "5 利用数值范围进行循环\n%FOR宏利用数值范围进行循环的时候，关键字标识参数为：“ from=1, to=3, by=1 ”三个，以“,”分隔，其中 from和by可以省略，当省略的时候，取默认值为1。当from=1,to=5,by=1 表示数值范围为从1到5，每次增加1，实际的取值为1,2,3,4,5；当from=1,to=6,by=2 表是数值范围为从1到6，每次增加2，实际的数值为1,3,5。\n举个例子，我们利用数值范围迭代循环，数值范围的关键字标识参数分别为“from=1, to=6, by=2”，实际取值为1, 3, 5，在每次迭代中，把数值范围里的每个值赋值为宏变量num，然后执行sas语句。数值范围总共有3个值，也就是循环执行3次，分别赋值1，3，5给宏变量num，然后执行3次sas语句。\n下面的语句会生成三个数据集，分别为dataset1，dataset3，dataset5。\n%include \"Y:\\Website\\newnew\\content\\tech\\2022-02-18-for-macro\\for.sas\";\n%for(num, from=1, to=6, by=2 , do=%nrstr( \n      data dataset&num;\n      name=\"Qiong Chen\";\n      gender=\"Male\";\n      height=170;\n      weight=75;\n      run;\n  ))"
  },
  {
    "objectID": "qsight/2022-02-18-for-macro/index.html#利用宏数组进行循环",
    "href": "qsight/2022-02-18-for-macro/index.html#利用宏数组进行循环",
    "title": "利用%for宏程序实现在开放代码中循环执行SAS代码",
    "section": "6 利用宏数组进行循环",
    "text": "6 利用宏数组进行循环\n宏数组是反映数据步长数组实用程序的SAS编程约定。宏数组有一个名称，由一组宏变量表示。每个数组元素都是一个宏变量，其名称是宏数组名称，后跟元素的索引号。例如，宏数组ABC，具有三个元素ABC1、ABC2和ABC3。数组的长度包含在宏变量中，其名称为宏数组名称。 后跟字母N。对于上例，宏变量ABCN的值为3。以下是创建宏数组“meas”的SAS代码：\n*create macro array of measures; \n  %let meas1=PSI06; \n  %let meas2=PSI09; \n  %let meas3=PSI11; \n  %let meas4=PSI14; \n  %let measN=4;\n一个或多个宏数组可以用作带有“array=”关键字的宏数据源的%。当%for变量列表出现在%for调用中时，变量的数量必须与宏数组的数量相同。要执行的迭代次数由第一个宏数组的长度(或“length=”参数(如果存在))定义。当提供多个宏数组时，所有宏数组的长度必须至少与第一个数组(或。 “Length=”参数(如果存在)。\n*combine reference datasets into single dataset; \n  data allrefs; \n      set %for(psi, array=meas, do=%nrstr( refs_&psi(in=in_&psi) )); \n      %for(psi, array=meas, do=%nrstr(  \n          if in_&psi then measure = \"&psi\";  \n      )) \n  run;\n上面的示例两次调用%FOR宏。第一个调用为“set”语句创建数据集列表。第二个调用设置变量“MEASURE”以指示“allrefs”数据集中每个观测的数据集源。省略带有“array=”数据源的宏变量列表是使宏变量列表与“array=”列表相同的快捷方式。\n*combine reference datasets into single dataset; \n  data allrefs; \n      set %for(array=meas, do=%nrstr( refs_&meas(in=in_&meas) )); \n      %for(array=meas, do=%nrstr(  \n          if in_&meas then measure = \"&meas\";  \n      )) \n  run;"
  },
  {
    "objectID": "qsight/2022-02-18-for-macro/index.html#for宏嵌套循环",
    "href": "qsight/2022-02-18-for-macro/index.html#for宏嵌套循环",
    "title": "利用%for宏程序实现在开放代码中循环执行SAS代码",
    "section": "7 %FOR宏嵌套循环",
    "text": "7 %FOR宏嵌套循环\n我们可以调用%FOR宏嵌套调用进行循环。\n在下面的示例中，外部的%for循环将擦除旧的zip文件(如果存在)并执行内部循环。内部%for循环将一个或多个报告文件添加到当前系统的zip文件中。最终结果是,生成多个zip文件，每个压缩文件包含多个报告文件。\n%for(system zipfilepath, data=systems, do=%nrstr( \n      x \"del \"\"&zipfilepath\"\" \"; \n      %for(hospreport, data=hospitals(where=(system=\"&system\")), do=%nrstr( \n          x \"pkzipc –add \"\"&zipfilepath\"\" \"\"&hospreport\"\" \"; \n      )) \n  ))"
  },
  {
    "objectID": "qsight/2022-02-18-for-macro/index.html#总结",
    "href": "qsight/2022-02-18-for-macro/index.html#总结",
    "title": "利用%for宏程序实现在开放代码中循环执行SAS代码",
    "section": "8 总结",
    "text": "8 总结\n利用%FOR宏可以很容易的实现在开放环境循环执行SAS代码，给我们的工作带来很大的效率提升。希望我们今天的分享对你有所帮助。"
  },
  {
    "objectID": "qsight/2020-03-16-cowplot/index.html",
    "href": "qsight/2020-03-16-cowplot/index.html",
    "title": "利用cowplot包生成组合图",
    "section": "",
    "text": "1 背景\n最近一直忙于肿瘤登记年报的撰写和编辑工作，以往的工作都是通过word来编辑，它有一个很大的麻烦就是，一旦生成的图有错误，特别是组合图出现错误需要调整的时候，噩梦就开始了。偶然的机会，在网上了解了R bookdown这个包，用来写书还是很方便的，最大的好处就是能把R程序和编辑书结合起来，可以直接用R生成的图，对我来说太方便了。\n本文就是尝试利用R的ggplot2包和cowplot包生成组合图。今年的肿瘤登记年报纳入分析的是35个肿瘤登记处2016年的肿瘤发病和死亡数据，其中20多个肿瘤登记处自2009年、2010年和2011年便开始肿瘤登记工作。各个登记处历年肿瘤发病率和死亡率的稳定性是肿瘤登记数据质量的重要指标,因为肿瘤的发病率和死亡率短时间内不会出现很大的波动，如果一个登记处相邻年份的肿瘤发病率和死亡率出现很大的波动，则提示数据质量可能存在问题。当然肿瘤登记的数据质量还要考虑其他指标如病理诊断比例（MV%），死亡发病比（M:I）和只有死亡医学证明书的比例（DCO%）。本文只考虑如何图形化展示肿瘤登记数据的稳定性指标。\n\n\n2 程序\nlibrary(RODBC)\nlibrary(dplyr)\nlibrary(reshape2)\nlibrary(ggplot2)\nlibrary(cowplot)\nlibrary(ggthemes)\ntheme_set(theme_wsj())\n\ndata &lt;- odbcConnect(\"canreg_hist\") \nxy &lt;-sqlQuery(data, query = \"select * from report_all\") %&gt;%\n  filter(code==62,sex==\"合计\",!(areacode %in% c(\"510000\",\"520000\")))%&gt;%\n  select(areacode,year,name,ihj,dhj)%&gt;%\n  melt(id.vars=c(\"areacode\",\"year\",\"name\"))%&gt;%\n  mutate(variable=ifelse(variable==\"ihj\",\"Incidence\",\"Mortality\"))%&gt;%\n  group_by(areacode,variable)%&gt;% filter(min(year)&lt;=2013)\nclose(data)\np &lt;- list()\nfor (i in xy$name)\n{\n  p[[i]]&lt;-xy %&gt;% filter(name==i) %&gt;%\n    ggplot(aes(x=factor(year),y=value,fill=variable))+\n    geom_bar(stat=\"identity\",color=\"black\",position=position_dodge(),width = 0.7,size=0.25)+\n    ylim(0,300)+\n    theme_wsj()+\n    theme(legend.title = element_blank(),text=element_text(family=\"sans\"))\n}\nplot_grid(p$全省, p$林州市, p$洛阳市, p$偃师市,p$禹州市,\n          p$沈丘县,p$西平县,p$鲁山县,p$辉县市,p$济源市,p$漯河市,p$漯河市郾城区,\n          p$三门峡市湖滨区, p$虞城县, p$郸城县,p$内乡县,p$罗山县,p$开封市祥符区,\n          p$鹤壁市,p$睢县,\n          labels =c(\"全省\",\"林州市\",\"洛阳市\",\"偃师市\",\"禹州市\",\"沈丘县\",\"西平县\",\n          \"鲁山县\",\"辉县市\",\"济源市\",\"漯河市\",\"漯河市郾城区\",\"三门峡市湖滨区\",\n\"虞城县\",\"郸城县\",\"内乡县\",\"罗山县\",\"开封市祥符区\",\"鹤壁市\",\"睢县\"), \nlabel_size = 12,ncol=2)\n\n\n\n\n\n\n  \n    \n  \n  \n    陈 琼\n       博士 \n       副主任医师 \n    他从事肿瘤登记与人群流行病学研究，编写肿瘤登记年报，并开发和维护个人网站。他撰写博文，分享数据分析方法、可视化技巧和自动化报告解决方案，同时学习 R 语言，开发 R 包，不断探索高效的数据处理与展示方式。 🚀\n    \n      \n        \n      \n      \n        \n      \n      \n        \n      \n    \n  \n\n 回到顶部"
  },
  {
    "objectID": "qsight/2021-11-18-ICDO3编码规则3/index.html",
    "href": "qsight/2021-11-18-ICDO3编码规则3/index.html",
    "title": "ICDO3编码规则三：交搭跨越",
    "section": "",
    "text": "0.1 交搭跨越的定义\n\n“交搭跨越性恶性肿瘤”是指两个或两个以上相邻的、原发部位不明确的、形态学编码一致的恶性肿瘤。 当一个肿瘤交搭跨越两个或更多的部位或亚部位而且起源不能确定时，则编码到合适的”CXX.8”。\n\n其实肿瘤的交搭跨越存在两种情况，第一种情况是肿瘤可能累积到同一个系统内两个或多个部位，比如”胃部和小肠的癌”；第二种情况是肿瘤可能累及同一个器官内的两个或多个亚部位。\n\n\n0.2 肿瘤累及同一系统多个两个或多个部位\nICDO-3中列出了在身体各系统对交搭跨越给予的编码，例如，“胃和小肠的癌” 应编码到 C26.8 (消化系统交搭跨越的损害)。其它系统内较大跨越，见下表：\n\n\n\nICDO3解剖学部位编码\n部位描述\n\n\n\n\nC02.8\n舌交搭跨越的损害\n\n\nC08.8\n大涎腺交搭跨越的损害\n\n\nC14.8\n唇、口腔和咽交搭跨越的损害\n\n\nC21.8\n直肠、肛门和肛管交搭跨越的损害\n\n\nC24.8\n胆道交搭跨越的损害\n\n\nC26.8\n消化系统交搭跨越的损害\n\n\nC39.8\n呼吸系统和胸腔内器官交搭跨越的损害\n\n\nC41.8\n骨关节和关节软骨交搭跨越的损害\n\n\nC49.8\n结缔组织、皮下组织和其他软组织交搭跨越的损害\n\n\nC57.8\n女性生殖器官交搭跨越的损害\n\n\nC63.8\n男性生殖器官交搭跨越的损害\n\n\nC68.8\n泌尿器官交搭跨越的损害\n\n\nC72.8\n脑和中枢神经系统交搭跨越的损害\n\n\nC76.8\n不明确部位交搭跨越的损害\n\n\n\n还有一些例外的情况，食管和胃交界处恶性肿瘤在ICDO3解剖学部位编码里设有专门的编码”C16.0”，例如，“食管和胃的癌”应该被编码到C16.0，而不是C26.8。其次，如果肿瘤的起源点是明确且已知的话，也不能编码到相应系统的交搭跨越编码，而应编码到其起源部位，例如：“舌尖癌扩展并累及腹面”，则应编码到C02.1而不是C02.8。\n\n\n0.3 肿瘤累及跨越系统的两个或多个部位\n如果有跨越系统的肿瘤则编码到**C76.8**。\n\n\n0.4 肿瘤累及同一部位的两个或多个亚部位\n同一主要部位的交搭跨越编码时第4位编码应编码到”.8”，例如，“食管中下段癌”肿瘤累及食管同时中段和下段，则应编码到C15.8；“唇交搭跨越的损害” 则编码到 C00.8；“硬腭与软腭交界处”编码到C05.8；“口咽连接区”编码到C10.8。\nICDO3编码前两位数字相邻时，往往意味着解剖学位置也是相邻的；同样在一个部位内部，如果ICDO3的第4位编码是相邻的也意味着解剖学位置的临近。但也不是所有部位的编码都是这样的，如膀胱C67。\n\n\n0.5 对交搭跨越的一些理解\n“交搭跨越”指肿瘤发生在两个或两个以上相邻的部位，但是也有学者认为“交搭跨越可以是不相邻的原发部位不明确的恶性肿瘤”，而主要原因也是归结于对概念出处“overlapping”的理解上，笔者认为交搭跨越性的肿瘤应该是相邻的。\n\n\n0.6 注意与其他概念的区别与联系\n\n“交搭跨越”属于肿瘤原发部位界限不明，是原发恶性肿瘤，不能错误的将其应用于继发肿瘤，在编码实践中应注意区分。\n“交搭跨越”不是”多原发”，虽然都涉及两个或两个以上部位的恶性肿瘤，但前者是原发部位不明确，而后者是均为独立的原发恶性肿瘤；在病理结果上，“交搭跨越”的病理结果应该是一致的，而”多元发”可以不一样。\n\n\n\n0.7 临床编码实践注意事项\n\n仔细阅读病案，特别是有手术治疗的病例，手术记录里有详细准确的病变部位描述，而对于内科治疗的病例，则查看其他相关检查如腔镜检查等。\n认真阅读病理结果，病理结果对于判断肿瘤的原发部位至关重要。\n积极与临床医师沟通，避免因书写不规范造成的编码错误。\n\n\n\n0.8 参考资料\n\n董景五. 国际疾病分类肿瘤学专辑，第三版.[M], 北京: 人民卫生出版社,2003.\n国家癌症中心.中国肿瘤登记工作指导手册(2016)[M], 北京:人民卫生出版社,2016.\n邓添薪,张帆,满丽芳等.115例交搭跨越性食管恶性肿瘤ICD-10编码分析[J], 中国病案, 2017,18（3）26-28.\n鲁杨,刘玮,高妍等.ICD-10中几处难点的解析[J], 中国病案, 2017,8（12）,33-34.\n\n\n\n\n\n\n\n  \n    \n  \n  \n    陈 琼\n       博士 \n       副主任医师 \n    他从事肿瘤登记与人群流行病学研究，编写肿瘤登记年报，并开发和维护个人网站。他撰写博文，分享数据分析方法、可视化技巧和自动化报告解决方案，同时学习 R 语言，开发 R 包，不断探索高效的数据处理与展示方式。 🚀\n    \n      \n        \n      \n      \n        \n      \n      \n        \n      \n    \n  \n\n 回到顶部"
  },
  {
    "objectID": "qsight/2021-11-19-ICDO3编码规则4/index.html",
    "href": "qsight/2021-11-19-ICDO3编码规则4/index.html",
    "title": "ICDO3编码规则四：淋巴瘤的解剖学编码",
    "section": "",
    "text": "0.1 规则描述\n\n结内淋巴瘤：编码到相应的区域淋巴结对应的编码C77.X，如果肿瘤涉及多个淋巴结区域，则编码到C77.8（多个部位的淋巴结）。\n结外淋巴瘤：编码到相应的起源部位，该部位可能不是活组织检查的部位。\n如果没有指出淋巴瘤的部位，则编码到C77.9（淋巴结，NOS）。\n\n\n\n0.2 淋巴瘤的分类\n按照结内和结外的淋巴瘤分类对于淋巴瘤的解剖学编码至关重要。\n淋巴瘤发生在淋巴结或淋巴组织如扁桃体、脾、 瓦尔代尔环、小肠的派伊尔淋巴结或胸腺，称为”结性或节内”淋巴瘤，如果是结内淋巴瘤则编码到下表对应的淋巴结区域。\n\n\n\n\n\n\n\nICDO3解剖学编码\n解剖学部位描述\n\n\n\n\nC77.0\n头、面和颈部淋巴结 （耳部、颈部、面部、颈静脉区、下颌、枕部、腮腺、耳前、喉前、气管前、咽后、斜角肌、舌下、下颌下、上颌下、颏下、锁骨上）淋巴结\n\n\nC77.1\n胸内淋巴结 （支气管、支气管肺、膈、食管、肺门、无名（动静脉）、肋间、纵膈、胸骨旁、肺、胸部、气管、气管支气管）淋巴结\n\n\nC77.2\n腹内淋巴结 （腹部、主动脉、腹腔、结肠、胆总管、胃、肝、回结肠、肠系膜、肠、腰部、肠系膜、中结肠、胰腺、主动脉旁、主动脉周、胰腺周、肝门、幽门、腹膜后、脾、脾门、肠系膜上）淋巴结\n\n\nC77.3\n腋窝或手臂淋巴结（腋窝、臂、肘、肱骨内上髁、锁骨下、上肢、锁骨下、肩胛下）淋巴结\n\n\nC77.4\n腹股沟区或腿淋巴结（股、腹股沟、克罗凯淋巴结（腹股沟深淋巴结）、下肢淋巴结、罗森米勒淋巴结、腘淋巴结、腹股沟下淋巴结、胫淋巴结）\n\n\nC77.5\n骨盆淋巴结（下腹部淋巴结、髂淋巴结、上腹下淋巴结、骨盆内淋巴结、闭孔淋巴结、宫颈旁淋巴结、子宫旁淋巴结、耻骨联合前淋巴结、骶淋巴结）\n\n\nC77.8\n多个部位的淋巴结\n\n\nC77.9\n淋巴结，NOS\n\n\n\n结外淋巴瘤是指发生于淋巴结以外的淋巴瘤，多见于具有淋巴组织或淋巴细胞的部位，如胃或肠的淋巴细胞。某些缺乏淋巴细胞的部位也可发生淋巴瘤（如骨、结缔组织），可能由原始中胚层的干细胞向淋巴网状细胞分化而来。\n结外淋巴瘤的好发部位为：胃肠道、Waldeyer环、皮肤、中枢神经系统、软组织。\n对于结外淋巴瘤则编码到所发生的实体部位所对应的ICDO3解剖学编码。\n\n\n0.3 淋巴瘤的编码举例\n\n诊断描述：大B细胞性恶性淋巴瘤，编码：C77.9，M9680/36\n诊断描述：鼻腔恶性淋巴瘤，编码：C30.0，M9590/39\n\n \n\n\n\n\n\n\n  \n    \n  \n  \n    陈 琼\n       博士 \n       副主任医师 \n    他从事肿瘤登记与人群流行病学研究，编写肿瘤登记年报，并开发和维护个人网站。他撰写博文，分享数据分析方法、可视化技巧和自动化报告解决方案，同时学习 R 语言，开发 R 包，不断探索高效的数据处理与展示方式。 🚀\n    \n      \n        \n      \n      \n        \n      \n      \n        \n      \n    \n  \n\n 回到顶部"
  },
  {
    "objectID": "qsight/2022-05-07-progressive-line-plot/index.html",
    "href": "qsight/2022-05-07-progressive-line-plot/index.html",
    "title": "R语言gganimate包和ggplot2包绘制进度线图(progressive line plot)",
    "section": "",
    "text": "这篇文章将和大家分享如何利用ggplot2包和gganimate包绘制进度线图(progressive line plot)的过程，其实我所说的进度线图就是让线图按照某一个变量一点一点的显示出来，最后显示完全这样一种类型的动态图形。\n在利用R语言gganimate包绘制动态的进度线图之前，你需要先理解在R里利用ggplot2包绘制线图的过程。点击了解ggplot2绘制线图\n在理解了如何利用ggplot2包绘制线图之后，你可以利用gganimate包增加一个绘图函数transition_…()，从而绘制动态变化图形。给transition_…()函数提供一个frame变量，这个变量的值每变化一次，就会在图上绘制一次，从而实现图的动态变化。\n我们今天使用gganimate包的transition_reveal()函数，实现线图的动态显示过程。"
  },
  {
    "objectID": "qsight/2022-05-07-progressive-line-plot/index.html#准备数据",
    "href": "qsight/2022-05-07-progressive-line-plot/index.html#准备数据",
    "title": "R语言gganimate包和ggplot2包绘制进度线图(progressive line plot)",
    "section": "1 准备数据",
    "text": "1 准备数据\n我们还是利用制作普通线图的年龄别癌症发病率数据，点击链接，下载数据。\n对数据进行简单的处理，把合计性别的数据剔除，只显示男性和女性的癌症发病率随年龄变化的趋势即可，这样图里的内容不至于过多而显得杂乱。\n\n#加载dplyr包\nlibrary(dplyr)\n# 读取年龄别发病率数据\ndata &lt;- read.csv(\"age_incidence.csv\")\ndata &lt;- data %&gt;%\n  # 剔除合计性别数据\n  filter(area==1,!(sex==\"合计\"))\n#查看前6条数据结构情况\nhead(data)\n\n  area  sex variable agegrp\n1    1 男性     9.42      0\n2    1 男性    10.75      1\n3    1 男性     9.53      5\n4    1 男性    10.75     10\n5    1 男性    10.67     15\n6    1 男性    11.78     20"
  },
  {
    "objectID": "qsight/2022-05-07-progressive-line-plot/index.html#绘制进度线图progressive-line-plot",
    "href": "qsight/2022-05-07-progressive-line-plot/index.html#绘制进度线图progressive-line-plot",
    "title": "R语言gganimate包和ggplot2包绘制进度线图(progressive line plot)",
    "section": "2 绘制进度线图(progressive line plot)",
    "text": "2 绘制进度线图(progressive line plot)\n我们利用线图(line plot)展示了河南省年龄别癌症发病率数据，而我们想让年龄别发病率数据随着年龄的增加而逐渐显示出来，从而让线图动起来，这样，年龄别发病率数据随着年龄变化的特点就能更直观的显示出来。\n想要达到这种效果，其实就是在利用ggplot2制作普通线图的基础上，再利用gganimate包的transition_reveal()函数，从而让线图按照某个变量逐步显示，我们这个例子就是按照x轴变量agegrp逐步显示，transition_reveal(agegrp)。\n为了让线图更文艺或者更美观，我们可以使用ggthemes包里面绘图的主题来进行图的美化。图 1\n绘图代码如下：\n\n#加载包\nlibrary(ggplot2)\nlibrary(gganimate)\n# 绘制动图\ndata %&gt;%\n  ggplot(aes(x=factor(agegrp), y=variable, group=sex, color=sex)) +\n  geom_line(linewidth=1.5) +\n  geom_point(linewidth=3) +\n  # 增加图标题\n  # 23rgvf ggrbthggtitle(\"河南省肿瘤登记地区癌症年龄别发病率\") +\n  #annotate(\"text\", x = 18, y = 0, label = \"普癌新声\")+\n  # 使用ggthemes包fivethirtyeight主题设置线图颜色\n  #scale_color_fivethirtyeight()+ \n  # 应用fivethirtyeight主题\n  #theme_fivethirtyeight()+\n  # 不显示图例标题\n  theme_classic()+\n  theme(\n    legend.position = c(.1,.9),\n    legend.title = element_blank(),\n    legend.text = element_text(size=20),\n    text = element_text(family='Kai'))+\n  # 让线图按照agegrp变量逐步显示\n    transition_reveal(agegrp)\n\nanim_save(\"px.gif\")\n\n\n\n\n\n\n\n图 1: 河南省肿瘤登记地区癌症年龄别发病率\n\n\n\n\n\n\n\n\n进度线图"
  },
  {
    "objectID": "qsight/2022-03-01-job/index.html",
    "href": "qsight/2022-03-01-job/index.html",
    "title": "北京市肿瘤防治研究办公室招聘合同制工作人员1名",
    "section": "",
    "text": "北京市肿瘤防治研究办公室成立于1976年，隶属于北京市卫生健康委疾控处，挂靠北京大学肿瘤医院，负责北京市肿瘤防治工作，主要包括肿瘤登记，北京市癌症早诊早治项目管理和健康教育，工作人员待遇参照医院行政岗位，目前科室员工8人，现任主任季加孚院长。\n因工作需要拟招聘合同制工作人员1人，与在编职工同工同酬，日常工作主要负责北京市肿瘤登记数据整理，与各大医院核实病历内容等工作，具体要求如下：\n\n医学相关专业（公共卫生与预防医学、临床医学相关专业优先）硕士及以上学历；\n具备能够胜任岗位要求的专业技能，熟练使用Office软件；\n工作严谨认真，诚实有责任心，具有良好的团队合作意识和沟通能力。\n\n应聘者请以“姓名+毕业院校+学历+肿瘤防办+管理”作为邮件的主题和附件的题目将简历发送至cahetongzhi@163.com， 并抄送至careg@163.com。\n\n\n\n\n\n  \n    \n  \n  \n    陈 琼\n       博士 \n       副主任医师 \n    他从事肿瘤登记与人群流行病学研究，编写肿瘤登记年报，并开发和维护个人网站。他撰写博文，分享数据分析方法、可视化技巧和自动化报告解决方案，同时学习 R 语言，开发 R 包，不断探索高效的数据处理与展示方式。 🚀\n    \n      \n        \n      \n      \n        \n      \n      \n        \n      \n    \n  \n\n 回到顶部"
  },
  {
    "objectID": "qsight/2021-09-03-洪水与疫情/index.html",
    "href": "qsight/2021-09-03-洪水与疫情/index.html",
    "title": "特大暴雨与新冠疫情",
    "section": "",
    "text": "2021年的郑州经历了千年一遇的特大暴雨，从7月18日晚上开始，郑州就开始断断续续的下雨，到了20日上午开始雨水开始变得特别的凶猛，路面也开始积水，到了中午的时候，路面积水已经到了医院门口开始往医院里进水了。整个上午，虽然雨下的很大，但是没有感觉到特别的紧张，以为只是一场普通的大暴雨。但是从下午开始，随着积水越来越多，紧张感也随之而来。等到下午下班的时候，路面的雨水已经快到大腿跟了（本人身高1.7m）。\n果仁儿的幼儿园今天还是正常上课，下午的时候幼儿园已经因为大雨而断电了，幼儿园在微信群里通知家长们去接孩子。幼儿园这个安排还是让人有点不爽的，这么大的雨，万一路上有安全问题，怎么办呢？不过后来想想，幼儿园好像也没有其他选择。跟媳妇沟通后，我们还是决定把果仁接回家（俺家离单位大概2公里，我觉得对我来说，趟水回家还是没有问题的，先接果仁儿回家主要还是我的主意。）。\n当我真正走出医院的时候已经18点半了，外面的水比我想的要大一些。原本的柏油路面现在已经是变成了河道，雨水沿着东明路往北流，流速很大，遇到被趴窝的车，还能打出漩涡。我只能沿着医院门口的花坛顺着东明路往北走，路边的电动车已经被冲的东倒西歪，被水淹没过了。我的电动车放在了路西边，想顺便去看看怎么样了 ，于是在路口一步一步的挪动了路西边，不敢走快，腿抬的稍微高一点就站不稳，有被冲倒的危险。电动车问题不大，但是也已经快湮到座的地方了，不过也顾不上它了，继续往北走。下一个路口到黄河路右转就到了，不过就这一小段路，我走了近30分钟，到幼儿园的时候已经19点过了几分钟了。\n到幼儿园的时候雨小了一些，不过等把果仁从班里领出来的时候，雨又开始大了起来。中间有一个小插曲，果仁一个同学的妈妈不能来接孩子，想让我们先领回我们家，不过估计她也没有考虑到路上积水又这么多，我自己走路都有点困难，带上两个孩子，危险系数太大了。后来，老师也说领两个孩子太危险了，沟通过之后，决定还是只带果仁儿回家。\n果仁儿刚开始没有感觉很害怕，路上她反倒是有点小兴奋。我背上她，她撑着伞。不过当我过一个路口的时候，被什么东西绊了一下，差点滑倒。这个时候，她才开始害怕了。为了缓解她的紧张情绪，我就给她讲故事，一直在对话，她也就没有那么紧张了。\n当我们从幼儿园出来的时候，媳妇也从家里出门，想来接下我们。不过她走到红专路口的时候，就因为路口水流太大被堵在了路的东北角卖烧鸡的店门口了。\n我背着果仁儿继续往北走，路上边走边给果仁讲故事。果仁儿也很棒，一直坚持撑着伞，有好几次她的小手都快撑不住了，被伞带着左右摇晃，她一直也没有放弃，这是我感到最欣慰的地方。\n我们过了黄河路，红旗路，终于走到了红专路口。烧鸡店右边的台阶上站了好多人，果仁儿妈妈在烧鸡店的左边。这个时候光线已经不太好了，刚开始还没有看到她，打了电话之后才发现她。\n我们汇合之后，就继续往家里走，马上就到家了。这个时候果仁奶奶也打来电话，问我们到哪了，见到果仁妈妈没有。走到超市门口，想着买点应急物品储备。超市里已经停电了，营业员只能手工查单价，手工结账，速度很慢。我们接完账，又陆续来了好几个人购买储备物品。\n等我们到家的时候，已经是20点多了。这个时候，水还剩一个台阶就到门口了（我们住一楼）。这之后的整个晚上都会时不时的起来看看水到哪了，不过后面也也没有再上涨，早上起来的时候水也慢慢退去了。 幸运的是，家里一直没有停电，也没有停水。\n不知道果仁儿长大之后，还能不能记着这一段经历。"
  },
  {
    "objectID": "qsight/2021-09-03-洪水与疫情/index.html#特大暴雨",
    "href": "qsight/2021-09-03-洪水与疫情/index.html#特大暴雨",
    "title": "特大暴雨与新冠疫情",
    "section": "",
    "text": "2021年的郑州经历了千年一遇的特大暴雨，从7月18日晚上开始，郑州就开始断断续续的下雨，到了20日上午开始雨水开始变得特别的凶猛，路面也开始积水，到了中午的时候，路面积水已经到了医院门口开始往医院里进水了。整个上午，虽然雨下的很大，但是没有感觉到特别的紧张，以为只是一场普通的大暴雨。但是从下午开始，随着积水越来越多，紧张感也随之而来。等到下午下班的时候，路面的雨水已经快到大腿跟了（本人身高1.7m）。\n果仁儿的幼儿园今天还是正常上课，下午的时候幼儿园已经因为大雨而断电了，幼儿园在微信群里通知家长们去接孩子。幼儿园这个安排还是让人有点不爽的，这么大的雨，万一路上有安全问题，怎么办呢？不过后来想想，幼儿园好像也没有其他选择。跟媳妇沟通后，我们还是决定把果仁接回家（俺家离单位大概2公里，我觉得对我来说，趟水回家还是没有问题的，先接果仁儿回家主要还是我的主意。）。\n当我真正走出医院的时候已经18点半了，外面的水比我想的要大一些。原本的柏油路面现在已经是变成了河道，雨水沿着东明路往北流，流速很大，遇到被趴窝的车，还能打出漩涡。我只能沿着医院门口的花坛顺着东明路往北走，路边的电动车已经被冲的东倒西歪，被水淹没过了。我的电动车放在了路西边，想顺便去看看怎么样了 ，于是在路口一步一步的挪动了路西边，不敢走快，腿抬的稍微高一点就站不稳，有被冲倒的危险。电动车问题不大，但是也已经快湮到座的地方了，不过也顾不上它了，继续往北走。下一个路口到黄河路右转就到了，不过就这一小段路，我走了近30分钟，到幼儿园的时候已经19点过了几分钟了。\n到幼儿园的时候雨小了一些，不过等把果仁从班里领出来的时候，雨又开始大了起来。中间有一个小插曲，果仁一个同学的妈妈不能来接孩子，想让我们先领回我们家，不过估计她也没有考虑到路上积水又这么多，我自己走路都有点困难，带上两个孩子，危险系数太大了。后来，老师也说领两个孩子太危险了，沟通过之后，决定还是只带果仁儿回家。\n果仁儿刚开始没有感觉很害怕，路上她反倒是有点小兴奋。我背上她，她撑着伞。不过当我过一个路口的时候，被什么东西绊了一下，差点滑倒。这个时候，她才开始害怕了。为了缓解她的紧张情绪，我就给她讲故事，一直在对话，她也就没有那么紧张了。\n当我们从幼儿园出来的时候，媳妇也从家里出门，想来接下我们。不过她走到红专路口的时候，就因为路口水流太大被堵在了路的东北角卖烧鸡的店门口了。\n我背着果仁儿继续往北走，路上边走边给果仁讲故事。果仁儿也很棒，一直坚持撑着伞，有好几次她的小手都快撑不住了，被伞带着左右摇晃，她一直也没有放弃，这是我感到最欣慰的地方。\n我们过了黄河路，红旗路，终于走到了红专路口。烧鸡店右边的台阶上站了好多人，果仁儿妈妈在烧鸡店的左边。这个时候光线已经不太好了，刚开始还没有看到她，打了电话之后才发现她。\n我们汇合之后，就继续往家里走，马上就到家了。这个时候果仁奶奶也打来电话，问我们到哪了，见到果仁妈妈没有。走到超市门口，想着买点应急物品储备。超市里已经停电了，营业员只能手工查单价，手工结账，速度很慢。我们接完账，又陆续来了好几个人购买储备物品。\n等我们到家的时候，已经是20点多了。这个时候，水还剩一个台阶就到门口了（我们住一楼）。这之后的整个晚上都会时不时的起来看看水到哪了，不过后面也也没有再上涨，早上起来的时候水也慢慢退去了。 幸运的是，家里一直没有停电，也没有停水。\n不知道果仁儿长大之后，还能不能记着这一段经历。"
  },
  {
    "objectID": "qsight/2021-09-03-洪水与疫情/index.html#新冠疫情",
    "href": "qsight/2021-09-03-洪水与疫情/index.html#新冠疫情",
    "title": "特大暴雨与新冠疫情",
    "section": "2 新冠疫情",
    "text": "2 新冠疫情\n\n都说大灾之后有大疫，但是没有想到，随着7.20水灾之后到来的却是新型冠状病毒的流行。\n\n一般情况下，洪水过后居民的生活水源、环境都会受到影响。也会面临着蚊虫滋生、卫生环境较差等问题，因此一些传染病特别是消化系统疾病也会出现流行。\n但是，我认为这次新型冠状病毒疫情的流行跟水灾不全相关，如果没有其他地区的德尔塔型新冠病毒流行的话，单纯的水灾不至于会出现较大的疫情，因为目前灾后的消毒措施还是比较到位的。随后的流行病学调查数据也显示，此次新冠疫情的流行确实是由于人为控制因素造成的。\n面临着新一轮的新冠疫情，我心里还是有很多烦躁情绪的，不过政府和公共面对这一次的疫情比以前更加理性，郑州市政府也根据流行病学调查情况，划分了风险等级，实施了不同的封控措施。\n我的大学同学从福建回来，原打算陪母亲做腰椎手术，暂时住在堂弟家里。而堂弟家位于二七区，是此次疫情的中心（郑州市六院附近）。第一天晚上住到堂弟家里，第二天就实行了封控措施，所有人不得外出。等他母亲出院的时候，他们的封控措施还没有解封。跟他电话的时候，他表现出来的更多是无奈和焦急。他在泉州的华侨大学任教，我们也好长时间没有见面了，前几天解封后，他已经着急着回去工作了。已经到了郑州，没有见着面也是我们的遗憾。\n说到疫情，必须要说说我家二女儿依依。她出生在疫情最刚开始的半个月前，媳妇还在月子期间的时候武汉的疫情开始肆虐。今年依依已经一岁半了，郑州又迎来了第二波疫情。 她的大部分娱乐都是在家里度过的，不过她也不像大人有那么多想法，偶尔也会着急的想出去。\n等她长大了，可以跟她讲讲这段经历。"
  },
  {
    "objectID": "qsight/2022-02-27-point-estimate/index.html",
    "href": "qsight/2022-02-27-point-estimate/index.html",
    "title": "图形化展示比值比和可信区间数据的另一种方式",
    "section": "",
    "text": "其实一类数据的展示方式有多种，可以用表格的形式展示，也可以用图的形式来展示。两种方式各有优缺点，表格可以展示信息量比较丰富的数据，但是不太直观；而图的展示方式比较直观，但是展示的信息量有限。所以，我们在选择展示方式时，需要平衡这两者之间的关系。\n我们在前面的一篇博文中介绍了利用森林图的方式展示比值比数据，这种方式对于展示多个不同类型变量，不同亚组的比值比数据比较有优势，但是如果我们的研究结果变量类型比较单一的话，也可以试试我们下面一种展示方式。\n首先，我们生成一组比值比可信区间数据，包含5个变量：group分组1,2,3,4分别代表Q1、Q2、Q3和Q4；type：指标类型，1代表PM10,2代表PM2.5；value代表OR值，lower和upper分别代表95%可信区间的下限和上限。\n然后，我们把group和type两个变量因子化，并添加相应的值标签，这样标签数据就可以显示到图上。\n\nlibrary(dplyr)\ndf &lt;- data.frame(\n  group=c(1,2,3,4,1,2,3,4),\n  type=c(rep(1,4),rep(2,4)),\n  value = c(0.5, 2, 1.5, 1.8, 0.9,1.2,1.4,1.6),\n  upper = c(0.8,2.5, 1.9, 2.6,1.1,1.4,1.8,2.0),\n  lower = c(-0.3, 1.0, 1.1, 0.1,0.7,1.1,1.2,1.3)\n)\n\ndf&lt;-df%&gt;%mutate(group=factor(group,labels=c(\"Q1\",\"Q2\",\"Q3\",\"Q4\")),\n                type=factor(type,labels=c(\"PM10\",\"PM2.5\")))\n\n我们可以利用ggplot2的geom_point函数绘制OR值的点，利用geom_errorbar函数绘制95%可信区间的上下限值，利用geom_hline函数绘制参考线，然后利用facet_wrap函数把两个指标的图绘制到一张图上。\n\nlibrary(ggplot2)\ndf%&gt;%ggplot(aes(x=group,y=value))+\n  geom_point(aes(colour=type),shape=\"square\",size=3)+\n  geom_hline(aes(yintercept=1),linetype=8)+\n  geom_errorbar(aes(ymin = lower, ymax = upper), width = 0.1)+\n  scale_y_continuous(breaks = seq(-1, 3, by = 0.5)) +\n  facet_wrap(~type)+\n  labs(x = \"Hypertension\", y = \"Adjusted OR and 95% CI\")+\n  theme_classic()+\n  theme(\n    strip.text.x = element_blank(),\n    legend.position = c(0.1,0.9),\n    legend.title =  element_blank()\n  )-&gt;pp\n\nWarning: A numeric `legend.position` argument in `theme()` was deprecated in ggplot2\n3.5.0.\nℹ Please use the `legend.position.inside` argument of `theme()` instead.\n\nggsave(\"ratio.png\")\n\nSaving 7 x 5 in image\n\n\n\n\n\n比值比图\n\n\n上图就是我们最终的结果。R的绘图功能很强大，很灵活，可以实现很精确的绘图，让我们坚持每天学一点科研作图吧！\n\n\n\n\n\n  \n    \n  \n  \n    陈 琼\n       博士 \n       副主任医师 \n    他从事肿瘤登记与人群流行病学研究，编写肿瘤登记年报，并开发和维护个人网站。他撰写博文，分享数据分析方法、可视化技巧和自动化报告解决方案，同时学习 R 语言，开发 R 包，不断探索高效的数据处理与展示方式。 🚀\n    \n      \n        \n      \n      \n        \n      \n      \n        \n      \n    \n  \n\n 回到顶部"
  },
  {
    "objectID": "qsight/2021-11-21-ICDO3编码规则5/index.html",
    "href": "qsight/2021-11-21-ICDO3编码规则5/index.html",
    "title": "ICDO3编码规则五：对组织学等级和分化程度的编码",
    "section": "",
    "text": "0.1 规则描述\n\n诊断结果描述中涉及两个不同程度的登记或分化则指定最高等级或分化程度的编码。\n诊断结果描述未指出等级或分化程度的情况，则编码到“9”。\n\n\n\n0.2 形态学编码第六位数\n\n\n\nICDO3形态学编码第六位数\n等级\n分化程度\n\n\n\n\n1\nI级\n高分化，已分化，NOS\n\n\n2\nII级\n中分化，已中等分化，中分化\n\n\n3\nIII级\n低分化\n\n\n4\nIV级\n未分化/间变分化\n\n\n9\n—\n分级/分化/未确定、未指出或不适用的\n\n\n\n\n\n0.3 常见未分化或间变分化恶性肿瘤形态学编码\n\n\n\n形态学编码\n形态学描述\n\n\n\n\nM8020/34、M8021/34\n未分化癌\n\n\nM9062/34\n精原细胞瘤\n\n\nM9082/34\n恶性畸胎瘤\n\n\nM9392/34\n室管膜瘤\n\n\nM9401/34\n星形细胞瘤\n\n\nM9451/34\n少突神经胶质瘤\n\n\nM9505/34\n神经节神经胶质瘤\n\n\nM9512/34\n视网膜母细胞瘤\n\n\nM9530/34\n脑（脊）膜瘤\n\n\n\n\n\n0.4 编码举例\n\n诊断描述：鳞状细胞癌Ⅱ级，编码到 M8070/32 。\n诊断描述：中分化的鳞状细胞癌，也编码到 M8070/32。\n\n当诊断指出两个不同的等级或分化程度，应使用较大的编码作为等级编码。\n\n诊断描述：“中分化的鳞状细胞癌伴有低分化区”，中分化的编码或等级为2，而低分化的编码为3，按照规则应给予等级编码“3”，完整编码为：M80070/33。\n诊断描述：“食管上见溃疡肿物5*2cm，（食管）溃疡型中-高分化鳞癌，侵及外膜。 神经侵犯（-），脉管癌栓（+）。（各切缘）干净。（另送食管旁淋巴结）0/2。（另送下段食管旁淋巴结）0/1。（另送贲门淋巴结）0/3。（另送另送贲门淋巴结）0/1。（另送胃左淋巴结）0/1。（另送隆突淋巴结）0/3。” 完整编码：C15.9 M8070/32\n\n\n\n\n\n\n\n  \n    \n  \n  \n    陈 琼\n       博士 \n       副主任医师 \n    他从事肿瘤登记与人群流行病学研究，编写肿瘤登记年报，并开发和维护个人网站。他撰写博文，分享数据分析方法、可视化技巧和自动化报告解决方案，同时学习 R 语言，开发 R 包，不断探索高效的数据处理与展示方式。 🚀\n    \n      \n        \n      \n      \n        \n      \n      \n        \n      \n    \n  \n\n 回到顶部"
  },
  {
    "objectID": "qsight/2010-11-28-零下16度/index.html",
    "href": "qsight/2010-11-28-零下16度/index.html",
    "title": "零下16度",
    "section": "",
    "text": "现在大庆越来越冷了，最低温度已经达到零下16度了，大雪也是一茬接一茬的在下。 听我们赵师傅说，今年的雪比往年下的多些，就当是大庆欢迎我们的礼物吧。 在外面待上有十分钟的时间，直接就把人冻透了，真的是一种彻头彻尾的冷啊，在兰州的时候还没有感受到过这种感觉。 不过，在屋里还是很暖和的，所以一般情况下，我们出去吃晚饭立马就回办公室干活了。 在大庆的一个多月的生活，基本步骤大致都是如此，工作-吃饭-睡觉-工作，没有户外活动。 在工作闲暇之余，想想老爸老妈，想想跟朋友在一起胡混的日子，其实也挺幸福的，简简单单的幸福，幸幸福福的简单。\n在大庆再工作一月左右就能回去了，可能以后再也没有机会来大庆了，好好珍惜在这里的每一天吧，珍惜在这里简单的幸福， 好好感受这里的零下16度。-\n\n\n\n\n\n  \n    \n  \n  \n    陈 琼\n       博士 \n       副主任医师 \n    他从事肿瘤登记与人群流行病学研究，编写肿瘤登记年报，并开发和维护个人网站。他撰写博文，分享数据分析方法、可视化技巧和自动化报告解决方案，同时学习 R 语言，开发 R 包，不断探索高效的数据处理与展示方式。 🚀\n    \n      \n        \n      \n      \n        \n      \n      \n        \n      \n    \n  \n\n 回到顶部"
  },
  {
    "objectID": "qsight/2024-09-25_write-cancer-report/index.html",
    "href": "qsight/2024-09-25_write-cancer-report/index.html",
    "title": "基于quarto自动化编制肿瘤登记年报",
    "section": "",
    "text": "近年来发布肿瘤登记年报已经成为各省级或着市级肿瘤登记处的主要工作内容之一，本篇文章将向大家介绍基于R语言和quarto的方法实现自动化编写肿瘤登记年报的思路，希望通过这样的方式提高登记处工作效率。\n肿瘤登记年报是肿瘤登记处发布肿瘤发病、死亡、生存等肿瘤监测流行病学数据的重要方式和途径。近年来，发布肿瘤登记年报也被纳入到健康中国行动-癌症防治行动实施方案中， 因此，这项工作也成为了各省级肿瘤登记处每年的重要工作内容，而如何高质量、高效率的完成此项工作也至关重要。"
  },
  {
    "objectID": "qsight/2024-09-25_write-cancer-report/index.html#肿瘤登记年报的特点",
    "href": "qsight/2024-09-25_write-cancer-report/index.html#肿瘤登记年报的特点",
    "title": "基于quarto自动化编制肿瘤登记年报",
    "section": "1 肿瘤登记年报的特点",
    "text": "1 肿瘤登记年报的特点\n\n定期性和系统性: 肿瘤登记年报通常按年度发布，具备明确的时间周期性。这种年鉴式的定期报告使得研究者、公共卫生从业者以及医疗管理人员能够持续追踪和监测肿瘤的发生趋势、变化和分布情况。\n权威性和参考性: 肿瘤登记年报一般由国家级或者省级卫生部门、肿瘤登记处等权威机构编制，具有较高的权威性，这也使年报成为卫生政策制定、科学研究、医疗服务优化的重要参考资料。对于年报发布者来说，保证数据真实有效至关重要。\n以数据为主: 肿瘤登记年报以发布数据为主，通过文字描述或图、表等形式展示肿瘤流行病学数据。\n\n基于肿瘤登记年报的这些特点，如果我们能以下面的这种状态完成年报编写工作就好了，一个人能独自在一天内无误地完成年报的编写工作，并且以完好的格式展示出来(标题、目录、页码、图和表的引用等均能完好展示)，当原始数据或基本统计数据有变化时，我们能够快速地（1分钟之内）更新最终结果。这就要求这个过程能够高效快速、具有可重复性、能够自动化。"
  },
  {
    "objectID": "qsight/2024-09-25_write-cancer-report/index.html#肿瘤登记年报发布流程",
    "href": "qsight/2024-09-25_write-cancer-report/index.html#肿瘤登记年报发布流程",
    "title": "基于quarto自动化编制肿瘤登记年报",
    "section": "2 肿瘤登记年报发布流程",
    "text": "2 肿瘤登记年报发布流程\n\n\n\n\n\nflowchart LR\n  A[数据审核] --&gt; B[统计分析]\n  B --&gt; C[年报撰写]\n  C --&gt; D[正式出版]\n\n\n\n\n\n\n肿瘤登记年报的发布流程大致可以分为以上几个阶段，其中，统计分析和年报撰写这两个阶段是可以控制的，因此，提高这两个阶段的效率就能提高年报出版和发布的整体效率。"
  },
  {
    "objectID": "qsight/2024-09-25_write-cancer-report/index.html#编写思路",
    "href": "qsight/2024-09-25_write-cancer-report/index.html#编写思路",
    "title": "基于quarto自动化编制肿瘤登记年报",
    "section": "3 编写思路",
    "text": "3 编写思路\n我以前曾经发过一篇介绍利用quarto进行论文写作的博文，其实我们也可以利用quarto进行书籍的编写，quarto系统内置了book的项目类型进行书籍的编写。\n基本思路是利用可重复性报告的方法，利用qmd把文字描述和引用数据结合起来，从而形成综合的报告，通过knitr转换为md，再通过pandoc最终渲染为我们所需要的格式，比如docx、pdf或者html等。"
  },
  {
    "objectID": "qsight/2022-03-31-shige/index.html",
    "href": "qsight/2022-03-31-shige/index.html",
    "title": "诗歌学习",
    "section": "",
    "text": "唐代：孟浩然\n春眠不觉晓，处处闻啼鸟。 夜来风雨声，花落知多少。"
  },
  {
    "objectID": "qsight/2022-03-31-shige/index.html#春晓",
    "href": "qsight/2022-03-31-shige/index.html#春晓",
    "title": "诗歌学习",
    "section": "",
    "text": "唐代：孟浩然\n春眠不觉晓，处处闻啼鸟。 夜来风雨声，花落知多少。"
  },
  {
    "objectID": "qsight/2022-03-31-shige/index.html#登鹳雀楼",
    "href": "qsight/2022-03-31-shige/index.html#登鹳雀楼",
    "title": "诗歌学习",
    "section": "2 《登鹳雀楼》",
    "text": "2 《登鹳雀楼》\n唐代：王之涣\n百日依山尽，黄河入海流。 欲穷千里目，更上一层楼。"
  },
  {
    "objectID": "qsight/2022-03-31-shige/index.html#静夜思",
    "href": "qsight/2022-03-31-shige/index.html#静夜思",
    "title": "诗歌学习",
    "section": "3 《静夜思》",
    "text": "3 《静夜思》\n唐代：李白\n床前明月光，疑是地上霜。 举头望明月，低头思故乡。"
  },
  {
    "objectID": "qsight/2022-03-31-shige/index.html#绝句四首",
    "href": "qsight/2022-03-31-shige/index.html#绝句四首",
    "title": "诗歌学习",
    "section": "4 《绝句四首》",
    "text": "4 《绝句四首》\n唐代：杜甫\n两只黄鹂鸣翠柳，一行白鹭上青天。 窗含西岭千秋雪，门泊东吴万里船。"
  },
  {
    "objectID": "qsight/2022-03-31-shige/index.html#悯农",
    "href": "qsight/2022-03-31-shige/index.html#悯农",
    "title": "诗歌学习",
    "section": "5 《悯农》",
    "text": "5 《悯农》\n李绅\n锄禾日当午，汗滴禾下土。 谁知盘中餐，粒粒皆辛苦。"
  },
  {
    "objectID": "qsight/2022-03-31-shige/index.html#七步诗",
    "href": "qsight/2022-03-31-shige/index.html#七步诗",
    "title": "诗歌学习",
    "section": "6 《七步诗》",
    "text": "6 《七步诗》\n曹植\n煮豆燃豆萁，豆在釜中泣。 本是同根生，相煎何太急。"
  },
  {
    "objectID": "qsight/2022-03-31-shige/index.html#题西林壁",
    "href": "qsight/2022-03-31-shige/index.html#题西林壁",
    "title": "诗歌学习",
    "section": "7 《题西林壁》",
    "text": "7 《题西林壁》\n苏轼\n横看成岭侧成峰，远近高低各不同。 不识庐山真面目，只缘身在此山中。"
  },
  {
    "objectID": "qsight/2022-03-31-shige/index.html#相思",
    "href": "qsight/2022-03-31-shige/index.html#相思",
    "title": "诗歌学习",
    "section": "8 《相思》",
    "text": "8 《相思》\n王维\n红豆生南国，春来发几枝。 愿君多采撷，此物最相思。"
  },
  {
    "objectID": "qsight/2022-03-31-shige/index.html#咏鹅",
    "href": "qsight/2022-03-31-shige/index.html#咏鹅",
    "title": "诗歌学习",
    "section": "9 《咏鹅》",
    "text": "9 《咏鹅》\n唐代：骆宾王\n鹅，鹅，鹅，曲项向天歌。 白毛浮绿水，红掌拨清波。"
  },
  {
    "objectID": "qsight/2022-03-31-shige/index.html#咏柳柳枝词",
    "href": "qsight/2022-03-31-shige/index.html#咏柳柳枝词",
    "title": "诗歌学习",
    "section": "10 《咏柳/柳枝词》",
    "text": "10 《咏柳/柳枝词》\n唐代：贺知章\n碧玉妆成一树高，万条垂下绿丝绦。 不知细叶谁裁出，二月春风似剪刀。"
  },
  {
    "objectID": "qsight/2010-06-04-SAS-note/index.html",
    "href": "qsight/2010-06-04-SAS-note/index.html",
    "title": "SAS里自动加注释的快捷键",
    "section": "",
    "text": "今天在SAS群里有人问SAS里自动加注释的快捷键是什么，我当时想，这还有快捷键啊？难道SAS还能自动给程序写出解释性语言？正在疑问之时，群里已有人给出答案:加注释：“Ctrl+/” 取消注释：“Shift+Ctrl+/”。试了一下感觉很爽，以后写程序，在给程序加注释的时候，再不用写”“了，把注释直接写出来，然后选中，按Ctrl+/就行了，呵呵，省去了很多功夫~~。\n\n\n\n\n\n  \n    \n  \n  \n    陈 琼\n       博士 \n       副主任医师 \n    他从事肿瘤登记与人群流行病学研究，编写肿瘤登记年报，并开发和维护个人网站。他撰写博文，分享数据分析方法、可视化技巧和自动化报告解决方案，同时学习 R 语言，开发 R 包，不断探索高效的数据处理与展示方式。 🚀\n    \n      \n        \n      \n      \n        \n      \n      \n        \n      \n    \n  \n\n 回到顶部"
  },
  {
    "objectID": "qsight/2022-03-18-xianjin/index.html",
    "href": "qsight/2022-03-18-xianjin/index.html",
    "title": "河南省29个肿瘤登记处荣获国家癌症中心表彰",
    "section": "",
    "text": "为贯彻落实《健康中国行动–癌症防治行动实施方案(2019-2022年)》及国家卫生健康委员会、国家中医药管理局《肿瘤登记管理办法》(国卫疾控发[2015]6号)文件精神，进一步做好肿瘤随访登记工作，加强我国肿瘤登记工作规范化管理，健全我国肿瘤监测信息系统，掌握我国恶性肿瘤的流行状况与疾病负担，充分发挥优秀肿瘤登记处的示范引领作用。国家癌症中心对全国肿瘤登记处进行综合考评，授予16个省级登记处“省级单位杰出贡献奖”；授予38个登记处“肿瘤登记工作杰出贡献奖”；授予178个登记处“肿瘤登记工作优秀奖”；授予120个登记处“肿瘤登记工作进步奖”。\n河南省2021年肿瘤登记工作共荣获29项奖励，具体获奖肿瘤登记处及荣获奖励如下："
  },
  {
    "objectID": "qsight/2022-03-18-xianjin/index.html#省级单位杰出贡献奖",
    "href": "qsight/2022-03-18-xianjin/index.html#省级单位杰出贡献奖",
    "title": "河南省29个肿瘤登记处荣获国家癌症中心表彰",
    "section": "1 省级单位杰出贡献奖",
    "text": "1 省级单位杰出贡献奖\n河南省肿瘤医院荣获“省级单位杰出贡献奖”"
  },
  {
    "objectID": "qsight/2022-03-18-xianjin/index.html#肿瘤登记工作杰出贡献奖",
    "href": "qsight/2022-03-18-xianjin/index.html#肿瘤登记工作杰出贡献奖",
    "title": "河南省29个肿瘤登记处荣获国家癌症中心表彰",
    "section": "2 肿瘤登记工作杰出贡献奖",
    "text": "2 肿瘤登记工作杰出贡献奖\n林州市肿瘤医院荣获“肿瘤登记工作杰出贡献奖”"
  },
  {
    "objectID": "qsight/2022-03-18-xianjin/index.html#肿瘤登记工作优秀奖",
    "href": "qsight/2022-03-18-xianjin/index.html#肿瘤登记工作优秀奖",
    "title": "河南省29个肿瘤登记处荣获国家癌症中心表彰",
    "section": "3 肿瘤登记工作优秀奖",
    "text": "3 肿瘤登记工作优秀奖\n共有16个肿瘤登记处荣获“肿瘤登记工作优秀奖”。\n\n偃师市疾病预防控制中心\n西平县疾病预防控制中心\n洛阳市疾病预防控制中心\n鲁山县疾病预防控制中心\n辉县市疾病预防控制中心\n禹州市疾病预防控制中心\n郾城区疾病预防控制中心\n源汇区疾病预防控制中心\n内乡县疾病预防控制中心\n罗山县疾病预防控制中心\n沈丘县疾病预防控制中心\n郸城县疾病预防控制中心\n济源市疾病预防控制中心\n开封市祥符区疾病预防控制中心\n鹤壁市人民医院\n睢县疾病预防控制中心"
  },
  {
    "objectID": "qsight/2022-03-18-xianjin/index.html#肿瘤登记工作进步奖",
    "href": "qsight/2022-03-18-xianjin/index.html#肿瘤登记工作进步奖",
    "title": "河南省29个肿瘤登记处荣获国家癌症中心表彰",
    "section": "4 肿瘤登记工作进步奖",
    "text": "4 肿瘤登记工作进步奖\n共有11个肿瘤登记荣获“肿瘤登记工作进步奖”。\n\n孟津县疾病预防控制中心\n新安县疾病预防控制中心\n栾川县疾病预防控制中心\n嵩县疾病预防控制中心\n汝阳县疾病预防控制中心\n召陵区疾病预防控制中心\n方城县疾病预防控制中心\n洛宁县疾病预防控制中心\n华龙区疾病预防控制中心\n濮阳县疾病预防控制中心\n浉河区疾病预防控制中心"
  },
  {
    "objectID": "qsight/2022-03-18-xianjin/index.html#表彰文件下载",
    "href": "qsight/2022-03-18-xianjin/index.html#表彰文件下载",
    "title": "河南省29个肿瘤登记处荣获国家癌症中心表彰",
    "section": "5 表彰文件下载",
    "text": "5 表彰文件下载\n国家癌症中心便函[2021]第3号"
  },
  {
    "objectID": "qsight/2022-05-06-r-wordcloud2/index.html",
    "href": "qsight/2022-05-06-r-wordcloud2/index.html",
    "title": "R语言wordcloud2包绘制词云图",
    "section": "",
    "text": "词云图，也叫文字云，是对网络文本中出现频率较高的“关键词”予以视觉上的突出，出现越多，显示的字体越大，越突出，这个关键词也就越重要。让浏览者通过词云图一眼就可以快速感知最突出的文字，迅速抓住重点，了解主旨。"
  },
  {
    "objectID": "qsight/2022-05-06-r-wordcloud2/index.html#什么是词云图",
    "href": "qsight/2022-05-06-r-wordcloud2/index.html#什么是词云图",
    "title": "R语言wordcloud2包绘制词云图",
    "section": "",
    "text": "词云图，也叫文字云，是对网络文本中出现频率较高的“关键词”予以视觉上的突出，出现越多，显示的字体越大，越突出，这个关键词也就越重要。让浏览者通过词云图一眼就可以快速感知最突出的文字，迅速抓住重点，了解主旨。"
  },
  {
    "objectID": "qsight/2022-05-06-r-wordcloud2/index.html#安装wordcloud2包以及主要参数介绍",
    "href": "qsight/2022-05-06-r-wordcloud2/index.html#安装wordcloud2包以及主要参数介绍",
    "title": "R语言wordcloud2包绘制词云图",
    "section": "2 安装wordcloud2包，以及主要参数介绍",
    "text": "2 安装wordcloud2包，以及主要参数介绍\ninstall.packages(\"wordcloud2\")\nwordcloud2包里绘制词云图的函数是wordcloud2(),而它常用的参数有以下几种：\n\ndata：词云生成数据，包含具体词语以及频率；\nsize：字体大小，默认为1，一般来说该值越小，生成的形状轮廓越明显；\nfontFamily：字体，如‘微软雅黑’；\nfontWeight：字体粗细，包含‘normal’，‘bold’以及‘600’；；\ncolor：字体颜色，可以选择‘random-dark’以及‘random-light’，其实就是颜色色系；\nbackgroundColor：背景颜色，支持R语言中的常用颜色，如‘gray’，‘blcak’，但是还支持不了更加具体的颜色选择，如‘gray20’；\nminRontatin与maxRontatin：字体旋转角度范围的最小值以及最大值，选定后，字体会在该范围内随机旋转；\nrotationRation：字体旋转比例，如设定为1，则全部词语都会发生旋转；\nshape：词云形状选择，默认是‘circle’，即圆形。还可以选择‘cardioid’（苹果形或心形），‘star’（星形），‘diamond’（钻石），‘triangle-forward’（三角形），‘triangle’（三角形），‘pentagon’（五边形）；"
  },
  {
    "objectID": "qsight/2022-05-06-r-wordcloud2/index.html#准备数据",
    "href": "qsight/2022-05-06-r-wordcloud2/index.html#准备数据",
    "title": "R语言wordcloud2包绘制词云图",
    "section": "3 准备数据",
    "text": "3 准备数据\nwordcloud2包默认自带了一个英文词频数据框，包含了两个变量 word:字符，freq：字符的出现频率，我们可以利用这个数据来做词云图的示例。\n\nlibrary(wordcloud2)\nhead(demoFreq)\n\n         word freq\noil       oil   85\nsaid     said   73\nprices prices   48\nopec     opec   42\nmln       mln   31\nthe       the   26\n\n\n还有一个中文词频数据框，包含两个变量 V2 词汇，V1词汇频率。\n\nhead(demoFreqC)\n\n        V2   V1\n1     数据 2304\n3     统计 1413\n4     用户  855\n5     模型  846\n7     分析  773\n8 数据分析  750"
  },
  {
    "objectID": "qsight/2022-05-06-r-wordcloud2/index.html#绘制词云图",
    "href": "qsight/2022-05-06-r-wordcloud2/index.html#绘制词云图",
    "title": "R语言wordcloud2包绘制词云图",
    "section": "4 绘制词云图",
    "text": "4 绘制词云图\n绘制星形词云图，字体大小设置为1\n\nwordcloud2(demoFreq, size = 1,shape = \"star\")  \n\n\n\n\n\n利用demoFreqC数据绘制中文词云图，设定字体为微软雅黑，设定颜色为random-light，背景色设为灰色。\n\nwordcloud2(demoFreqC,size = 2,fontFamily = \"微软雅黑\",color = \"random-light\", backgroundColor = \"grey\")  \n\n\n\n\n\n绘制默认词云图，字体大小设置为2，字体旋转最小和最大均设置为-pi/2。\n\nwordcloud2(demoFreq, size = 2, minRotation = -pi/2, maxRotation = -pi/2) \n\n\n\n\n\n绘制词云图，字体大小设置为2，字体旋转最大和最小角度均为-pi/6，旋转比例设置为0.5，一半的字体会旋转。\n\nwordcloud2(demoFreq, size = 2, minRotation = -pi/6, maxRotation = -pi/6,rotateRatio = 0.5)"
  },
  {
    "objectID": "qsight/2020-12-25-funny/index.html",
    "href": "qsight/2020-12-25-funny/index.html",
    "title": "做一个有趣的家长",
    "section": "",
    "text": "做家长是分“层次”的。第一个层次的家长舍得为孩子花钱；第二次层次的家长舍得为孩子花时间；第三个层次的家长开始思考教育的目标问题；第四个层次的家长为了教育孩子而提升和完善自己；第五个层次的家长尽己所能支持鼓励孩子成为最好的自己，也以身作则支持孩子成为真正的自己。\n\n\n“问题孩子背后是问题家长”、“情绪化的家长教育出情绪化的孩子”、“孩子身上百分之九十九的问题都源自于家长”\n\n日常生活中，我有时候会控制不好脾气与情绪，若孩子没有按照自己的意愿做事或者调皮任性，就会吵孩子甚至厉语“威胁”更甚者拍打孩子。尽管过后无比后悔，反思后深觉应该更有耐心的教育、引导孩子，毕竟孩子在这个年龄段不会像成人一样自律性特别强！\n做一名有趣的家长，就得有有趣的家庭氛围。比如有趣的亲子阅读、有趣的家庭游戏、保护孩子的幽默感、有意义的亲子生活体验。我家孩子有个特别好的睡前习惯，就是每天必须阅读两本绘本才进入梦乡，作为父母，应该在阅读绘本的过程中增添些表情幽默感，与孩子寓教于乐，共同感受绘本中透露的喜怒哀乐。\n父母是孩子的领路人，做好自己，才能给孩子做好榜样！作为父母，我们也会努力做到第五个层次，在孩子的教育问题以及生活中再接再厉，成就孩子的同时成就自己，真正以身作则支持孩子成为真正的自己！\n\n\n\n\n\n  \n    \n  \n  \n    陈 琼\n       博士 \n       副主任医师 \n    他从事肿瘤登记与人群流行病学研究，编写肿瘤登记年报，并开发和维护个人网站。他撰写博文，分享数据分析方法、可视化技巧和自动化报告解决方案，同时学习 R 语言，开发 R 包，不断探索高效的数据处理与展示方式。 🚀\n    \n      \n        \n      \n      \n        \n      \n      \n        \n      \n    \n  \n\n 回到顶部"
  },
  {
    "objectID": "qsight/2023-02-08-paper-award/index.html",
    "href": "qsight/2023-02-08-paper-award/index.html",
    "title": "2023年给我的开年惊喜",
    "section": "",
    "text": "多舛的2022年终于过去了，2023年也伴随着一次全民的新冠感染重磅出场。本想着2023年还是像以往一样，单调、乏味，但是生活还是给了我一个小惊喜。\n\n\n\n\n\n2012-2021年中国肿瘤杂志-卓越论文奖励证书\n\n\n2023年1月12日我收到了《中国肿瘤》发来的email，说我得到了杂志社颁发的“卓越论文奖”的奖项。收到这个email心里还是非常高兴的，比以往获得的任何奖励都高兴。\n首先，高兴来自于“未知”，以往也得到过一些小小的荣誉，比如什么”肿瘤防控先进个人”、“全国肿瘤登记先进个人” 等，但是这些荣誉都是通过申请得来的，也就是说需要向颁发单位申请，说明你做了哪些工作，取得了哪些成绩等等，得到了这个荣誉之后也没有了太多的兴奋和高兴。但是这次不一样，这个奖项没有经过这些申报程序，得到这个消息时，还是感到意外和惊喜。\n其次，高兴来自于”用心“，这个将项的评审杂志社还是挺用心的。首先，通过“论文引用量”这个定量指标对论文进行初步的定量评价，然后再通过专家对论文盲审从而进行定性评价，最后评选出各级别的奖项，所以杂志社是在用心组织评选论文的，收到这个将项还是很有满足感的。\n\n\n\n\n\n中国肿瘤杂志编辑部来信\n\n\n同时，高兴还来自于“回忆”，这个篇论文是我刚参加工作的第二年写的，是我参加国家肿瘤防治研究办公室的一项工作的产出，这项工作是编写全国2003-2007年恶性肿瘤发病死亡报告，这项目工作是全国第一次5年合计的恶性肿瘤发病死亡报告，所以还是有非常重要的意义的。\n当我打开Email看到是关于这项工作的内容时，思绪也一下回到了10年前。那时，我刚参加工作，对未来充满憧憬，也对一切都很感兴趣，希望学习新东西。打开Email使我回忆起了10年前的失落和美好，也回忆起了那时的一些人和事儿。这些突然来的一些记忆就变得很美好。\n高兴劲儿过去之后，沉下心来想想为什么能得到这个奖项。其实并不是这篇论文写的有多么的好，而是论文提供的数据是当时研究者们比较关注的内容。10年前是中国生活方式相关的肿瘤发病率抬头开始上升的阶段，研究者们也非常希望获取相关的信息。\n能够得到这个奖励，我还是要感谢一下国家肿瘤防办的老师能让我参与这个项目，感谢孙主任对论文写作的指导，感谢杂志社的鼓励，今后要戒骄戒躁，沉下心来，继续努力。\n\n\n\n\n\n  \n    \n  \n  \n    陈 琼\n       博士 \n       副主任医师 \n    他从事肿瘤登记与人群流行病学研究，编写肿瘤登记年报，并开发和维护个人网站。他撰写博文，分享数据分析方法、可视化技巧和自动化报告解决方案，同时学习 R 语言，开发 R 包，不断探索高效的数据处理与展示方式。 🚀\n    \n      \n        \n      \n      \n        \n      \n      \n        \n      \n    \n  \n\n 回到顶部"
  },
  {
    "objectID": "qsight/2022-12-05-rmd-to-quarto/index.html",
    "href": "qsight/2022-12-05-rmd-to-quarto/index.html",
    "title": "可重复式研究报告:从blogdown,bookdown,pagedown到Quarto",
    "section": "",
    "text": "这篇博文描述了博主从利用blogdown、bookdown等基于rmd的包实现可重复性研究报告到利用quarto实现的过程。"
  },
  {
    "objectID": "qsight/2022-12-05-rmd-to-quarto/index.html#传统写作的困境",
    "href": "qsight/2022-12-05-rmd-to-quarto/index.html#传统写作的困境",
    "title": "可重复式研究报告:从blogdown,bookdown,pagedown到Quarto",
    "section": "1 传统写作的困境",
    "text": "1 传统写作的困境\n研究项目立项–&gt;&gt;收集数据–&gt;&gt;整理数据–&gt;&gt;分析数据–&gt;&gt;撰写论文/报告\n这应该是很多研究者的开展研究工作的基本流程，但是研究工作并不总是一帆顺利地沿着这个方向进行。 我们可能已经撰写完成研究报告，但是收集的数据有了更新，或者需要纳入更多的研究对象，再或者原先某些缺失的数据通过其它渠道进行了补充，那么我们就需要更新研究报告/论，再重新分析数据，各种统计过程必须要重新来过，然后再把统计结果一点一点粘贴到word里，是不是想想这个过程就很头疼。\n这是我们在用office套件，比如word、excel、powerpoint等软件在撰写报告时非常常见的情形。"
  },
  {
    "objectID": "qsight/2022-12-05-rmd-to-quarto/index.html#可重复性报告",
    "href": "qsight/2022-12-05-rmd-to-quarto/index.html#可重复性报告",
    "title": "可重复式研究报告:从blogdown,bookdown,pagedown到Quarto",
    "section": "2 可重复性报告",
    "text": "2 可重复性报告\n但是Rmd/rmarkown文档及knitr的出现解决了这一问题，Rmd格式文档通过把通用的markdown和嵌入的R语言代码块结合起来，通过knitr包把rmd文档编译成统一的md文档，然后再通过pandoc转成各种格式，如html、PDF、Word、slides等。\n\n这样我们在写研究报告的时候，就可以利用rmd把统计过程整合到统计报告的撰写中来，如果原始数据有变化，只需要重新执行一次编译过程就能更新整个研究报告了。 其实这个过程也就是我们所说的可重复性数据分析或者可重复性报告。\n\n\n\n\n\n\n可重复性报告/可重复性数据分析\n\n\n\n我们所说的可重复性报告是指利用代码把数据分析过程串起来，最终生成可重复性的报告。其实说到可重复性报告，应该首先说下文学编程，它是一种理念，强调以自然语言呈现计算逻辑，文本和代码相互混合的方式，并且从计算机代码的执行逻辑过渡到人的思维逻辑。我们现在使用的R Sweave，R markdown，以及J’upyter都是实现文学编程的具体方式。"
  },
  {
    "objectID": "qsight/2022-12-05-rmd-to-quarto/index.html#r-markdown",
    "href": "qsight/2022-12-05-rmd-to-quarto/index.html#r-markdown",
    "title": "可重复式研究报告:从blogdown,bookdown,pagedown到Quarto",
    "section": "3 R markdown",
    "text": "3 R markdown\nR markdown 是R实现可重复性数据分析/报告的主要生产力工具，自诞生以来，在Rstudio的加持下，其周边生态越来越完善，实现的功能也越来越多。比如做网站、博客、制作幻灯片、写书、写论文等。\n\nblogdown包可以结合hugo生成比较漂亮的网站或博客网站，bookdown可以生成各种形式的书籍包括word,pdf,epub,html等，xaringan可以做出容易在网络分享的漂亮幻灯片。\n但是R markdown也存在一些缺点，虽然这些包能够实现非常强大的功能，但是各种包之间缺乏统一的语法，实现同一功能的语法各有不同，对于使用者来说，需要付出很大的时间成本在各种包之间切换并记住不同的语法去实现不同的功能。"
  },
  {
    "objectID": "qsight/2022-12-05-rmd-to-quarto/index.html#从r-markdown到quarto",
    "href": "qsight/2022-12-05-rmd-to-quarto/index.html#从r-markdown到quarto",
    "title": "可重复式研究报告:从blogdown,bookdown,pagedown到Quarto",
    "section": "4 从R markdown到Quarto",
    "text": "4 从R markdown到Quarto\n估计是看到文学编程的巨大潜力，在Rstudio的支持下，Quarto应运而生，官网给它的定义是：“基于pandoc的开源科学与技术出版系统”。\n\nQuarto® is an open-source scientific and technical publishing system built on Pandoc\n\n\nQuarto相比于R markdown具有如下特点：\n\n它可以独立于R、Rstudio或者其他软件如python等编程或统计软件，支持在Macos、Linux、Windows系统运行；\nQuarto继承了一些Rmd包的特点、如blogdown、bookdown、xaringan等；\n在生成website、blog、book、slides等各种格式中有了统一的语法，缩小了使用者的学习成本；\n支持的语言包括R、Python、Julia和Observable；\nquarto有了新的文档格式，文档扩展名为“.qmd”, 代码块选项的形式有了变化。\n支持科技写作的特征，如公式、引用、交叉引用、图、表等。\n\n对于本人来说，促使我从R markdown转换到Quarto的最主要的因素是统一的语法，在我使用Quarto进行内容创作输出website的时候，不必再学习一遍新的语法去生成幻灯片，这就大大缩小了使用的时间成本。\n首先，我把自己的个人网站从原来的Blogdown+Hugo的生成方式转换到单独利用Quarto的生成方式，这样我就可以利用上面所说的各种quarto的优点和新的特性了。但是相比与原来的blogdown+hugo的方式，quarto渲染网页的速度比hugo慢了不少，但是对于我来说，完全可以接受。\nQuarto 有一点比较好，就是对R markdown格式文档的支持，这样你就不必把以前编写的Rmd文档全部改写成.qmd文档。\n今天的总结到此为止吧，后面我会逐步把利用quarto进行科技写作或生成幻灯片中遇到的问题分享给大家。"
  },
  {
    "objectID": "qsight/2022-04-10-report-video/index.html",
    "href": "qsight/2022-04-10-report-video/index.html",
    "title": "制作《2021河南省肿瘤登记年报》科普视频",
    "section": "",
    "text": "《2021河南省肿瘤登记年报》的发布为河南省癌症的防控工作提供了数据参考，对防控相关专业人员参考癌症负担数据具有重要意义。同时，为了使普通大众了解河南省癌症的发病死亡情况，我们将制作科普视频，相关工作整理记录如下。"
  },
  {
    "objectID": "qsight/2022-04-10-report-video/index.html#科普视频知识点",
    "href": "qsight/2022-04-10-report-video/index.html#科普视频知识点",
    "title": "制作《2021河南省肿瘤登记年报》科普视频",
    "section": "1 科普视频知识点",
    "text": "1 科普视频知识点\n\n河南省癌症中心/河南省肿瘤医院发布《2021河南省肿瘤登记年报》；\n河南省居民癌症发病率为272.33/10万，死亡率为162.16/10万；河南省每年新诊断恶性肿瘤28.6万例，因恶性肿瘤死亡16.8万例；\n癌症发病和死亡的人群分布均以老年人为主，河南省癌症年龄发病率自40~岁组开始快速上升，在85岁组达到峰值，65岁以上诊断患者和死亡患者占全部发病和死亡患者的47.3%和65.3%；\n男性和女性发病谱存在差异，男性发病率和死亡率均高于女性，男女发病比为1.05，男女死亡比为1.51; 男性和女性高发癌种存在差异，男性发病前五位癌症分别为肺癌、胃癌、食管癌、肝癌和结直肠癌，而女性前五位癌种分别为乳腺癌、肺癌、食管癌、宫颈癌和胃癌；不管是男性还是女性，肺癌均位居癌症死因的首位，其次为胃癌、食管癌、肝癌和乳腺癌。\n河南居民癌症发病和死亡也存在地区差异，城市地区癌症发病率高于农村地区，而死亡率低于农村地区，常见癌种分布也存在一定差异，河南省北部太行山脉地区是食管癌和胃癌的高发地区，城市地区则肺癌、结直肠癌、甲状腺癌相对高发。"
  },
  {
    "objectID": "qsight/2022-04-10-report-video/index.html#科普视频脚本",
    "href": "qsight/2022-04-10-report-video/index.html#科普视频脚本",
    "title": "制作《2021河南省肿瘤登记年报》科普视频",
    "section": "2 科普视频脚本",
    "text": "2 科普视频脚本\n大家好，癌症是威胁居民健康和生命的主要问题，河南省癌症中心/河南省肿瘤医院在2022年肿瘤防治宣传周期间发布了《2021河南省肿瘤登记年报》，对河南省居民的癌症发病和死亡情况进行了详细介绍，下面跟随小编一块来了解一下吧。\n《年报》显示，2018年河南省癌症发病率为272.33/10万，每小时约有32例患者被诊断，共诊断28.6万例；癌症死亡率为162.16/10万，每小时约19例癌症患者死亡，共死亡16.8万例。\n河南省癌症的发病率和死亡率呈现如下变化特点：\n\n2.1 癌症患者以老年人为主\n发病率和死亡率均随着年龄的增加而上升，在39岁之前处于相对降低且平稳的状态，而40岁之后则快速上升，在85岁年龄组达到峰值。癌症患者以老年人为主，新诊断患者中，65岁以上者占47.3%；死亡患者中，65岁以上者占65.3%。\n\n\n2.2 癌症患者存在性别差异\n男性发病率和死亡率均高于女性，男女性别比分别为1.05和1.51。\n男性和女性的发病谱也有所不同，男性前5位癌种分别为肺癌、胃癌、食管癌、肝癌和结直肠癌；女性前5位癌种乳腺癌、肺癌、食管癌、宫颈癌和胃癌。\n\n\n2.3 癌症发病率和死亡呈现地区差异\n城市地区癌症发病率高于农村地区，而死亡率则呈现农村高于城市的特点。\n在癌种的地区分布方面，结直肠癌和甲状腺癌在城市地区的顺位比农村地区靠前，食管癌和胃癌则在河南省北部的太行山脉地区和西部的伏牛山地区相对高发。\n癌症防治需要我们每一个人参与，生活中我们注意避开常见的癌症危险因素，注意定期体检，你我携手，共抗癌症吧！\n扫描二维码，了解更加详细的《年报》内容吧。"
  },
  {
    "objectID": "qsight/2022-04-10-report-video/index.html#科普视频成片分享",
    "href": "qsight/2022-04-10-report-video/index.html#科普视频成片分享",
    "title": "制作《2021河南省肿瘤登记年报》科普视频",
    "section": "3 科普视频成片分享",
    "text": "3 科普视频成片分享\n马上上线"
  },
  {
    "objectID": "qsight/2022-03-17-history/index.html",
    "href": "qsight/2022-03-17-history/index.html",
    "title": "世界肿瘤登记发展简史",
    "section": "",
    "text": "世界上第一个现代意义上的肿瘤登记处是德国汉堡肿瘤登记处。1926年，由个人成立了一个为癌症患者提供后续服务的组织，到1929年，它获得了汉堡公共卫生部门的授权，从而获得官方地位从事肿瘤治疗患者的随访服务。由三个护师定期访问汉堡的医院和医疗从业机构，她们记录新肿瘤患者的名字，并将数据传输到卫生部门，获得病例的索引。然后，每周将索引与官方的死因数据进行一次比较，这个流程也成了汉堡肿瘤登记的基础。\n以流行病学和生态学为目标的人群肿瘤登记处于1935年在美国康涅狄格州建立。当时的康涅狄格州卫生部门成立了一个癌症研究部门，对癌症及其预防和治疗以及由此导致的死亡率进行调查，并采取有助于降低死亡率的行动。康涅狄格州肿瘤登记处于1941年在全州范围内运作，登记的病例可以追溯到1935年。\n丹麦肿瘤登记处建立于1942年，是世界上第一个覆盖全国范围的肿瘤登记处。在丹麦医学会的支持下，医生在自愿的基础上进行病例报告工作，而国家卫生局则通过全面查阅死亡证明和所有死亡数据予以协助。当时肿瘤登记处的任务主要包括：（一）对患者个人进行随访；(B)提供可靠的发病率统计数据，以便准确估计治疗结果；(C)准确评估恶性肿瘤发病率的长期变化、地理变化以及职业变化等。\n从20世纪40年代中期开始，世界上一些国家陆续开始建立肿瘤登记处。1955年之前建立的人群肿瘤登记处如下：\n\n1929年，西德（汉堡）\n1940年，美国（纽约）\n1941年，美国（康涅狄格州）\n1942年，丹麦\n1944年，加拿大（萨斯喀彻温省）\n1945年，英格兰和威尔士（S.W. Region）\n1948年，英格兰和威尔士（利物浦）\n1948年，新西兰\n1950年，加拿大（马尼托巴省）\n1950年，南斯拉夫（斯洛文尼亚）\n1951年，加拿大（艾伯塔省）\n1951年，美国（埃尔帕索）\n1952年，匈牙利（）\n1952年，挪威\n1953年，德意志民主共和国\n1953年，芬兰\n1954年，冰岛\n\n1946年在哥本哈根举行的一次会议对于在全球建立肿瘤登记处至关重要，当时丹麦肿瘤登记处主任克莱姆梅森博士倡议在全球建立登记处。随后，国际上12名癌症防控领域知名专家联合向世界卫生组织建议在全球范围建立肿瘤登记处。他们建议如下：\n\n从尽可能多的不同国家收集有关肿瘤患者的数据将带来极大的好处；\n这种数据应该按照一定的计划进行收集，以便不同区域具有可比性；\n每个国家都应有一个国家肿瘤登记处，以安排记录和收集这类数据；\n应设立一个国际机构，其职责应是将在每个国家获得的数据和统计数据联系起来。\n\n四年后，世界卫生组织成立了一个关于肿瘤病例登记及其统计报告的小组委员会，该委员会制定了建立肿瘤登记处的建议(STOCKS，1959年)。在1950年由国际抗癌联盟(UICC)举办的具有里程碑意义的国际癌症地理病理学和人口学专题讨论会上，强调有必要在一个确定的区域内列举所有新的癌症病例(ClemMesen，1951)。根据专题讨论会的建议，UICC成立了地理病理学委员会。1965年，国际癌症研究机构(IARC)成立，作为世界卫生组织的一个专门的癌症研究中心。\n国际癌症登记协会(IACR)于1966年在东京成立。IACR是癌症登记处的成员组织，“负责收集和分析有关癌症发病率的数据和确定人群中癌症治疗的最终结果”。该协会与IARC密切合作。\n参考资料：\nG. Wagner. History of cancer registration.\n\n\n\n\n\n  \n    \n  \n  \n    陈 琼\n       博士 \n       副主任医师 \n    他从事肿瘤登记与人群流行病学研究，编写肿瘤登记年报，并开发和维护个人网站。他撰写博文，分享数据分析方法、可视化技巧和自动化报告解决方案，同时学习 R 语言，开发 R 包，不断探索高效的数据处理与展示方式。 🚀\n    \n      \n        \n      \n      \n        \n      \n      \n        \n      \n    \n  \n\n 回到顶部"
  },
  {
    "objectID": "qsight/2022-04-29-datav/index.html",
    "href": "qsight/2022-04-29-datav/index.html",
    "title": "利用阿里云DataV可视化平台数据以及ggplot2包的geom_sf函数绘制统计地图",
    "section": "",
    "text": "统计地图是以地图为背景，运用各种线纹、色彩、几何图形或实物形象来显示被研究现象的指标数值的大小及其在各地区的分布状况的一种统计图形。又称空间数列图和地理数列图。主要用于说明某些现象在地域上的分布，进行不同地区间的比较，反映现象所处的地理位置，以及它们的密集和分散程度。"
  },
  {
    "objectID": "qsight/2022-04-29-datav/index.html#什么是统计地图",
    "href": "qsight/2022-04-29-datav/index.html#什么是统计地图",
    "title": "利用阿里云DataV可视化平台数据以及ggplot2包的geom_sf函数绘制统计地图",
    "section": "",
    "text": "统计地图是以地图为背景，运用各种线纹、色彩、几何图形或实物形象来显示被研究现象的指标数值的大小及其在各地区的分布状况的一种统计图形。又称空间数列图和地理数列图。主要用于说明某些现象在地域上的分布，进行不同地区间的比较，反映现象所处的地理位置，以及它们的密集和分散程度。"
  },
  {
    "objectID": "qsight/2022-04-29-datav/index.html#制作统计地图的难点有哪些",
    "href": "qsight/2022-04-29-datav/index.html#制作统计地图的难点有哪些",
    "title": "利用阿里云DataV可视化平台数据以及ggplot2包的geom_sf函数绘制统计地图",
    "section": "2 制作统计地图的难点有哪些？",
    "text": "2 制作统计地图的难点有哪些？\n在流行病学研究中，往往需要通过以统计地图的形式来展示数据的空间分布情况。然而，我们一般很难找到合适的用于绘制统计地图的地图边界数据。要么找到的地图行政区划边界数据太旧，实际的行政区划边界已经发生了改变，要么就是找不到相应的数据。\n目前还有一些制作统计地图的网站，可以提供绘制简单的统计地图的功能，但是基本上这些服务都是以收费为目的地，不符合互联网上开源自由的精神，但是如果同学不缺钱，那就可以去试试哈！"
  },
  {
    "objectID": "qsight/2022-04-29-datav/index.html#如何利用阿里云datav可视化平台地图数据",
    "href": "qsight/2022-04-29-datav/index.html#如何利用阿里云datav可视化平台地图数据",
    "title": "利用阿里云DataV可视化平台数据以及ggplot2包的geom_sf函数绘制统计地图",
    "section": "3 如何利用阿里云DataV可视化平台地图数据?",
    "text": "3 如何利用阿里云DataV可视化平台地图数据?\n\n\n\n\n\n\n\n\n\n\n利用sf包读取阿里云DataV可视化平台的提供的json格式的区划边界数据，读取数据之后，可以利用统计地图相关包如ggplot2、leaflet等包来绘制相应的统计地图。\n\nlibrary(dplyr)\n#加载sf包\nlibrary(sf)\n#加载ggplot2包\nlibrary(ggplot2)\nrm(list = ls())\n#利用read_sf函数读取json格式边界数据\nchina1 = read_sf(\"https://geo.datav.aliyun.com/areas_v2/bound/100000_full.json\")\n\n#利用ggplot2包geom_sf()函数绘制地图\nchina1%&gt;%ggplot()+\n  geom_sf(fill=NA,color=\"black\")+\n  theme_void()\n\n\n\n\n\n\n\n\n也可以利用geojsonio包读取数据，然后利用st_as_sf()函数转换为sf数据，就可以再利用ggplot2包的geom_sf()函数绘制地图了。\n\n#加载geojsonio包\nlibrary(geojsonio)\n#利用geojsonio包读取json格式数据为sp数据\nstates &lt;- geojsonio::geojson_read(\"https://geo.datav.aliyun.com/areas_v3/bound/410000_full.json\", what = \"sp\")\n#将地理空间数据转换为sf数据\nstates2&lt;- st_as_sf(states)\n#利用ggplot2包geom_sf()函数绘制地图\nstates2%&gt;%ggplot()+\n  geom_sf(fill=NA,color=\"black\")+\n  theme_void()\n\n\n\n\n\n\n\n\n可以根据行政区划编码直接读取个别省份或市区的区划边界数据，比如，河南省的区划边界数据存放在https://geo.datav.aliyun.com/areas_v3/bound/410000.json，这个边界数据仅包含省界，不包含下一级的市区的边界数据；而包含市区边界数据存放在https://geo.datav.aliyun.com/areas_v3/bound/410000_full.json。\n\n#读取仅有河南省省界的json数据\nhn1 = read_sf(\"https://geo.datav.aliyun.com/areas_v3/bound/410000.json\")\n#读取具有河南省各市区边界的json数据\nhn2 = read_sf(\"https://geo.datav.aliyun.com/areas_v3/bound/410000_full.json\")\n#利用ggplot2包geom_sf函数绘制河南省省界\nhn1%&gt;%ggplot()+\n  geom_sf(fill=NA,color=\"black\")+\n  theme_void()\n\n\n\n\n\n\n\n#利用geom_sf函数绘制河南省省界及各市区边界\nhn2%&gt;%ggplot()+\n  geom_sf(fill=NA,color=\"black\")+\n  theme_void()\n\n\n\n\n\n\n\n#读取洛阳市各区县边界数据，并绘制地图\nly = read_sf(\"https://geo.datav.aliyun.com/areas_v3/bound/410300_full.json\")\nly%&gt;%ggplot()+\n  geom_sf(fill=NA,color=\"black\")+\n  theme_void()"
  },
  {
    "objectID": "qsight/2022-04-29-datav/index.html#如何绘制统计地图",
    "href": "qsight/2022-04-29-datav/index.html#如何绘制统计地图",
    "title": "利用阿里云DataV可视化平台数据以及ggplot2包的geom_sf函数绘制统计地图",
    "section": "4 如何绘制统计地图？",
    "text": "4 如何绘制统计地图？\n可以拿中国各省的疫情数据来回绘制疫情分布地图，首先要准备各省的疫情流行数据,生成一个数据框，addcode存放各省的行政区划编码，此变量的值要与地图数据里的行政区划编码一致；num变量存放各省的现存新冠病人数量,然后把该变量转为因子型变量。\n实现代码如下：\n\nlibrary(RColorBrewer)\ndata&lt;-data.frame(adcode=c( \"110000\", \"120000\" ,\"130000\" ,\"140000\", \"150000\" ,\"210000\", \"220000\" ,\"230000\", \"310000\" ,\"320000\", \"330000\" ,\"340000\" ,\"350000\" ,\"360000\", \"370000\", \"410000\", \"420000\", \"430000\" ,\"440000\" ,\"450000\" ,\"460000\", \"500000\" ,\"510000\" ,\"520000\" ,\"530000\" ,\"540000\" ,\"610000\", \"620000\", \"630000\", \"640000\", \"650000\" ,\"710000\" ,\"810000\", \"820000\" ,\"100000\"),\n                 num=c(391,2,13,28,60,40,884,230,12988,30,609,7,50,220,70,36,4,26,169,23,15,5,74,0,27,0,1,0,20,0,8,13742,59661,500,0))\ndata$num[35] &lt;- sum(data$num[1:34])\n\nchina2&lt;-china1%&gt;%\n  left_join(data,by=\"adcode\")%&gt;%\n  mutate(case=cut(num,c(0,10,100,500,1000,10000,50000),include.lowest=T,right=F))\n\nggplot(china2)+\n  geom_sf()+\n  theme_void()+\n  geom_sf(aes(fill=case))+\n  scale_fill_manual(\n    name=\"现存病例数\",\n    values = brewer.pal(7,\"Reds\"),\n    labels=c(\"0-10\",\"10-100\",\"100-500\", \"500-1000\",\"1000-10000\",\"10000-50000\",\"&gt;50000\"))"
  },
  {
    "objectID": "qsight/2023-3-25-quarto-writing/index.html",
    "href": "qsight/2023-3-25-quarto-writing/index.html",
    "title": "论文写作效率神器：Quarto出版系统",
    "section": "",
    "text": "这篇博文介绍我使用quarto进行论文写作的一些技巧和经验，它们在无形中提高了我论文写作的效率，使论文的数据统计结果具有可能重复性，如果你还没听说过quarto，耐心的读完这篇博文，我相信会给你带来帮助。"
  },
  {
    "objectID": "qsight/2023-3-25-quarto-writing/index.html#传统论文写作中的常见问题",
    "href": "qsight/2023-3-25-quarto-writing/index.html#传统论文写作中的常见问题",
    "title": "论文写作效率神器：Quarto出版系统",
    "section": "1 传统论文写作中的常见问题",
    "text": "1 传统论文写作中的常见问题\n我相信除了不需要进行统计分析的综述类文章类型之外，大部分论文类型的论文写作流程是下面 图 1 这个样子的：\n\n\n\n\n\n\nflowchart TD\n  A[(数据清洗)] --&gt; B(统计分析)\n  B --&gt; C{结果初步评估}\n  C --&gt; B\n  C --&gt; D(统计制表)\n  D --&gt; E[论文撰写]\n  E -- 发现不合理结果 --&gt; B\n  E --&gt; F[论文投稿]\n  F --&gt; G[专家意见]\n  G -- 建议重新统计 --&gt; B\n  G -- 不需要重新统计 --&gt; E\n  G --&gt; H[发表见刊]\n\n\n\n\n图 1: 论文写作流程\n\n\n\n\n\n\n\n\n\n\n\n什么是传统科技论文写作？\n\n\n\n我想你在进行科技论文写作的过程中，数据分析和结果展现是割裂的过程，需要在不同的文字编辑软件里手动调整格式(比如参考文献的标注和更新、图表的交叉引用和更新、段落格式的设定等)，那么我觉这些都属于传统科技论文的写作。\n\n\n在执行上面流程的过程中可能在论文写作及发表过程中出现很多问题，我们在各个环节都可能发现我们论文结果中存在或这或那的问题，这个是非常正常的，也是一个必然的过程，我们需要在这个过程中不断打磨数据的统计结果，使之更有说服力，更能真实展现研究的主要结果。\n但是如果需要重新进行统计分析的问题在论文撰写的时候被发现或者在专家审稿的时候被发现，那意味着后面统计制表、论文撰写中相关的数据均需要更新，如果你还是在word里以复制粘贴的方式从统计软件里往word进行结果输出的话，可以想像，这个过程必定的非常痛苦的。\n\n需要付出大量时间进行复制粘贴这样没有意义的事\n重复操作的过程中可能会出现偶尔的数据错误"
  },
  {
    "objectID": "qsight/2023-3-25-quarto-writing/index.html#quarto开源科学技术出版系统介绍",
    "href": "qsight/2023-3-25-quarto-writing/index.html#quarto开源科学技术出版系统介绍",
    "title": "论文写作效率神器：Quarto出版系统",
    "section": "2 Quarto开源科学技术出版系统介绍",
    "text": "2 Quarto开源科学技术出版系统介绍\nQuarto可以解决上面出现的问题，能把数据分析的过程融合进论文写作的过程中来，以markdown的格式进行文字编辑和创作，通过插入代码段的形式进行统计分析相关的输出，同时它可以实现参考文献的插入和应用、图表的交叉引用；在报告输出方面，它可以输出成PDF、WORD、PPT、HTML、ePub等多种格式，可以用来制作网页、书籍、科技论文、幻灯片等内容。\n\n\n\n\n\n\nQuarto\n\n\n\nQuarto是一个基于Pandoc的开源科学和技术出版系统，是下一代的R markdown，它以.qmd为文件后缀，quarto把内容通过knitr转化为markdown，再通过Pandoc转化为各种指定的格式。"
  },
  {
    "objectID": "qsight/2023-3-25-quarto-writing/index.html#quarto的主要特点",
    "href": "qsight/2023-3-25-quarto-writing/index.html#quarto的主要特点",
    "title": "论文写作效率神器：Quarto出版系统",
    "section": "3 Quarto的主要特点",
    "text": "3 Quarto的主要特点\n\n它主要用来生成不同格式的报告\n能把R、Python、Julia和Observable等代码与文本报告整合起来，生成基于不同代码运行结果的动态报告\n它基于markdown和pandoc进行内容的转换\n它使用.qmd文件后缀，相对于Rmd在进行内容创作生成不同格式输出时具有统一的语法\n它可以不依赖上面所说的软件独立运行，当你的内容创作不涉及的上面的软件时，那你只需要单独安装Quarto环境即可\n可以与不同的代码编辑软件结合使用，Rstudio、Terminal、Vscode等"
  },
  {
    "objectID": "qsight/2023-3-25-quarto-writing/index.html#quarto安装",
    "href": "qsight/2023-3-25-quarto-writing/index.html#quarto安装",
    "title": "论文写作效率神器：Quarto出版系统",
    "section": "4 Quarto安装",
    "text": "4 Quarto安装\n如果你使用Rstudio的话，下载最新的版本，该版本内置有quarto。\n如果你需要在R 代码进行文档渲染的话，可以安装R quarto包\ninstall.packages(\"quarto\")\nquarto::quarto_render(\"hello.qmd\")\n如果你需要在Vscode或者终端中使用quarto的话，可以参考不同运行环境quarto的安装与配置，进行相应的配置，本篇博客将使用Rstudio进行相应的操作和介绍。"
  },
  {
    "objectID": "qsight/2023-3-25-quarto-writing/index.html#新建quarto文件",
    "href": "qsight/2023-3-25-quarto-writing/index.html#新建quarto文件",
    "title": "论文写作效率神器：Quarto出版系统",
    "section": "5 新建quarto文件",
    "text": "5 新建quarto文件\n在Rstudio里，点击 File –&gt; New Files –&gt; Quarto Document 新建一个quarto文件，该文件以.qmd为文件后缀"
  },
  {
    "objectID": "qsight/2023-3-25-quarto-writing/index.html#quarto语法介绍",
    "href": "qsight/2023-3-25-quarto-writing/index.html#quarto语法介绍",
    "title": "论文写作效率神器：Quarto出版系统",
    "section": "6 Quarto语法介绍",
    "text": "6 Quarto语法介绍\n\n6.1 YAML 信息设置\nQuarto通过yaml设置一些变量信息，比如作者、日期、标题等，YAML以”---“单独一行开头，然后以”---“单独一行结尾，中间可以设置一些变量信息。\n变量设定格式：\n变量名: 变量值\n输出格式也在YAML里面设置，设定输出格式的变量名为：format，变量值为：html、pdf、word等。\n---\ntitle: \"河南省肿瘤登记地区恶性肿瘤2017-2019年期间5年相对生存率\"\nauthor: 陈琼\ndate: 2022-03-28\ncategories:\n  - 论文\n  - 生存分析\nkeywords:\n  - 河南省\n  - 恶性肿瘤\n  - 现时生存分析\n  - 相对生存率\nformat:\n  html: default\n  docx: default\n---\n\n\n6.2 代码块\nquarto文档中可以插入代码块，在代码块中可以进行编写相应语言的代码，进行统计分析或结果展现。目前quarto支持的代码块包括R语言、Python等，下面的R语言代码块，利用gtsummary包制作了论文中常用的表1，结果可见 表 1 。\n\n```{r}\n#| label: tbl-table1\n#| tbl-cap-location: top\n#| tbl-cap: \"接受不同药物治疗人群基本特征分析\"\n#| warning: false\n#| message: false\n\nlibrary(gtsummary)\n\ntrial %&gt;% select(age, grade, response, trt) %&gt;% \n  tbl_summary(by=trt) %&gt;% \n  add_p() %&gt;% \n  add_overall() %&gt;% \n  add_n() %&gt;% \n  bold_labels() \n```\n\n\n\n表 1: 接受不同药物治疗人群基本特征分析\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCharacteristic\nN\nOverall, N = 2001\nDrug A, N = 981\nDrug B, N = 1021\np-value2\n\n\n\n\nAge\n189\n47 (38, 57)\n46 (37, 59)\n48 (39, 56)\n0.7\n\n\n    Unknown\n\n\n11\n7\n4\n\n\n\n\nGrade\n200\n\n\n\n\n\n\n0.9\n\n\n    I\n\n\n68 (34%)\n35 (36%)\n33 (32%)\n\n\n\n\n    II\n\n\n68 (34%)\n32 (33%)\n36 (35%)\n\n\n\n\n    III\n\n\n64 (32%)\n31 (32%)\n33 (32%)\n\n\n\n\nTumor Response\n193\n61 (32%)\n28 (29%)\n33 (34%)\n0.5\n\n\n    Unknown\n\n\n7\n3\n4\n\n\n\n\n\n1 Median (IQR); n (%)\n\n\n2 Wilcoxon rank sum test; Pearson’s Chi-squared test\n\n\n\n\n\n\n\n\n\n\n\n\n\n6.3 Markdown文本\nRstudio提供两种模式进行文本编辑，一种是source模式，quarto参考使用markdown的基本语法，比如一级标题使用”#“，二级标题使用”##“等，具体可见markdown基本语法。另一种是Visual模式，可见模式下，你不用学习许多markdown的基本语法，可以使用菜单或者快捷键进行添加标题、加粗文本、添加表格、添加图片等操作。\n在Rstudio打开的qmd文档中，左上角可以选择source或者visual模式。\nSource模式下是这样的 \nVisual模式下是这样的"
  },
  {
    "objectID": "qsight/2023-3-25-quarto-writing/index.html#输出word格式",
    "href": "qsight/2023-3-25-quarto-writing/index.html#输出word格式",
    "title": "论文写作效率神器：Quarto出版系统",
    "section": "7 输出Word格式",
    "text": "7 输出Word格式\n虽然quarto支持的输出格式很多，比如html格式、pdf格式以及word格式，你现在所浏览的网页就是用quarto来生成的。\n回到我们今天讲的主题是“科技论文的写作效率”，我们撰写完成论文初稿后是需要进入投稿流程的，目前不同期刊所接受的投稿格式还是以word为多，下面就展开来讲一下quarto如何输出word格式。\n\n7.1 利用word模板文件\n在quarto文档的YAML部分，通过format设置为输出word格式，还可以设置word模板文件，输出结果会按照word模板的格式对各个部分进行设置。\nYAML设置部分代码如下：\n---\ntitle: \"河南省肿瘤登记地区恶性肿瘤2017-2019年期间5年相对生存率\"\nformat: \n  docx: \n  #reference-doc制定word模板文件\n    reference-doc: chinese.docx\n---\n\n\n7.2 图表交叉引用的相关设置\n通过crossref设置交叉引用图表的格式，fig-title设置的是图标题前显示字符，tbl-title设置表格标题前的显示字符，title-delim设置图表序号和显示字符之间的连接符号。\ntbl-frefix设置在文本中引用时的显示格式：如表1、表2，图1、图2\n---\ntitle: \"河南省肿瘤登记地区恶性肿瘤2017-2019年期间5年相对生存率\"\ncrossref:\n  fig-title: 图     \n  tbl-title: 表     \n  title-delim: —  \n  tbl-prefix: 表\n  fig-prefix: 图\n---\n\n\n7.3 设置参考文献引用格式\n参考文献的引用时论文写作时候的一个大问题，我们在使用quarto进行科技论文写作的时候，需要在YAML里进行两个设置才能进行参考文献的引用和格式的设置。\n\n通过 bibliography: 指定bibtex格式文献的存放位置\n通过csl: 指定参考文献的引用格式\n\n---\ntitle: \"河南省肿瘤登记地区恶性肿瘤2017-2019年期间5年相对生存率\"\nbibliography: survival17-19.bib\ncsl: \"/Users/qc0824/zotero/styles/chinese-gb7714-2005-numeric.csl\"\n---\n在文本编辑时，通过[“@refid”]的形式进行参考文献的文内引用，如果同一位置引用多篇文献，[“@refid1;@refid2”]，可以在文献之间添加”;“。\n\n\n7.4 设置作者列表和单位信息\n在论文投稿时，需要在标题下方列出各位作者的信息，包括姓名，作者单位，通讯作者等，姓名上标标注作者的单位信息。\nquarto里可以通过安装一个authors-block插件来实现。\n\n7.4.0.1 安装方法\n在qmd文档所在的quarto项目之下，在terminal运行如下命令：\nquarto add kapsner/authors-block\n\n\n7.4.0.2 authors-block使用方法\n安装好authos-block插件之后，需要在YAML里设置相应的元数据，具体如下。\n\n\n\n\n\n\nauthors-block设置方法\n\n\n\n\n\n---\ntitle: \"河南省恶性肿瘤2017-2019年5年相对生存率\"\nauthors:\n  - name: 陈琼\n    affiliations:\n      - ref: zlyy\n    email: chenqiong@hnccr.org.cn\n  - name: 张明霞\n    affiliations:\n      - ref: lzu\n  - name: 郭兰伟\n    affiliaitons:\n      - ref: zlyy\n  - name: 刘纯亚\n    affiliations:\n      - ref: zlyy\n  - name: 刘茵\n    affiliations:\n      - ref: zlyy\n  - name: 徐慧芳\n    affiliations:\n      - ref: zlyy\n  - name: 王潇杨\n    affiliations:\n      - ref: zlyy\n  - name: 刘曙正\n    affiliations:\n      - ref: zlyy\n  - name: 张韶凯\n    affiliations:\n      - ref: zlyy\n    coresponding: true\naffiliations:\n  - id: zlyy\n    name: 郑州大学附属肿瘤医院(河南省肿瘤医院)，疾病预防控制科\n  - id: lzu\n    name: 兰州大学公共卫生学院\nfilters:\n  - authors-block\n---"
  },
  {
    "objectID": "qsight/2023-3-25-quarto-writing/index.html#渲染输出格式",
    "href": "qsight/2023-3-25-quarto-writing/index.html#渲染输出格式",
    "title": "论文写作效率神器：Quarto出版系统",
    "section": "8 渲染输出格式",
    "text": "8 渲染输出格式\n\n在完成以上步骤之后，只需要点击上图标注的render按钮即可，然后一篇word格式的，随时可以进行投稿论文初稿就完成了。\n如果你在撰写讨论部分的时候，发现统计的某个指标可能存在异常，那么我们只需要在相应的代码块里更新相应的统计代码，更新完成之后，再次点击render，那么你的统计表格就会跟着更新，再次生成基于新结果的论文初稿。\n\n\n\n\n\n\n什么是render？\n\n\n\n其实就是quarto运行的过程，通过kintr包把qmd转化为普通的markdown，在通过pandoc转化为word格式的过程。\n\n\n如果你看完以上内容，有没有想试一试Quarto系统的冲动？本篇博客只是介绍了Quarto应用于论文写作方面，它还有其他很多的应用方式，比如做幻灯、写书稿等等，如果你还有一些闲暇时间，不妨来试试！"
  },
  {
    "objectID": "qsight/2021-04-20-慢病副高考试要点/index.html",
    "href": "qsight/2021-04-20-慢病副高考试要点/index.html",
    "title": "2021慢性非传染性疾病控制副高考试–知识点汇总",
    "section": "",
    "text": "由于今年备考慢病副高考试需要，本人特准备此文，一为整理思路，积极备考，二为同行后来人提供方便。本文将从考试大纲、资料汇总、重要知识点等方面，尽量详细的汇总学习资料。"
  },
  {
    "objectID": "qsight/2021-04-20-慢病副高考试要点/index.html#考试大纲",
    "href": "qsight/2021-04-20-慢病副高考试要点/index.html#考试大纲",
    "title": "2021慢性非传染性疾病控制副高考试–知识点汇总",
    "section": "1 考试大纲",
    "text": "1 考试大纲\n\n1.1 专业知识\n\n1.1.1 本专业知识\n\n熟悉健康促进与健康教育学、流行病学、卫生统计学、营养与食品学的基本理论知识，熟悉项目设计、实施、督导、考核与评估的理论和技术；\n熟练掌握慢病危险因素如吸烟、不平衡膳食、缺乏体力活动、高血压、酗酒等，以及伤害相关行为的干预理论与技术；\n熟悉或了解常见慢性病与伤害的预防、控制和康复理论。 #### 相关知识\n熟悉社会医学、行为医学、传播学、卫生经济学、医学人口学的基本理论知识；\n熟悉《中国居民营养膳食指南》，《中国高血压防治指南》，《中国糖尿病防治指南》；\n了解心理学、内科学、康复医学的基本理论知识。\n具备计算机应用的基本知识和操作技能。 ### 专业实践能力\n参与制订本地区慢性非传染性疾病与伤害的预防控制计划；\n能与不同部门建立协作关系，依托社区卫生服务，实施慢性病社区综合干预及伤害防制，指导基层医师在人群中开展有关危险因素的健康教育；\n参与本地区人群的死亡（含死因）、发病和患病、行为危险因素监测，利用监测资料评价干预效果，通过有效途径向各业务部门和卫生行政部门提供监测结果及政策建议。\n对常见的慢性非传染性疾病如高血压、糖尿病等疾病防制过程提出所需的生化检验、仪器检测、健康监测项目，并能对血压、血脂、血糖、等结果进行分析。 ### 学科新进展\n能够阅读本专业外文期刊，了解健康促进、社区综合干预、行为医学、社会市场学、传播学等理论现状和发展趋势。\n了解慢病包括：高血压、糖尿病、恶性肿瘤、慢性阻塞性肺部疾患、伤害以及行为危险因素监测干预评价等新知识、新理论、新技术。\n了解世界卫生组织《烟草控制框架公约》最新履约进展及世界卫生组织《饮食、身体活动和健康全球战略》、《伤害监测指南》、《伤害社区调查指南》等实施进展。  对相关学科近年进展有一定了解。\n\n附本专业病种\n\n高血压\n冠心病\n脑卒中\n糖尿病\n慢性阻塞性肺部疾患\n恶性肿瘤\n慢性肾病\n肥胖\n伤害"
  },
  {
    "objectID": "qsight/2021-04-20-慢病副高考试要点/index.html#复习资料汇总",
    "href": "qsight/2021-04-20-慢病副高考试要点/index.html#复习资料汇总",
    "title": "2021慢性非传染性疾病控制副高考试–知识点汇总",
    "section": "2 复习资料汇总",
    "text": "2 复习资料汇总\n\n中国高血压防治指南(2018年修订版)\n国家基层高血压防治管理指南\n中国居民平衡膳食宝塔(2016)\n[2016版 中国居民膳食指南]\n中国2型糖尿病防治指南(2020版)"
  },
  {
    "objectID": "qsight/2021-04-20-慢病副高考试要点/index.html#重要知识点",
    "href": "qsight/2021-04-20-慢病副高考试要点/index.html#重要知识点",
    "title": "2021慢性非传染性疾病控制副高考试–知识点汇总",
    "section": "3 重要知识点",
    "text": "3 重要知识点\n以下信息来自网友分享以及自己总结，请勿完全单纯依赖本文总结。\n\n3.1 高血压用药的原理\n\n\n3.2 糖尿病用药导致的副作用\n\n\n3.3 加拿大CCS冠心病分级\n\n\n3.4 心梗、脑卒中疾病判断"
  },
  {
    "objectID": "qsight/2022-03-18-file/index.html",
    "href": "qsight/2022-03-18-file/index.html",
    "title": "中国肿瘤登记管理办法",
    "section": "",
    "text": "肿瘤登记是系统性、经常性收集有关肿瘤及肿瘤病人信息的统计制度，是癌症防治工作的基础。为掌握我国癌症发病、死亡情况，2008年，中央财政支持开展肿瘤登记项目工作，项目覆盖面和覆盖人群不断扩大，到2014年全国肿瘤登记点已达308个，覆盖全国约3亿人。肿瘤登记项目工作为建立统一、规范的肿瘤登记报告制度与方法，动态收集我国恶性肿瘤的相关信息，奠定了坚实的基础。\n随着城镇化、老龄化、工业化、全球化快速发展，癌症等慢性病疾病负担日趋加重，肿瘤登记工作面临一些新情况、新问题。为了进一步加强全国肿瘤登记工作规范化管理，获得及时、统一、准确的肿瘤发病、死亡和生存信息，使肿瘤登记工作满足当前癌症防治工作需要，国家卫生计生委和国家中医药管理局组织有关专家，在广泛征求各方面意见的基础上，制定了《肿瘤登记管理办法》。"
  },
  {
    "objectID": "qsight/2022-03-18-file/index.html#起草背景",
    "href": "qsight/2022-03-18-file/index.html#起草背景",
    "title": "中国肿瘤登记管理办法",
    "section": "",
    "text": "肿瘤登记是系统性、经常性收集有关肿瘤及肿瘤病人信息的统计制度，是癌症防治工作的基础。为掌握我国癌症发病、死亡情况，2008年，中央财政支持开展肿瘤登记项目工作，项目覆盖面和覆盖人群不断扩大，到2014年全国肿瘤登记点已达308个，覆盖全国约3亿人。肿瘤登记项目工作为建立统一、规范的肿瘤登记报告制度与方法，动态收集我国恶性肿瘤的相关信息，奠定了坚实的基础。\n随着城镇化、老龄化、工业化、全球化快速发展，癌症等慢性病疾病负担日趋加重，肿瘤登记工作面临一些新情况、新问题。为了进一步加强全国肿瘤登记工作规范化管理，获得及时、统一、准确的肿瘤发病、死亡和生存信息，使肿瘤登记工作满足当前癌症防治工作需要，国家卫生计生委和国家中医药管理局组织有关专家，在广泛征求各方面意见的基础上，制定了《肿瘤登记管理办法》。"
  },
  {
    "objectID": "qsight/2022-03-18-file/index.html#主要内容",
    "href": "qsight/2022-03-18-file/index.html#主要内容",
    "title": "中国肿瘤登记管理办法",
    "section": "2 主要内容",
    "text": "2 主要内容\n《管理办法》包括总则、组织机构和职责、肿瘤登记内容和工作流程、质量控制与考核评价、保障措施、附则，共六章二十条。主要内容如下：\n\n2.1 肿瘤登记的目的和意义以及适用范围。\n为建立常规报告制度，加强肿瘤随访登记工作规范化管理，健全我国以人群为基础的肿瘤随访登记信息系统，掌握我国城乡居民恶性肿瘤发病、死亡、生存情况及变化趋势，科学评价癌症防控效果,及时调整癌症防治策略，为我国肿瘤防治工作提供必要的信息。本办法适用于卫生计生行政部门、中医药管理部门、医疗卫生机构和疾病预防控制机构开展的肿瘤登记管理工作。\n\n\n2.2 各级组织机构和职责。\n各级卫生计生行政部门和中医药管理部门负责全国肿瘤登记体系建设、组织协调和监督管理全国肿瘤登记工作。国家癌症中心负责全国肿瘤登记工作的具体工作，包括制定全国肿瘤登记工作计划、实施方案、质量控制和评价标准，建立全国肿瘤登记信息系统和跨区域肿瘤登记病例数据交换制度，组织开展技术培训、督导检查和考核评估，负责肿瘤登记信息的数据收集、质量控制和统计分析等。各省（直辖市、自治区）卫生计生行政部门和中医药管理部门指定相关部门成立省级肿瘤登记中心，实施全省肿瘤登记工作。省会城市、地级市为城市肿瘤登记地区，指定相关部门设立肿瘤登记处，开展市辖区的肿瘤登记报告工作；县级市和县为农村肿瘤登记地区，指定相关部门设立肿瘤登记处，开展辖区内肿瘤登记报告工作。登记处所在的疾病预防控制中心负责提供死因数据。\n\n\n2.3 登记内容和工作流程。\n肿瘤登记处辖区内所有医疗机构需定期向肿瘤登记处报告所有恶性肿瘤（包括中枢神经系统良性肿瘤）病例的发病和死亡信息。肿瘤登记处对辖区工作进行指导、检查及培训、数据收集和质量控制工作并定期开展病例随访，按时将数据和工作总结上报省级肿瘤登记中心。省级肿瘤登记中心开展全省肿瘤登记报告资料的收集汇总、质量控制和统计分析，按时将数据和工作总结上报国家癌症中心。国家癌症中心定期汇总和分析登记资料、编制各种报表，形成年度肿瘤登记报告，按时上报国家卫生和计划生育委员会审核后发布。\n\n\n2.4 质量控制、考核评价和保障措施。\n国家癌症中心建立和实施评价机制，制订实施监测指标体系。明确各级登记系统的管理部门组织实施督导检查和考核评价。要求各级卫生计生行政部门和中医药管理部门加强组织领导和协调，建立目标责任制，实行绩效管理，提供政策、人员和经费保障，全面推进肿瘤登记工作实施。与公安、民政、统计等相关部门建立工作联系。加强人才培养，提高工作能力。保障信息安全，遵从国家法律、知识产权和伦理学准则，保证患者隐私。"
  },
  {
    "objectID": "qsight/2022-03-18-file/index.html#文件下载",
    "href": "qsight/2022-03-18-file/index.html#文件下载",
    "title": "中国肿瘤登记管理办法",
    "section": "3 文件下载",
    "text": "3 文件下载\n中国肿瘤登记管理办法，国卫疾控发〔2015〕6号"
  },
  {
    "objectID": "qsight/2022-03-08-milestone/index.html",
    "href": "qsight/2022-03-08-milestone/index.html",
    "title": "中国肿瘤登记事业发展的里程碑事件",
    "section": "",
    "text": "在过去的半个世纪里，恶性肿瘤已经成为中国居民最主要的死亡原因，肿瘤发病率和死亡率负担也越来越大。以人群为基础的肿瘤登记在中国已有约60年的历史，而肿瘤登记在我国肿瘤防控中的作用也在不断的扩展和延伸，包括制定和评估国家癌症控制计划以及为科学研究提供基础数据支撑。\n从1959年建立全国第一个肿瘤登记处，到2019年，建成574个肿瘤登记处，60多年的发展历程中有哪些重要的里程碑事件呢，我们来了解一下吧！\n\n\n\n\n\n\n\n年份\n中国肿瘤登记里程碑事件\n\n\n\n\n1959年\n建立中国第一个肿瘤登记处\n\n\n1975年\n启动全国第一次死因回顾调查项目(1973-1975)\n\n\n1992年\n启动全国第二次死因回顾调查项目(1990-1992)\n\n\n2002年\n建立国家肿瘤登记处\n\n\n2004年\n发布中国肿瘤预防与控制规划（2004-2010）\n\n\n2005年\n启动农村癌症筛查与早诊早治项目\n\n\n2006年\n启动全国第三次死因回顾调查项目（2003-2005）\n\n\n2007年\n启动淮河流域癌症筛查项目\n\n\n2008年\n国家肿瘤随访登记项目得到中央财政转移支付资金持续支持\n\n\n2012年\n启动全国城市癌症筛查与早诊早治项目，发布中国慢性病防控规划纲要（2012-2015）\n\n\n2015年\n启动中国癌症防治三年行动计划（2015-2017）\n\n\n2016年\n颁布健康中国2030规划\n\n\n2017年\n中国慢性病防控中长期规划（2017-2025）\n\n\n2019年\n发布健康中国规划（2019-2030）\n\n\n\n1959年，我国在食管癌高发的太行山区进行了食管癌的流行病学调查，我国第一个肿瘤登记处在林州（原林县）建立，成立之初进行单癌症种（食管癌）的登记工作；1963年，上海市建立了中国第一个城市肿瘤登记处，是全国第一个全癌种登记的肿瘤登记处；20世纪70年代，我国进行了第一次全国范围内的肿瘤死因回顾性调查，覆盖了全国96.7%的地区，清楚地描绘了中国癌症死亡模式和分布特征，确定了与高肿瘤死亡率相关的地理区域。随后在这些地区建立了肿瘤登记处，到20世纪90年代，中国的肿瘤登记处已经开始正常运作，主要位于某些肿瘤的高发地区。第二次全国癌症死亡率回顾性调查在1990-1992年进行，结果显示，从1973年开始，中国的癌症死亡负担不断增加。\n中国国家肿瘤登记中心(NCCR)于2002年经国家卫生部批准成立，负责管理全国肿瘤登记工作。NCCR每年开展肿瘤登记培训计划，并负责收集、管理和分析全国范围内的肿瘤登记数据。\n2005年，中国开展了第三次全国肿瘤死因调查。结果显示，1973年至2005年，肿瘤发病模式发生了变化，胃癌、食管癌和肝癌的负担一直很高，肺癌、女性乳腺癌和结直肠癌的负担呈上升趋势。2008年，中国政府发布了国家肿瘤登记和随访方案，以不断扩大肿瘤登记的覆盖范围，并提供了持续的资金支持。\n随后，中国大陆地区的31个省份均建立了肿瘤随访登记工作机制，肿瘤登记工作得到较大的发展，中国肿瘤登记处的数量由2008年的43个增加至2019年的574个。\n\n\n\n中国肿瘤登记处分布图\n\n\n在这11年期间，每年的肿瘤登记项目经费从369万元人民币(相当于52万美元)增加到5,000万元人民币(700万美元)。一些省份(如上海和湖北)也提供省级资金，支持其所在地区的肿瘤登记工作。\n\n\n\n中国肿瘤登记资金支持变化\n\n\n2015年，中国国家卫生和计划生育委员会发布了《中国肿瘤登记管理条例》，这是全国首部针对肿瘤登记的全国性法规。这部法规的颁布为向肿瘤登记处上报数据的机构和个人提供了法律保护，也使人群肿瘤登记信息能够用来进行流行病学研究。除此之外，法规也明确了相关单位应履行的数据上报义务，所有的医院、医疗机构、健康相关机构都有义务向肿瘤登记处报告肿瘤信息，生命统计系统也有义务提供居民死因数据。\n\n\n\n肿瘤登记管理办法\n\n\n2015年以后，为了应对不断增高的癌症负担，中国又颁布了一系列癌症防控的相关规划，比如，癌症防治行动三年规划、健康中国2030、中国慢性病防控中长期规划（2017-2025）、健康中国规划（2019-2030）癌症防治行动方案等。这些癌症防控规划或方案的出台也给我国的肿瘤登记工作提出了新的目标和要求，比如：健全肿瘤登记报告制度、提升肿瘤登记数据质量和促进信息资源共享和利用。\n数据来源: Wei W, Zeng H, Zheng R, et al. Cancer registration in china and its role in cancer prevention and control[J]. The Lancet Oncology, 2020, 21(7): e342–e349.\n\n\n\n\n\n  \n    \n  \n  \n    陈 琼\n       博士 \n       副主任医师 \n    他从事肿瘤登记与人群流行病学研究，编写肿瘤登记年报，并开发和维护个人网站。他撰写博文，分享数据分析方法、可视化技巧和自动化报告解决方案，同时学习 R 语言，开发 R 包，不断探索高效的数据处理与展示方式。 🚀\n    \n      \n        \n      \n      \n        \n      \n      \n        \n      \n    \n  \n\n 回到顶部"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "陈琼博士",
    "section": "",
    "text": "Gitee\n  \n  \n    \n     Github\n  \n  \n    \n     给我发邮件\n  \n\n  \n  \n\n陈琼，博士，副主任医师，就职于河南省肿瘤医院。\n\nI’m a Cancer Register working in Henan Cancer Hospital, and I earned my PhD from Shanxi Medical University. My current work involves SAS and R coding, and cancer registration data report and visualization. I also have been invovled in the publication of the Cancer Registration Annual Report in Henan, China for several years, and I like sharing the experience, knowledge, and my life here. I have two daughters and they are the greatest achievement I have made.\n这是陈琼的个人主页。2011年，我从兰州大学流行病与卫生统计学专业毕业，就职于河南省肿瘤医院，之后一直从事肿瘤登记工作。 2015年中，我开始在山西医科大学攻读博士学位，于2018年顺利毕业，此后，继续从事肿瘤登记工作。 我在工作中经常会涉及SAS以及R的编程，以实现肿瘤登记数据统计报告和可视化等。我喜欢电子产品、喜欢编程、爱折腾网页，用Blog记录点滴。 我将在这里记录和分享一些工作、学习、生活相关的一些信息。\n\n\n\n\n关于我关于本站\n\n\n\n教育背景\n\n2015.09 ~ 2018.07 山西医科大学 ，流行病与卫生统计学博士\n2008.09 ~ 2011.07 兰州大学，流行病与卫生统计学硕士\n2003.09 ~ 2008.07 兰州大学，预防医学学士\n\n\n\n工作经历\n\n2011.07 ~ 至今 河南省肿瘤医院 从事肿瘤流行病学，以人群为基础的肿瘤登记工作\n2012.08 ~ 2013.09 耶鲁大学，环境医学系，访问学者\n\n\n\n社会兼职\n\n硕士研究生导师（华中科技大学）\n中国抗癌协会癌症筛查与早诊早治专委会青年委员\n《中华肿瘤防治杂志》青年编委\n《社区医学杂志》编委\n《河南省肿瘤登记年报》副主编\n\n\n\n荣誉\n\n荣获《中国肿瘤》杂志卓越论文奖\n荣获2022年度“全国肿瘤登记先进个人”\n\n\n\n\n本站点为本人创建的个人网站，初衷是通过本站分享肿瘤登记相关讯息和知识、SAS和R使用相关技巧、同时也会分享点肿瘤科普相关内容。\n\n创建时间：2020年3月12日\n网站名称：普癌新声，本站点名称由2021中国肿瘤学大会筹备办公室的李延昭老师所赐。本人于2021年临时调入2021中国肿瘤学大会筹备办公室，并有幸与李老师共事，参与大会筹备工作。网站起名是对于我来说是一件很困难的事，并在一次闲聊中跟李老师提及此事，李老师根据建站初衷（肿瘤科普、分享知识等）给出了普癌新声的站点名称（经过一夜的深思熟虑），在此对李老师深表感谢。\n建站初衷：利用个人网站分享肿瘤登记相关技术知识、数据可视化、R和SAS使用技巧、肿瘤科普等，同时本站点也是展现和存档个人历程的空间。\n建站工具：本站点是由 R blogdown包和静态网站生成器 Hugo 生成的静态网站，本人从2020年左右开始使用R作为生产力工具，使用 R blogdown 建站也是学习使用R的一次尝试，从R转到SAS作为生产力工具，也是被R语法的弹性和自由度所折服，虽然在数据处理和管理方面还不能达到使用SAS的熟练程度，但是也在逐步熟悉中。\n建站历程：最初建立个人网站也是受到谢益辉大神的启发，最初使用的模板有Xmin、hugo-them-jane、hugo-theme-even,同时也借鉴了统计学教授Rob J Hyndman个人网站中的文章列表和seminar列表中的相关样式。整个2021年，本站点都处在不断调整样式和增加功能的过程中，最终在不断的尝试后，选择了杨青青站长的CSS样式，然后我把这个CSS样式做成了本站点的Hugo Theme，并加入了支持Markdown基本语法，代码高亮，数学公式，页面单列和双列的切换等功能，然后通过Blogdown进行维护和撰写网站内容。2022年底受所谓的新型冠状病毒的影响，我被封在医院不能回家，就趁这个机会把网站改成了Quarto生成。\n\n\n\n\n\n\n\n\n Back to top"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "陈琼博士",
    "section": "",
    "text": "Hi, and welcome to my personal website. I’m a cancer epidemiologist with a focus on cancer registry, R programming, data analysis, and visualization. Here, I share practical insights, tools, and workflows — from building websites to creating automated reports — all tailored for researchers and data professionals.\n欢迎访问我的个人网站！我是一名专注于肿瘤流行病学的研究者，主要从事肿瘤登记、R 语言编程、数据分析与可视化等相关工作。在这个网站中，我分享自己在研究与实践中积累的方法、工具和工作流程，内容涵盖网站开发、自动化报告生成等。本站既是我个人学习与工作的记录，也希望能为同行提供有价值的参考。\n了解更多\n\n\n\n Back to top"
  },
  {
    "objectID": "publications/coauthor/2015-HPV16-esophageal-cancer.html",
    "href": "publications/coauthor/2015-HPV16-esophageal-cancer.html",
    "title": "The association between human papillomavirus 16 and esophageal cancer in Chinese population: a meta-analysis",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2022-07-27-colorectal-cancer.html",
    "href": "publications/coauthor/2022-07-27-colorectal-cancer.html",
    "title": "普癌新声",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2015-03-18-cancer-incidence-mortality.html",
    "href": "publications/coauthor/2015-03-18-cancer-incidence-mortality.html",
    "title": "2011年河南省恶性肿瘤发病和死亡分析",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2022-esophagus-cancer.html",
    "href": "publications/coauthor/2022-esophagus-cancer.html",
    "title": "Time-trend of the incidence and mortality of esophageal cancer from 2010 to 2018 and its statistics in 2018 in Henan, China",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2018-09-25-cancer.html",
    "href": "publications/coauthor/2018-09-25-cancer.html",
    "title": "2014年河南省恶性肿瘤发病与死亡情况分析",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2012-07-25-liver-cancer-prediction.html",
    "href": "publications/coauthor/2012-07-25-liver-cancer-prediction.html",
    "title": "河南省居民1984—2009年肝癌死亡率趋势分析及预测",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2019-screening-upper-gastrointestinal-cancer.html",
    "href": "publications/coauthor/2019-screening-upper-gastrointestinal-cancer.html",
    "title": "Determinants of participation and detection rate of upper gastrointestinal cancer from population-based screening program in China",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2018-02-25-cancer-incidence-mortality.html",
    "href": "publications/coauthor/2018-02-25-cancer-incidence-mortality.html",
    "title": "河南省2010～2013年恶性肿瘤发病与死亡分析",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2019-11-25-esophgeal-cancer.html",
    "href": "publications/coauthor/2019-11-25-esophgeal-cancer.html",
    "title": "2015年河南省食管癌发病与死亡估计",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2016-cancer.html",
    "href": "publications/coauthor/2016-cancer.html",
    "title": "Cancer incidence and mortality in Henan province, 2012",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2020-05-06-uppergastro.html",
    "href": "publications/coauthor/2020-05-06-uppergastro.html",
    "title": "2013—2017年河南省城市地区上消化道癌高危人群内镜筛查依从性及相关因素分析",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2013-07-06-cancer-incidence-mortality.html",
    "href": "publications/coauthor/2013-07-06-cancer-incidence-mortality.html",
    "title": "2009年河南省恶性肿瘤发病与死亡情况分析",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2022-lung-risk-non-smoker.html",
    "href": "publications/coauthor/2022-lung-risk-non-smoker.html",
    "title": "Construction and Validation of a Lung Cancer Risk Prediction Model for Non-Smokers in China",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2022-risk-model-lung.html",
    "href": "publications/coauthor/2022-risk-model-lung.html",
    "title": "A risk prediction model for selecting high-risk population for computed tomography lung cancer screening in China",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2022-11-03-huaihe.html",
    "href": "publications/coauthor/2022-11-03-huaihe.html",
    "title": "普癌新声",
    "section": "",
    "text": "淮河流域是我国癌症综合防控工作开展较早的地区，该地区的癌症筛查与早诊早治工作是我国癌症防控工作的重要组成部分，并且已取得显著成效。自2007年开始，河南省连续15年开展淮河流域癌症筛查与早诊早治工作，共检出肝癌547例（检出率0.63%），早期病例469例（早诊率85.74%），治疗505例（治疗率92.32%）；检出上消化道癌447例（检出率0.64%），早期病例323例（早诊率72.26%），治疗405例（治疗率90.60%），群众获益明显。此外，项目开展地区的恶性肿瘤监测工作质量和覆盖范围也在持续提升。全文系统介绍河南省淮河流域癌症筛查与早诊早治项目工作开展情况及其对河南省癌症防治工作的辐射引领作用，为下一步全面建设癌症防治体系提供参考。\nKeywords: 恶性肿瘤;筛查;早诊早治;上消化道癌;肝癌;淮河流域;河南\n\n\n\n 回到顶部"
  },
  {
    "objectID": "publications/coauthor/2018-02-08-linzhou-gastric-survival.html",
    "href": "publications/coauthor/2018-02-08-linzhou-gastric-survival.html",
    "title": "2003～2012年林州市胃癌发病、生存及患病分析",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2016-HPV-esophageal-cancer.html",
    "href": "publications/coauthor/2016-HPV-esophageal-cancer.html",
    "title": "Human papillomavirus-related esophageal cancer survival: A systematic review and meta-analysis",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2021-03-06-colorectal-cancer-screening.html",
    "href": "publications/coauthor/2021-03-06-colorectal-cancer-screening.html",
    "title": "2013—2019年河南省城市癌症早诊早治项目地区人群结肠镜筛查结果和依从性分析",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2021-03-23-breast-screening.html",
    "href": "publications/coauthor/2021-03-23-breast-screening.html",
    "title": "2013—2019年河南省城市地区乳腺癌筛查结果分析",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2012-10-23-esophagus-trend.html",
    "href": "publications/coauthor/2012-10-23-esophagus-trend.html",
    "title": "1986—2010年林州市食管癌死亡率时间趋势及预测分析",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2015-07-06-BMI-lung-cancer.html",
    "href": "publications/coauthor/2015-07-06-BMI-lung-cancer.html",
    "title": "中国人群BMI与肺癌发病风险的Meta分析",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2015-liver-cancer.html",
    "href": "publications/coauthor/2015-liver-cancer.html",
    "title": "Incidence and mortality of liver cancer in Henan province in 2015",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2020-07-10-LDCT-lung-screening.html",
    "href": "publications/coauthor/2020-07-10-LDCT-lung-screening.html",
    "title": "河南省城市地区低剂量螺旋CT肺癌筛查依从性及其影响因素分析",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2022-06-14-gastric-cancer.html",
    "href": "publications/coauthor/2022-06-14-gastric-cancer.html",
    "title": "河南省2017年胃癌发病及死亡与2010-2017年流行趋势分析",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2020-HPV-E6E7-cervical-screening.html",
    "href": "publications/coauthor/2020-HPV-E6E7-cervical-screening.html",
    "title": "The Potential Benefits of HPV E6/E7 mRNA Test in Cervical Cancer Screening in China",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2022-P16-ki67-cervical-cancer.html",
    "href": "publications/coauthor/2022-P16-ki67-cervical-cancer.html",
    "title": "Evaluation of p16/Ki-67 dual staining in the detection of cervical precancer and cancer in China",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2018-02-06-fried-food-gastric-cancer.html",
    "href": "publications/coauthor/2018-02-06-fried-food-gastric-cancer.html",
    "title": "油炸食品摄入与胃癌及癌前病变的相关因素分析",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2022-03-15-HPV.html",
    "href": "publications/coauthor/2022-03-15-HPV.html",
    "title": "基线细胞学正常女性高危型人乳头瘤病毒感染与宫颈病变发病风险的3年随访研究",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2022-colorectal-cancer.html",
    "href": "publications/coauthor/2022-colorectal-cancer.html",
    "title": "Incidence and mortality of colorectal cancer in 2017 and the time-trend from 2010 to 2017 in Henan province, China: a population-based registry study",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2021-12-27-esophagus.html",
    "href": "publications/coauthor/2021-12-27-esophagus.html",
    "title": "2017年河南省食管癌流行现况及2010—2017年变化趋势分析",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2020-covid19.html",
    "href": "publications/coauthor/2020-covid19.html",
    "title": "Knowledge, Awareness, and Attitudes Relating to the COVID-19 Pandemic Among Different Populations in Central China: Cross-Sectional Survey",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2014-06-05-cancer.html",
    "href": "publications/coauthor/2014-06-05-cancer.html",
    "title": "河南省2010年恶性肿瘤发病分析",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2014-HPV-prevalence.html",
    "href": "publications/coauthor/2014-HPV-prevalence.html",
    "title": "Prevalence of human papillomavirus 16 in esophageal cancer among the Chinese population: a systematic review and meta-analysis",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/books/2022-annual-report.html",
    "href": "publications/books/2022-annual-report.html",
    "title": "2022河南省肿瘤登记年报",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/books/2020-annual report.html",
    "href": "publications/books/2020-annual report.html",
    "title": "2020河南省肿瘤登记年报",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/books/2017-annual report.html",
    "href": "publications/books/2017-annual report.html",
    "title": "2017河南省肿瘤登记年报",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/index.html",
    "href": "publications/index.html",
    "title": "普癌新声",
    "section": "",
    "text": "封面\n\n\n\n年报名称\n\n\n\n出版年份\n\n\n\n主编/副主编\n\n\n\n\n\n\n\n\n\n\n\n2022河南省肿瘤登记年报\n\n\n2023\n\n\n张建功，张韶凯， 陈琼\n\n\n\n\n\n\n\n\n\n2021河南省肿瘤登记年报\n\n\n2022\n\n\n张建功，张韶凯， 陈琼\n\n\n\n\n\n\n\n\n\n2020河南省肿瘤登记年报\n\n\n2021\n\n\n张建功，张韶凯， 陈琼\n\n\n\n\n\n\n\n\n\n2019河南省肿瘤登记年报\n\n\n2020\n\n\n张建功，张韶凯，陈琼 \n\n\n\n\n\n\n\n\n\n2018河南省肿瘤登记年报\n\n\n2019\n\n\n张建功，刘曙正，陈琼 \n\n\n\n\n\n\n\n\n\n2017河南省肿瘤登记年报\n\n\n2018\n\n\n张建功，刘曙正，陈琼 \n\n\n\n\n\n\n无匹配项"
  },
  {
    "objectID": "publications/index.html#参编书籍",
    "href": "publications/index.html#参编书籍",
    "title": "普癌新声",
    "section": "",
    "text": "封面\n\n\n\n年报名称\n\n\n\n出版年份\n\n\n\n主编/副主编\n\n\n\n\n\n\n\n\n\n\n\n2022河南省肿瘤登记年报\n\n\n2023\n\n\n张建功，张韶凯， 陈琼\n\n\n\n\n\n\n\n\n\n2021河南省肿瘤登记年报\n\n\n2022\n\n\n张建功，张韶凯， 陈琼\n\n\n\n\n\n\n\n\n\n2020河南省肿瘤登记年报\n\n\n2021\n\n\n张建功，张韶凯， 陈琼\n\n\n\n\n\n\n\n\n\n2019河南省肿瘤登记年报\n\n\n2020\n\n\n张建功，张韶凯，陈琼 \n\n\n\n\n\n\n\n\n\n2018河南省肿瘤登记年报\n\n\n2019\n\n\n张建功，刘曙正，陈琼 \n\n\n\n\n\n\n\n\n\n2017河南省肿瘤登记年报\n\n\n2018\n\n\n张建功，刘曙正，陈琼 \n\n\n\n\n\n\n无匹配项"
  },
  {
    "objectID": "publications/index.html#第一作者论文",
    "href": "publications/index.html#第一作者论文",
    "title": "普癌新声",
    "section": "第一作者论文",
    "text": "第一作者论文\n\n\n   \n    \n    \n      排序方式\n      默认\n      \n        标题\n      \n      \n        日期 - 日期升序\n      \n      \n        日期 - 日期降序\n      \n      \n        作者\n      \n    \n  \n    \n      \n      \n    \n\n\n  \n    \n      \n        \n          陈琼, 郑荣寿, 刘曙正, 刘红伟, 刘茵, 郄然然, 张韶凯.  \n          \n        (2025-04-06)\n        Canregtools: 基于R语言的人群肿瘤登记数据分析工具包\n          \n        [J].\n          \n          \n        \n          中华肿瘤杂志.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          Qiong Chen,Shuzheng Liu,Yin Liu,Hongwei Liu,Hong Wang,Lanwei Guo,Huifang Xu,Xiaoli Guo,Xiaoyang Wang,Ruihua Kang,Liyang Zheng,Shaokai Zhang.  \n          \n        (2025-01-01)\n        Lifetime risk of developing and dying from cancer in Henan Province, China: current status, temporal trends, and disparities\n          \n        [J].\n          \n          \n        \n          Journal of the National Cancer Center.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      pdf\n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          陈琼, 张明霞, 郭兰伟, 郑黎阳, 刘纯亚, 王一先, 刘茵, 王红, 徐慧芳, 康瑞华, 王潇杨, 刘曙正, 张韶凯.  \n          \n        (2023-05-12)\n        河南省恶性肿瘤2017-2019年5年相对生存率分析\n          \n        [J].\n          \n          \n        \n          中华肿瘤杂志, 2024, 46(10):954-960.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      pdf\n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          陈琼，李变云，刘曙正，徐慧芳，于亮，郭兰伟，张璐瑶，刘茵，王潇杨，孙喜斌，张韶凯 .  \n          \n        (2022-11-03)\n        胃癌内镜筛查对统计治愈比例的影响\n          \n        [J].\n          \n          \n        \n          中国肿瘤, 2023,32(1):27-32.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      \n\n      pdf\n      \n      \n      \n    \n  \n    \n      \n        \n          张韶凯，陈琼，张璐瑶，刘茵，徐慧芳，王潇杨，王红，康瑞华，郭兰伟，郑黎阳，刘曙正，孙喜斌 .  \n          \n        (2022-10-23)\n        以人群为基础的肿瘤登记建设规范\n          \n        [J].\n          \n          \n        \n          社区医学杂志, 2022, 20(13):757-761.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      \n\n      pdf\n      \n      \n      \n    \n  \n    \n      \n        \n          陈琼，张明霞，郭兰伟，王红，徐慧芳，刘茵，王潇杨，康瑞华，郑黎阳，刘曙正，孙喜斌，张韶凯 .  \n          \n        (2022-10-22)\n        2010-2014年河南省儿童和青少年恶性肿瘤生存分析\n          \n        [J].\n          \n          \n        \n          中国肿瘤, 2022, 31(10):787-793.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      \n\n      pdf\n      \n      \n      \n    \n  \n    \n      \n        \n           Qiong Chen, Cheng C, Liu Y, Guo L, Xu H, Wang H, Wang X, Zhang L, Zhang S, Han B.  \n          \n        (2022-10-14)\n        Incidence and mortality of gastric cancer in 2018 and their trends from 2010 to 2018 in Henan Province, China: results from a provincial population-based cancer registry\n          \n        [J].\n          \n          \n        \n          Ann Transl Med, 2022;10(18):1012.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      pdf\n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          陈琼，徐慧芳，郭兰伟，康瑞华，刘茵，王潇杨，郑黎阳，张璐瑶，刘曙正，孙喜斌，张韶凯 .  \n          \n        (2022-08-10)\n        2017年河南省恶性肿瘤发病与死亡情况分析\n          \n        [J].\n          \n          \n        \n          中华肿瘤防治杂志, 2022, 29(12):895-901.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      pdf\n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          陈琼，刘茵，刘曙正，郭兰伟，郑黎阳，徐慧芳，王潇杨，王红，孙喜斌，张韶凯 .  \n          \n        (2022-06-30)\n        河南省2016年肝癌的发病与死亡情况及2010-2016年趋势分析\n          \n        [J].\n          \n          \n        \n          肝癌电子杂志, 2022, 9(2):7-12..\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      pdf\n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          陈琼, 徐慧芳，刘曙正, 郭兰伟，曹小琴，郑黎阳，孙喜斌, 张韶凯.  \n          \n        (2022-02-24)\n        2010-2016年食管癌发病与死亡情况趋势分析\n          \n        [J].\n          \n          \n        \n          中华肿瘤杂志, 2022, 44(1):86-92.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      \n\n      pdf\n      \n      \n      \n    \n  \n    \n      \n        \n          张建功，张韶凯，刁琳琪，郭万申，罗素霞，陈琼，刘曙正 .  \n          \n        (2021-04-15)\n        2020河南省肿瘤登记年报\n        \n        [M].\n          \n          \n        \n          河南科学技术出版社,郑州.\n        \n      \n      \n      \n      \n      \n      \n      \n      Online\n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n           Qiong Chen, Weiwei Wu, Hailan Yang, Ping Zhang, Yongliang Feng, Keke Wang, Ying Wang, Suping Wang, Yawei Zhang.  \n          \n        (2020-09-11)\n        A Vegetable Dietary Pattern Is Associated with Lowered Risk of Gestational Diabetes Mellitus in Chinese Women\n          \n        [J].\n          \n          \n        \n          Diabetes Metab J, 2020, 44(6):887-896.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      pdf\n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          张建功，张韶凯，刁琳琪，郭万申，罗素霞，陈琼，刘曙正 .  \n          \n        (2020-04-15)\n        2019河南省肿瘤登记年报\n        \n        [M].\n          \n          \n        \n          河南科学技术出版社,郑州.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          陈琼,刘曙正,郭兰伟,曹小琴,郑黎阳,徐慧芳,孙喜斌,张韶凯,张建功 .  \n          \n        (2020-04-01)\n        2016年河南省恶性肿瘤的发病与死亡分析\n          \n        [J].\n          \n          \n        \n          中国肿瘤, 2020, 29(8), 571-578.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      pdf\n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          陈琼, 郑荣寿, 张韶凯, 张思维, 刘曙正, 孙喜斌, 魏文强, 赫捷.  \n          \n        (2020-02-01)\n        2015年中国肾及泌尿系统其它癌发病死亡情况分析\n          \n        [J].\n          \n          \n        \n          中华肿瘤杂志, 2020, 42(12):1001-1006.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      \n\n      pdf\n      \n      \n      \n    \n  \n    \n      \n        \n           Qiong Chen, Shu-Zheng Liu, Shao-Kai Zhang, Xiao-Qin Cao, Bian-Yun Li, Pei-Liang Quan, Lan-Wei Guo, Lee Dong, Xi-Bin Sun, Yawei Zhang, Jian-Gong Zhang.  \n          \n        (2020-02-01)\n        The relative survival and cure fraction of gastric cancer estimated through flexible parametric models using data from population-based cancer registration during 2003-2012 in Linzhou, China\n          \n        [J].\n          \n          \n        \n          Cancer Medicine, 2020, 9(6), 2243-2251.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      pdf\n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          陈琼 .  \n          \n        (2019-08-01)\n        2015年河南省恶性肿瘤发病与死亡情况分析\n          \n        [J].\n          \n          \n        \n          河南省医学研究,28(8).\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          Keke Wang,   Qiong Chen, Yongliang Feng, Hailan Yang, Weiwei Wu, Ping Zhang, Ying Wang, Jamie Ko, Feng Zhao, Wenqiong Du, Feifei Yang, Tianbi Han, Suping Wang, Yawei Zhang.  \n          \n        (2019-07-05)\n        Single Nucleotide Polymorphisms in CDKAL1 Gene Are Associated with Risk of Gestational Diabetes Mellitus in Chinese Population\n          \n        [J].\n          \n          \n        \n          Journal of diabetes research.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      pdf\n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          张建功，刘曙正，陈琼 .  \n          \n        (2019-04-15)\n        2018河南省肿瘤登记年报\n        \n        [M].\n          \n          \n        \n          河南科学技术出版社,郑州.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n           Qiong Chen, Yongliang Feng, Hailan Yang, Weiwei Wu, Ping Zhang, Keke Wang, Ying Wang, Jamie Ko, Jiaxin Shen, Lingling Guo, Feng Zhao, Wenqiong Du, Shouhang Ru, Suping Wang, Yawei Zhang.  \n          \n        (2019-03-05)\n        A Vitamin Pattern Diet Is Associated with Decreased Risk of Gestational Diabetes Mellitus in Chinese Women: Results from a Case Control Study in Taiyuan, China\n          \n        [J].\n          \n          \n        \n          Journal of diabetes research.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      pdf\n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n           Qiong Chen, Zhen Guo, Shuzheng Liu, Peiliang Quan, Xiaoqin Cao, Lanwei Guo, Shaokai Zhang, Xibin Sun.  \n          \n        (2019-01-01)\n        The cancer incidence and mortality among children and adolescents during the period of 2010-2014 in Henan Province, China\n          \n        [J].\n          \n          \n        \n          Cancer Medicine, 2019, 8(2), 814-823.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      pdf\n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          陈琼, 于亮, 刘曙正, 郝长青, 张萌, 王进武, 张韶凯, 郭兰伟, 全培良, 孙喜斌.  \n          \n        (2018-09-01)\n        林州市上消化道癌内窥镜筛查效果评价研究\n          \n        [J].\n          \n          \n        \n          中国肿瘤 ,2018, 27(3):198-201.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      pdf\n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          陈琼, 刘曙正, 全培良, 曹小琴, 张萌, 张韶凯, 郭兰伟, 孙喜斌.  \n          \n        (2018-08-01)\n        2014年河南省肺癌发病与死亡情况估计\n          \n        [J].\n          \n          \n        \n          河南省医学研究, 2018(15):2689-2693.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          陈琼 .  \n          \n        (2018-06-25)\n        饮食模式及胰岛素信号通路基因多态性与妊娠期糖尿病发病风险的关系\n        \n        [D].\n          \n          \n        \n          太原:山西医科大学，2018.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          张建功，刘曙正，陈琼 .  \n          \n        (2018-04-15)\n        2017河南省肿瘤登记年报\n        \n        [M].\n          \n          \n        \n          河南科学技术出版社,郑州.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n           Qiong Chen, Hailan Yang, Yongliang Feng, Ping Zhang, Weiwei Wu, Shuzhen Li, Brian Thompson, Xin Wang, Tingting Peng, Fang Wang, Bingjie Xie, Pengge Guo, Mei Li, Ying Wang, Nan Zhao, Suping Wang, Yawei Zhang.  \n          \n        (2018-02-01)\n        SOS1 gene polymorphisms are associated with gestational diabetes mellitus in a Chinese population: Results from a nested case-control study in Taiyuan, China\n          \n        [J].\n          \n          \n        \n          Diabetes & vascular disease research , 2018, 15(2):158-161.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      pdf\n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n           Qiong Chen, Liang Yu, Changqing Hao, Jinwu Wang, Shuzheng Liu, Meng Zhang, Shaokai Zhang, Lanwei Guo, Peiliang Quan, Patrick Germain, Yawei Zhang, Xibin Sun.  \n          \n        (2016-10-19)\n        Effectiveness evaluation of organized screening for esophageal cancer: a case-control study in Linzhou city, China\n          \n        [J].\n          \n          \n        \n          Sci Rep , 635707.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      pdf\n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n           Qiong Chen, Liang Yu,  Chang‐qing Hao,  Jin‐wu Wang,  Shu‐zheng Liu,  Meng Zhang,  Shao‐kai Zhang,  Lan‐wei Guo,  Pei‐liang Quan,  Nan Zhao,  Ya‐wei Zhang,  Xi‐bin Sun.  \n          \n        (2016-08-01)\n        Effectiveness of endoscopic gastric cancer screening in a rural area of Linzhou, China: results from a case-control study\n          \n        [J].\n          \n          \n        \n          Cancer Medicine , 2019, 8(2), 814-823.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      pdf\n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          陈琼，刘曙正，张萌，张韶凯，郭兰伟，全培良，孙喜斌 .  \n          \n        (2015-08-19)\n        林州市上消化道癌筛查效果评价研究\n          \n        [J].\n          \n          \n        \n          全国肿瘤流行病学和肿瘤病因学学术会议论文集.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n           Qiong Chen,Tongzhang Zheng,  Bryan A. Bassig, Yibin Cheng, Brian Leaderer, Shaobin Lin, Theodore Holford, Jie Qiu, Yawei Zhang, Kunchong Shi, Yong Zhu, Jianjun Niu, Yonghong Li, Huan Guo, Xiaobin Hu, Yinlong Jin.  \n          \n        (2014-11-03)\n        Prenatal Exposure to Polycyclic Aromatic Hydrocarbons and Birth Weight in China\n          \n        [J].\n          \n          \n        \n          Open Journal of Air Pollution, 2014, 3(4), 100-110.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      pdf\n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          陈琼, 刘志才, 程兰平,  宋国慧,  孙喜斌,  郑荣寿,  张思维,  陈万青.  \n          \n        (2013-02-01)\n        2003-2007年中国结直肠癌发病与死亡分析\n          \n        [J].\n          \n          \n        \n          中国肿瘤, 2012, 21(3):179-182.\n        \n      \n      \n      \n      \n      \n      \n      pdf\n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n           Qiong Chen, Shu-Zheng Liu, Shao-kai Zhang, Xiao-Qin Cao, Bian-Yun Li, Pei-Liang Quan, Lan-Wei Guo, Dong Lee, Xi-Bin Sun, Yawei Zhang, Jian-Gong Zhang.  \n          \n        (2013-02-01)\n        Single-nucleotide polymorphisms in genes encoding for CC chemokines were not associated with the risk of non-Hodgkin lymphoma\n          \n        [J].\n          \n          \n        \n          Cancer epidemiology, biomarkers & prevention, 2013, 22(7), 1332-1335.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      pdf\n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          陈琼 .  \n          \n        (2011-06-25)\n        甘肃省孕产妇对叶酸增补知识认知现况调查\n        \n        [D].\n          \n          \n        \n          兰州:兰州大学，2011.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          陈琼 .  \n          \n        (2010-11-03)\n        甘肃省孕产妇对叶酸增补知识认知现况调查\n          \n        [J].\n          \n          \n        \n          中国妇幼保健, 2010, 25(32), 4725-4727.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n\n\n无匹配项"
  },
  {
    "objectID": "publications/index.html#通讯作者论文",
    "href": "publications/index.html#通讯作者论文",
    "title": "普癌新声",
    "section": "通讯作者论文",
    "text": "通讯作者论文\n\n\n   \n    \n    \n      排序方式\n      默认\n      \n        标题\n      \n      \n        日期 - 日期升序\n      \n      \n        日期 - 日期降序\n      \n      \n        作者\n      \n    \n  \n    \n      \n      \n    \n\n\n  \n    \n      \n        \n          张明霞,陈琼,郭兰伟,郑黎阳,刘茵,王红,王潇杨,刘纯亚,徐慧芳,刘曙正,张韶凯 .  \n          \n        (2023-08-21)\n        2018年河南省恶性肿瘤发病与死亡情况及2014-2018年趋势分析\n          \n        [J].\n          \n          \n        \n          中国肿瘤,2023,32(8).\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n\n\n无匹配项"
  },
  {
    "objectID": "publications/index.html#共同作者论文",
    "href": "publications/index.html#共同作者论文",
    "title": "普癌新声",
    "section": "共同作者论文",
    "text": "共同作者论文\n\n\n   \n    \n    \n      排序方式\n      默认\n      \n        标题\n      \n      \n        日期 - 日期升序\n      \n      \n        日期 - 日期降序\n      \n      \n        作者\n      \n    \n  \n    \n      \n      \n    \n\n\n  \n    \n      \n        \n          Lanwei Guo, Qingcheng Meng, Liyang Zheng, Qiong Chen, Yin Liu, Huifang Xu, Ruihua Kang, Luyao Zhang, Shuzheng Liu, Xibin Sun, Shaokai Zhang.  \n          \n        (2023-01-16)\n        Lung Cancer Risk Prediction Nomogram in Nonsmoking Chinese Women: Retrospective Cross-sectional Cohort Study\n          \n        [J].\n          \n          \n        \n          JMIR Public Health and Surveillance,2023,9(1):e41640.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          Yin Liu, Lan-Wei Guo, Hui-Fang Xu, Rui-Hua Kang, Li-Yang Zheng, Lu-Yao Zhang, Qiong Chen, Xi-Bin Sun, You-Lin Qiao, Shao-Kai Zhang.  \n          \n        (2022-11-15)\n        Development and Validation of a Noninvasive Risk Score Model for Liver Cirrhosis in At-Risk Alcohol Drinkers Without HBV/HCV Infection\n          \n        [J].\n          \n          \n        \n          Cancer Prev Res (Phila),2022 Nov 1;15(11):767-776.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      pdf\n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          Lan-Wei Guo, Qiong Chen, Yin-Chen Shen, Qing-Cheng Meng, Li-Yang Zheng, Yue Wu, Xiao-Qin Cao, Hui-Fang Xu, Shu-Zheng Liu, Xi-Bin Sun, You-Lin Qiao, Shao-Kai Zhang.  \n          \n        (2022-11-15)\n        Evaluation of a Low-Dose Computed Tomography Lung Cancer Screening Program in Henan, China\n          \n        [J].\n          \n          \n        \n          JAMA Netw Open,  2020 Nov 2;3(11):e2019039.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      pdf\n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          康瑞华, 刘曙正, 陈琼, 王一先, 孙喜斌, 张韶凯.  \n          \n        (2022-11-03)\n        \n          \n        [J].\n          \n          \n        \n          中国肿瘤,2022,31(11):847-852.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          Xiao-Yang Wang, Shu-Zheng Liu, Hui-Fang Xu, Yin Liu, Hong Wang, Rui-Hua Kang, Qiong Chen, Lu-Yao Zhang, Lan-Wei Guo, Li-Yang Zheng, Chun-Ya Liu, Yi-Xian Wang, Yi-Ping Jing, You-Lin Qiao, Bin-Bin Han, Shao-Kai Zhang.  \n          \n        (2022-09-15)\n        A cluster randomized controlled trial to evaluate the efficacy of esophageal and gastric cancer screening in mortality reduction in a non-high-incidence area: methodology and initial results\n          \n        [J].\n          \n          \n        \n          Ann Transl Med,2022 Sep;10(18):994.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      pdf\n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          Yin Liu, Qiong Chen, Lan-Wei Guo, Hui-Fang Xu, Xiao-Yang Wang, Rui-Hua Kang, Lu-Yao Zhang, Hong Wang, Bin-Bin Han, Shao-Kai Zhang.  \n          \n        (2022-09-10)\n        Incidence and mortality of lung cancer in 2018 and the temporal trends from 2010 to 2018 in Henan province, China: a population-based registry study\n          \n        [J].\n          \n          \n        \n          Ann Transl Med, 2022 Sep;10(18):1005.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      pdf\n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          Jian-Gong Zhang, Yin Liu, Qiong Chen, Hui-Fang Xu, Xiao-Yang Wang, Lan-Wei Guo, Rui-Hua Kang, Lu-Yao Zhang, Hong Wang, Shao-Kai Zhang.  \n          \n        (2022-08-10)\n        Incidence and mortality of colorectal cancer in 2017 and the time-trend from 2010 to 2017 in Henan province, China: a population-based registry study\n          \n        [J].\n          \n          \n        \n          Ann Transl Med, 2022 Aug;10(16):878.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      pdf\n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          Jian-Gong Zhang, Hui-Fang Xu, Qiong Chen, Lu-Yao Zhang, Xiao-Yang Wang, Hong Wang, Yin Liu, Shu-Zheng Liu, Lan-Wei Guo, Li-Yang Zheng, Yi-Xian Wang, Yi-Ping Jing, Chun-Ya Liu, You-Lin Qiao, Shao-Kai Zhang, Bin-Bin Han.  \n          \n        (2022-08-10)\n        Time-trend of the incidence and mortality of esophageal cancer from 2010 to 2018 and its statistics in 2018 in Henan, China\n          \n        [J].\n          \n          \n        \n          Ann Transl Med, 2022 Aug;10(16):899.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      pdf\n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          张建功，刘茵，陈琼，徐慧芳，王潇杨，郭兰伟，康瑞华，张璐瑶，王红，张韶凯 .  \n          \n        (2022-07-27)\n        \n          \n        [J].\n          \n          \n        \n          郑州大学学报(医学版),2022,57(04):482-486.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          郭兰伟, 郑黎阳, 陈琼, 刘茵, 徐慧芳, 康瑞华, 张璐瑶, 刘曙正, 孙喜斌, 张韶凯.  \n          \n        (2022-07-26)\n        亚太结直肠癌风险评分系统在我国北方无症状人群筛查中的应用\n          \n        [J].\n          \n          \n        \n          中国肿瘤, 2022,31(08):649-654.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          张韶凯, 陈琼, 徐慧芳, 刘茵, 刘曙正, 郭兰伟, 郑黎阳, 康瑞华, 张建功.  \n          \n        (2022-06-14)\n        河南省2017年胃癌发病及死亡与2010-2017年流行趋势分析\n          \n        [J].\n          \n          \n        \n          中华肿瘤防治杂志, 2022,29(11):781-785.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          Lan-Wei Guo, Qing-Cheng Meng, Li-Yang Zheng, Qiong Chen, Yin Liu, Hui-Fang Xu, Rui-Hua Kang, Lu-Yao Zhang, Shu-Zheng Liu, Xi-Bin Sun, Shao-Kai Zhang.  \n          \n        (2022-05-15)\n        Special issue (The advance of solid tumor research in China): Participants with a family history of cancer have a higher participation rate in low-dose computed tomography for lung cancer screening\n          \n        [J].\n          \n          \n        \n          Int J Cancer,2022 Apr 1.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          郭珍，赵冬梅，贾漫漫，陈琼，陈红敏，任玲艳，陈佩佩，孙星媛，李梦洁，孙喜斌，张韶凯 .  \n          \n        (2022-03-15)\n        基线细胞学正常女性高危型人乳头瘤病毒感染与宫颈病变发病风险的3年随访研究\n          \n        [J].\n          \n          \n        \n          中国肿瘤, 2022,31(05):394-400.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          刘茵,陈琼,张璐瑶,郭兰伟,徐慧芳,康瑞华,郑黎阳,王潇杨,王红,刘曙正,孙喜斌,张韶凯 .  \n          \n        (2022-03-15)\n        2017年河南省肝癌流行现状及2010—2017年趋势分析\n          \n        [J].\n          \n          \n        \n          中国肿瘤,2022,31(05):335-340.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          Yin Liu, Lan-Wei Guo, Hui-Fang Xu, Rui-Hua Kang, Li-Yang Zheng, Lu-Yao Zhang, Qiong Chen, Xi-Bin Sun, Shao-Kai Zhang, You-Lin Qiao.  \n          \n        (2022-02-15)\n        Risk of liver cirrhosis in HBV/HCV infected individuals with First-degree relatives who have liver cancer: development and validation of a simple model\n          \n        [J].\n          \n          \n        \n          Cancer Prev Res (Phila),2022 Feb;15(2):111-120.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          徐慧芳,陈琼,刘茵,刘曙正,郭兰伟,康瑞华,郑黎阳,曹小琴,朴恒,张璐瑶,孙喜斌,张韶凯 .  \n          \n        (2022-01-30)\n        2017年河南省女性乳腺癌流行现状及2010—2017年变化趋势\n          \n        [J].\n          \n          \n        \n          中国肿瘤,2022,31(01):31-36.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          徐慧芳,陈琼,刘曙正,郭兰伟,郑黎阳,曹小琴,于达,孙喜斌,张韶凯 .  \n          \n        (2022-01-23)\n        2010—2016年河南省胃癌发病与死亡情况趋势分析\n          \n        [J].\n          \n          \n        \n          中华肿瘤杂志,2022,44(01):93-98.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          刘茵，陈琼，郭兰伟，徐慧芳，康瑞华，郑黎阳，曹小琴，张璐瑶，朴恒，刘曙正，孙喜斌，张韶凯 .  \n          \n        (2022-01-21)\n        2017年河南省肺癌流行现状及2010—2017年趋势分析\n          \n        [J].\n          \n          \n        \n          中国肿瘤,2022,31(02):112-118.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          Lan-Wei Guo, Zhang-Yan Lyu, Qing-Cheng Meng, Li-Yang Zheng, Qiong Chen, Yin Liu, Hui-Fang Xu, Rui-Hua Kang, Lu-Yao Zhang, Xiao-Qin Cao, Shu-Zheng Liu, Xi-Bin Sun, Jian-Gong Zhang, Shao-Kai Zhang.  \n          \n        (2022-01-04)\n        Construction and Validation of a Lung Cancer Risk Prediction Model for Non-Smokers in China\n          \n        [J].\n          \n          \n        \n          Front Oncol, 2022 Jan 4;11:766939.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      pdf\n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          Lan-Wei Guo, Zhang-Yan Lyu, Qing-Cheng Meng, Li-Yang Zheng, Qiong Chen, Yin Liu, Hui-Fang Xu, Rui-Hua Kang, Lu-Yao Zhang, Xiao-Qin Cao, Shu-Zheng Liu, Xi-Bin Sun, Jian-Gong Zhang, Shao-Kai Zhang.  \n          \n        (2022-01-01)\n        A risk prediction model for selecting high-risk population for computed tomography lung cancer screening in China\n          \n        [J].\n          \n          \n        \n          Lung cancer, 2022 Jan;163:27-34.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      pdf\n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          徐慧芳,陈琼,刘茵,刘曙正,郭兰伟,郑黎阳,康瑞华,张韶凯 .  \n          \n        (2021-12-27)\n        2017年河南省食管癌流行现况及2010—2017年变化趋势分析\n          \n        [J].\n          \n          \n        \n          中国肿瘤,2022,30(11):31-36.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          曹小琴，张韶凯，王福让，陈琼，郭兰伟，刘曙正，孙喜斌 .  \n          \n        (2021-12-06)\n        2014—2018年河南省农村癌症早诊早治项目地区人群食管癌筛查效果分析\n          \n        [J].\n          \n          \n        \n          中华预防医学杂志, 2021,55(02):184-188.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          郭珍,赵冬梅,张韶凯,吴泽妮,孙喜斌,贾漫漫,陈琼,郭兰伟,陈佩佩,张建功 .  \n          \n        (2021-10-23)\n        高危型人乳头状瘤病毒E6和E7基因在细胞学为意义不明的不典型鳞状细胞人群分流中的临床效果评价\n          \n        [J].\n          \n          \n        \n          中华肿瘤杂志, 2021,43(10):1094-1099.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          郭兰伟,张韶凯,刘曙正,郑黎阳,陈琼,曹小琴,孙喜斌,张建功 .  \n          \n        (2021-08-24)\n        河南省城市地区乳腺癌筛查依从性及其影响因素分析\n          \n        [J].\n          \n          \n        \n          实用肿瘤学杂志,2021,35(04):307-313.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          徐慧芳，陈琼，刘茵，刘曙正，郭兰伟，郑黎阳，康瑞华，张韶凯 .  \n          \n        (2021-06-25)\n        2016年河南省鼻咽癌发病与死亡分析\n          \n        [J].\n          \n          \n        \n          中国癌症防治杂志,2021,13(03):262-266.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          郭兰伟，刘曙正，郑黎阳，郭晓霞，陈琼，曹小琴，孙喜斌，张韶凯 .  \n          \n        (2021-03-23)\n        2013—2019年河南省城市地区乳腺癌筛查结果分析\n          \n        [J].\n          \n          \n        \n          中国肿瘤,2021,30(04):292-299.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          郭兰伟,张韶凯,刘曙正,郑黎阳,余娟,陈琼,曹小琴,孙喜斌,张建功 .  \n          \n        (2021-03-06)\n        2013—2019年河南省城市癌症早诊早治项目地区人群结肠镜筛查结果和依从性分析\n          \n        [J].\n          \n          \n        \n          中华预防医学杂志,2021,55(03):353-358.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          郭兰伟，张韶凯，刘曙正，郑黎阳，陈琼，曹小琴，孙喜斌，张建功 .  \n          \n        (2021-02-23)\n        河南省城市地区肝癌筛查依从性及其影响因素分析\n          \n        [J].\n          \n          \n        \n          中华肿瘤杂志,2021,43(02):233-237.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          胡建平，陈琼，曹小琴，全培良，郭兰伟，张韶凯，刘曙正，王伟 .  \n          \n        (2021-01-26)\n        河南省2010～2015年胃癌发病与死亡分析\n          \n        [J].\n          \n          \n        \n          郑州大学学报(医学版),2021,56(01):63-66.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          Huifang Xu, Maria Jose Gonzalez Mendez, Lanwei Guo, Qiong Chen, Liyang Zheng, Peipei Chen, Xiaoqin Cao, Shuzheng Liu, Xibin Sun, Shaokai Zhang, Youlin Qiao.  \n          \n        (2020-10-15)\n        Knowledge, Awareness, and Attitudes Relating to the COVID-19 Pandemic Among Different Populations in Central China: Cross-Sectional Survey\n          \n        [J].\n          \n          \n        \n          J Med Internet Res,2020 Oct 15;22(10):e22628.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      pdf\n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          Shao-Kai Zhang, Zhen Guo, Peng Wang, Le-Ni Kang, Man-Man Jia, Ze-Ni Wu, Qiong Chen, Xiao-Qin Cao  , Dong-Mei Zhao, Pei-Pei Guo, Xi-Bin Sun, Jian-Gong Zhang, You-Lin Qiao.  \n          \n        (2020-10-15)\n        The Potential Benefits of HPV E6/E7 mRNA Test in Cervical Cancer Screening in China\n          \n        [J].\n          \n          \n        \n          Front Oncol,2020 Oct 2;10:533253.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      pdf\n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          郭兰伟,张韶凯,刘曙正,杨福娜,吴越,郑黎阳,陈琼,曹小琴,孙喜斌,张建功 .  \n          \n        (2020-07-10)\n        河南省城市地区低剂量螺旋CT肺癌筛查依从性及其影响因素分析\n          \n        [J].\n          \n          \n        \n          中华流行病学杂志,  2020,41(07):1076-1080.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          郭兰伟,张韶凯,刘曙正,杨福娜,郑黎阳,陈琼,曹小琴,孙喜斌,张建功 .  \n          \n        (2020-05-06)\n        2013—2017年河南省城市地区上消化道癌高危人群内镜筛查依从性及相关因素分析\n          \n        [J].\n          \n          \n        \n          中华预防医学杂志,  2020,54(05):523-524-525-526-527-528.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          郭兰伟，刘曙正，张韶凯，杨福娜，吴越，郑黎阳，陈琼，曹小琴，孙喜斌 .  \n          \n        (2020-02-23)\n        2013—2017年河南省城市地区低剂量螺旋CT肺癌筛查效果分析\n          \n        [J].\n          \n          \n        \n          中华肿瘤杂志,  2020,42(02):155-159.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          郑黎阳，陈琼，刘曙正，郭兰伟，全培良，曹小琴，徐慧芳，孙喜斌，张韶凯 .  \n          \n        (2019-11-15)\n        2015年河南省食管癌发病与死亡估计\n          \n        [J].\n          \n          \n        \n          肿瘤预防与治疗,  2019,32(11):978-983.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          Lanwei Guo, Shaokai Zhang, Shuzheng Liu, Liyang Zheng, Qiong Chen, Xiaoqin Cao, Xibin Sun, Youlin Qiao, Jiangong Zhang.  \n          \n        (2019-11-15)\n        Determinants of participation and detection rate of upper gastrointestinal cancer from population-based screening program in China\n          \n        [J].\n          \n          \n        \n          Cancer Med,  2019 Nov;8(16):7098-7107.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      pdf\n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          王鹏,郭珍,赵冬梅,贾漫漫,陈琼,吴泽妮,郭沛沛,陈佩佩,徐慧芳,郑黎阳,孙喜斌,乔友林,张韶凯 .  \n          \n        (2019-11-05)\n        高危型人乳头瘤病毒E6/E7 mRNA对未明确意义的非典型鳞状上皮细胞人群分流的意义\n          \n        [J].\n          \n          \n        \n          中国肿瘤,2019,28(11):876-882.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          Xiao-Qin Cao, Ru-Fei Cao, Shu-Zheng Liu, Qiong Chen, Pei-Liang Quan, Su-Xia Luo.  \n          \n        (2019-10-15)\n        Incidence and mortality of liver cancer in Henan province in 2015\n          \n        [J].\n          \n          \n        \n          Chronic Dis Transl Med, 2019 Oct 15;5(3):197-202.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      pdf\n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          曹小琴，郭兰伟，刘曙正，李祥，陈琼，全培良，张韶凯，孙喜斌，罗素霞 .  \n          \n        (2019-10-05)\n        非高发区食管癌筛查人群食管病理分布\n          \n        [J].\n          \n          \n        \n          中国肿瘤,2019,28(10):731-737.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          Shao-Kai Zhang, Man-Man Jia, Dong-Mei Zhao, Ze-Ni Wu, Zhen Guo, Yu-Ling Liu, Pei-Pei Guo, Qiong Chen, Xiao-Qin Cao, Shu-Zheng Liu, Wen Chen, Xi-Bin Sun.  \n          \n        (2019-05-15)\n        Evaluation of p16/Ki-67 dual staining in the detection of cervical precancer and cancer in China\n          \n        [J].\n          \n          \n        \n          Cancer Epidemiol,2019 Apr;59:123-128.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      pdf\n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          杜文琼，赵枫，陈琼，冯永亮，杨海澜，王素萍，邬惟为，张亚玮 .  \n          \n        (2019-04-28)\n        瘦素受体基因多态性与妊娠期糖尿病发病关系\n          \n        [J].\n          \n          \n        \n          中国公共卫生,2019,35(07):833-837.\n        \n      \n      \n      \n      \n      \n      \n      pdf\n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          Shuzheng Liu, Qiong Chen, Lanwei Guo, Xiaoqin Cao, Xibin Sun, Wanqing Chen, Jie He.  \n          \n        (2018-12-30)\n        Incidence and mortality of lung cancer in China, 2008 - 2012\n          \n        [J].\n          \n          \n        \n          Chin J Cancer Res, 2018 Dec;30(6):580-587.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      pdf\n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          刘曙正，郭兰伟，曹小琴，陈琼，张韶凯，张萌，于达，全培良，孙喜斌，陈万青 .  \n          \n        (2018-10-10)\n        中国2014年肾癌发病与死亡分析\n          \n        [J].\n          \n          \n        \n          中华流行病学杂志,2018,39(10):1346-1350.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          郭兰伟,刘曙正,曹小琴,陈琼,张韶凯,张萌,于达,全培良,孙喜斌 .  \n          \n        (2018-09-25)\n        2014年河南省恶性肿瘤发病与死亡情况分析\n          \n        [J].\n          \n          \n        \n          中国循证医学杂志,2018,18(09):896-902.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          刘曙正,陈琼,全培良,张萌,郭兰伟,张韶凯,孙喜斌 .  \n          \n        (2018-02-25)\n        河南省2010～2013年恶性肿瘤发病与死亡分析\n          \n        [J].\n          \n          \n        \n          肿瘤预防与治疗,2018,31(01):12-17.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          刘曙正，曹小琴，于亮，陈琼，全培良，孙喜斌 .  \n          \n        (2018-02-08)\n        2003～2012年林州市胃癌发病、生存及患病分析\n          \n        [J].\n          \n          \n        \n          中国肿瘤,2018,27(03):181-185.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          郭兰伟,刘曙正,张萌,陈琼,张韶凯,孙喜斌 .  \n          \n        (2018-02-06)\n        油炸食品摄入与胃癌及癌前病变的相关因素分析\n          \n        [J].\n          \n          \n        \n          中华预防医学杂志,2018,52(02):170-174.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          郭兰伟，刘曙正，张萌，陈琼，张韶凯，孙喜斌 .  \n          \n        (2018-02-06)\n        油炸食品与食管癌及癌前病变关系的多元有序logistic回归分析\n          \n        [J].\n          \n          \n        \n          中华流行病学杂志,2017,38(12):1616-1619.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          曹小琴,刘曙正,陈琼,张韶凯,郭兰伟,张萌,全培良,孙喜斌 .  \n          \n        (2017-09-30)\n        2013年河南省癌症发病与死亡分析\n          \n        [J].\n          \n          \n        \n          中国肿瘤临床,2017,44(18):923-930.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          Lanwei Guo, Shuzheng Liu, Shaokai Zhang, Qiong Chen, Meng Zhang, Peiliang Quan, Xi-Bin Sun.  \n          \n        (2017-05-23)\n        Human papillomavirus-related esophageal cancer survival: A systematic review and meta-analysis\n          \n        [J].\n          \n          \n        \n          Medicine (Baltimore),  2016 Nov;95(46):e5318.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      pdf\n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          Lanwei Guo, Shuzheng Liu, Shaokai Zhang, Qiong Chen, Meng Zhang, Peiliang Quan, Xibin Sun.  \n          \n        (2017-05-15)\n        Human papillomavirus infection as a prognostic marker for lung adenocarcinoma: a systematic review and meta-analysis\n          \n        [J].\n          \n          \n        \n          Oncotarget, 2017 May 23;8(21):34507-34515.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      pdf\n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          刘曙正，于亮，陈琼，全培良，曹小琴，孙喜斌. .  \n          \n        (2017-05-06)\n        2003—2012年食管癌高发区林州市不同病理类型食管癌发病及生存状况分析\n          \n        [J].\n          \n          \n        \n          中华预防医学杂志,2017,51(05):393-397.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      pdf\n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          贾漫漫，张韶凯，刘曙正，全培良，陈琼，张萌，邹小农，孙喜斌 .  \n          \n        (2016-12-05)\n        河南省2012年癌症发病与死亡\n          \n        [J].\n          \n          \n        \n          中国肿瘤,2016,25(12):957-964.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          Shuzheng Liu, Qiong Chen, Peiliang Quan, Meng Zhang, Shaokai Zhang, Lanwei Guo, Xibin Sun, Chengzeng Wang.  \n          \n        (2016-03-02)\n        Cancer incidence and mortality in Henan province, 2012\n          \n        [J].\n          \n          \n        \n          Chin J Cancer Res, 2016 Jun;28(3):275-85.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      pdf\n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          张萌,李鑫,张韶凯,陈琼,刘曙正,郭兰伟,陆建邦,孙喜斌 .  \n          \n        (2016-01-23)\n        河南省农村胃癌筛查效果分析\n          \n        [J].\n          \n          \n        \n          中华肿瘤杂志,2016,38(01):73-77.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          郭兰伟，刘曙正，张韶凯，陈琼，张萌，全培良，孙喜斌 .  \n          \n        (2015-09-10)\n        中国人群体重指数与食管癌发病风险的Meta分析\n          \n        [J].\n          \n          \n        \n          现代预防医学,2015,42(17):3085-3088.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          郭兰伟,刘曙正,张韶凯,陈琼,张萌,全培良,陆建邦,孙喜斌 .  \n          \n        (2015-07-06)\n        中国人群BMI与肺癌发病风险的Meta分析\n          \n        [J].\n          \n          \n        \n          中华预防医学杂志,2015,49(07):649-653.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          Lanwei Guo, Shuzheng Liu, Shaokai Zhang, Qiong Chen, Meng Zhang, Peiliang Quan, Jianbang Lu, Xibin Sun.  \n          \n        (2015-05-22)\n        C-reactive protein and risk of breast cancer: A systematic review and meta-analysis\n          \n        [J].\n          \n          \n        \n          Sci Rep, 2015 May 22;5:10508.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      pdf\n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          Shao-Kai Zhang, Lan-Wei Guo, Qiong Chen, Meng Zhang, Shu-Zheng Liu, Pei-Liang Quan, Jian-Bang Lu, Xi-Bin Sun.  \n          \n        (2015-05-15)\n        The association between human papillomavirus 16 and esophageal cancer in Chinese population: a meta-analysis\n          \n        [J].\n          \n          \n        \n          BMC Cancer,2015;15:1096.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      pdf\n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          张韶凯，刘曙正，全培良，陈琼，张萌，孙喜斌，王成增 .  \n          \n        (2015-03-18)\n        2011年河南省恶性肿瘤发病和死亡分析\n          \n        [J].\n          \n          \n        \n          河南医学研究,2015,24(01):1-8.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          Shao-Kai Zhang, Rongshou Zheng, Qiong Chen, Siwei Zhang, Xibin Sun, Wanqing Chen.  \n          \n        (2015-02-27)\n        Oral cancer incidence and mortality in China, 2011\n          \n        [J].\n          \n          \n        \n          Chin J Cancer Res, 2015 Feb;27(1):44-51.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      pdf\n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          Shao-Kai Zhang, Lan-Wei Guo, Qiong Chen, Meng Zhang, Shu-Zheng Liu, Pei-Liang Quan, Jian-Bang Lu, Xi-Bin Sun.  \n          \n        (2014-07-07)\n        Prevalence of human papillomavirus 16 in esophageal cancer among the Chinese population: a systematic review and meta-analysis\n          \n        [J].\n          \n          \n        \n          Asian Pac J Cancer Prev, 2014;15(23):10143-9.\n        \n      \n      \n      DOI\n      \n      \n      \n      \n      \n      pdf\n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          张萌,阴蒙蒙,刘阳,刘曙正,陈琼,全培良,陆建邦,孙喜斌 .  \n          \n        (2014-06-05)\n        河南省2010年恶性肿瘤发病分析\n          \n        [J].\n          \n          \n        \n          中国肿瘤,2014,23(06):478-484.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          张建功,刘曙正,陈琼,全培良,陆建邦,孙喜斌 .  \n          \n        (2013-07-06)\n        2009年河南省恶性肿瘤发病与死亡情况分析\n          \n        [J].\n          \n          \n        \n          中华预防医学杂志,2013(07):597-602.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          马臣，姜永晓，刘曙，全培良，陆建邦，陈琼，孙喜斌 .  \n          \n        (2013-03-20)\n        河南省居民2010年至2019年肺癌死亡率预测\n          \n        [J].\n          \n          \n        \n          郑州大学学报(医学版),2013,48(02):220-225.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          刘曙正,张芳,陈琼,全培良,陆建邦,刘志才,李变云,孙喜斌 .  \n          \n        (2012-10-23)\n        1986—2010年林州市食管癌死亡率时间趋势及预测分析\n          \n        [J].\n          \n          \n        \n          中华肿瘤杂志,2012,10:797-800.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n    \n      \n        \n          姜永晓,马臣,全培良,刘曙正,陆建邦,陈琼,孙喜斌 .  \n          \n        (2012-07-25)\n        河南省居民1984—2009年肝癌死亡率趋势分析及预测\n          \n        [J].\n          \n          \n        \n          肿瘤,2012,32(07):522-525.\n        \n      \n      \n      \n      \n      \n      \n      \n\n      \n      \n      \n    \n  \n\n\n无匹配项"
  },
  {
    "objectID": "publications/firstauthor/2016-screening-effect-esophagus.html",
    "href": "publications/firstauthor/2016-screening-effect-esophagus.html",
    "title": "Effectiveness evaluation of organized screening for esophageal cancer: a case-control study in Linzhou city, China",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/firstauthor/2025-1-1-lifetime-cancer-risk.html",
    "href": "publications/firstauthor/2025-1-1-lifetime-cancer-risk.html",
    "title": "Lifetime risk of developing and dying from cancer in Henan Province, China: current status, temporal trends, and disparities",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/firstauthor/2013-cc-chemokines.html",
    "href": "publications/firstauthor/2013-cc-chemokines.html",
    "title": "Single-nucleotide polymorphisms in genes encoding for CC chemokines were not associated with the risk of non-Hodgkin lymphoma",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/firstauthor/2019-childhood-cancer.html",
    "href": "publications/firstauthor/2019-childhood-cancer.html",
    "title": "The cancer incidence and mortality among children and adolescents during the period of 2010-2014 in Henan Province, China",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/firstauthor/2022-10-14-gastric-cancer-incidence/index.html",
    "href": "publications/firstauthor/2022-10-14-gastric-cancer-incidence/index.html",
    "title": "Incidence and mortality of gastric cancer in 2018 and their trends from 2010 to 2018 in Henan Province, China: results from a provincial population-based cancer registry",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/firstauthor/2020-cancer.html",
    "href": "publications/firstauthor/2020-cancer.html",
    "title": "2016年河南省恶性肿瘤的发病与死亡分析",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/firstauthor/2019-vitamins-pattern.html",
    "href": "publications/firstauthor/2019-vitamins-pattern.html",
    "title": "A Vitamin Pattern Diet Is Associated with Decreased Risk of Gestational Diabetes Mellitus in Chinese Women: Results from a Case Control Study in Taiyuan, China",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/firstauthor/2019-annual report.html",
    "href": "publications/firstauthor/2019-annual report.html",
    "title": "2019河南省肿瘤登记年报",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/firstauthor/2020-annual report.html",
    "href": "publications/firstauthor/2020-annual report.html",
    "title": "2020河南省肿瘤登记年报",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/firstauthor/2025-4-6-canregtools-rpackage.html",
    "href": "publications/firstauthor/2025-4-6-canregtools-rpackage.html",
    "title": "Canregtools: 基于R语言的人群肿瘤登记数据分析工具包",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/firstauthor/2018-annual report.html",
    "href": "publications/firstauthor/2018-annual report.html",
    "title": "2018河南省肿瘤登记年报",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/firstauthor/2014-PAH.html",
    "href": "publications/firstauthor/2014-PAH.html",
    "title": "Prenatal Exposure to Polycyclic Aromatic Hydrocarbons and Birth Weight in China",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/firstauthor/2022-06-30-liver.html",
    "href": "publications/firstauthor/2022-06-30-liver.html",
    "title": "河南省2016年肝癌的发病与死亡情况及2010-2016年趋势分析",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/firstauthor/2012-colorectal-cancer.html",
    "href": "publications/firstauthor/2012-colorectal-cancer.html",
    "title": "2003-2007年中国结直肠癌发病与死亡分析",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/firstauthor/2022-08-10-2017-cancer/index.html",
    "href": "publications/firstauthor/2022-08-10-2017-cancer/index.html",
    "title": "2017年河南省恶性肿瘤发病与死亡情况分析",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/firstauthor/2020-cure-fraction.html",
    "href": "publications/firstauthor/2020-cure-fraction.html",
    "title": "The relative survival and cure fraction of gastric cancer estimated through flexible parametric models using data from population-based cancer registration during 2003-2012 in Linzhou, China",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/firstauthor/2020-kidney-cancer.html",
    "href": "publications/firstauthor/2020-kidney-cancer.html",
    "title": "2015年中国肾及泌尿系统其它癌发病死亡情况分析",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "slides/articles/choose-quarto.html",
    "href": "slides/articles/choose-quarto.html",
    "title": "科技写作，我选择使用quarto",
    "section": "",
    "text": "knitr::include_url(\"https://www.chenq.site/slides/2022-12-what-is-quarto/#/title-slide\")\n\n\n\n\n\n\n Back to top"
  },
  {
    "objectID": "slides/canreg/cancer-registration-2023-4-20/index.html",
    "href": "slides/canreg/cancer-registration-2023-4-20/index.html",
    "title": "漯河市肿瘤登记培训",
    "section": "",
    "text": "Back to top"
  },
  {
    "objectID": "slides/2023-5-16-canreg-report/index.html#人群肿瘤登记的目的和意义",
    "href": "slides/2023-5-16-canreg-report/index.html#人群肿瘤登记的目的和意义",
    "title": "R语言促进高效率肿瘤登记报告",
    "section": "人群肿瘤登记的目的和意义",
    "text": "人群肿瘤登记的目的和意义\n\n\n肿瘤登记是系统性、经常性搜集有关肿瘤及肿瘤患者信息的统计制度。\n\n\n\n了解癌症发病、死亡、生存情况\n掌握癌症疾病负担与变化趋势\n了解癌症在不同地区和人群中的分布特征"
  },
  {
    "objectID": "slides/2023-5-16-canreg-report/index.html#人群肿瘤登记的目的和意义-1",
    "href": "slides/2023-5-16-canreg-report/index.html#人群肿瘤登记的目的和意义-1",
    "title": "R语言促进高效率肿瘤登记报告",
    "section": "人群肿瘤登记的目的和意义",
    "text": "人群肿瘤登记的目的和意义\n\n\n肿瘤登记是系统性、经常性收集有关肿瘤及肿瘤患者信息的统计制度。\n\n\n\n为制定癌症防控策略与措施、规划与计划提供科学依据\n为癌症的临床研究提供信息\n为癌症防控效果评价提供数据支持"
  },
  {
    "objectID": "slides/2023-5-16-canreg-report/index.html#河南省肿瘤登记工作进展",
    "href": "slides/2023-5-16-canreg-report/index.html#河南省肿瘤登记工作进展",
    "title": "R语言促进高效率肿瘤登记报告",
    "section": "河南省肿瘤登记工作进展",
    "text": "河南省肿瘤登记工作进展\n\n\n\n\n肿瘤登记工作覆盖130个县区\n达到数据利用标准的登记处达到42个，覆盖全省32%的人口\n连续10年出版《河南省肿瘤登记年报》\n\n\n\n\n\n\n\n河南省肿瘤登记地区覆盖情况"
  },
  {
    "objectID": "slides/2023-5-16-canreg-report/index.html#组织架构",
    "href": "slides/2023-5-16-canreg-report/index.html#组织架构",
    "title": "R语言促进高效率肿瘤登记报告",
    "section": "组织架构",
    "text": "组织架构\n\n\n\n省级登记处\n河南省癌症中心\n\n\n\n\n\n\n职责\n\n\n\n制定全省工作计划、实施方案\n建立和完善肿瘤登记信息系统\n技术指导、人员培训、质量控制和考核评价\n督导检查\n数据分析和报告\n\n\n\n\n\n市级登记处\n市级CDC/肿瘤医院\n\n\n\n\n\n\n职责\n\n\n\n市级技术指导、人员培训\n质量控制\n督导检查\n数据分析和报告\n\n\n\n\n\n县区级登记处\n县区级CDC\n\n\n\n\n\n\n职责\n\n\n\n技术指导、人员培训\n质量控制\n督导检查\n统计分析和报告\n\n\n\n\n\n\n数据来源: 河南省肿瘤登记管理办法（豫卫2015(10号)文件）"
  },
  {
    "objectID": "slides/2023-5-16-canreg-report/index.html#收集数据内容",
    "href": "slides/2023-5-16-canreg-report/index.html#收集数据内容",
    "title": "R语言促进高效率肿瘤登记报告",
    "section": "收集数据内容",
    "text": "收集数据内容\n\n肿瘤登记收集一定人群中所有恶性肿瘤、中枢神经系统良性肿瘤以及原位癌。 \n\n\n\n\n肿瘤收集范围(ICD10)\n\nC00-C97\nD32-D33\nD42-D43\nD45-D47\n原位癌\n\n\n人口数据\n\n以县区为单位收集登记处覆盖人群分年龄、分性别户籍人口数\n\n\n寿命表数据\n\n以县区为单位收集登记处覆盖人群分年龄、分性别全死因死亡数以估计寿命表"
  },
  {
    "objectID": "slides/2023-5-16-canreg-report/index.html#数据项目",
    "href": "slides/2023-5-16-canreg-report/index.html#数据项目",
    "title": "R语言促进高效率肿瘤登记报告",
    "section": "数据项目",
    "text": "数据项目\n\n\n\n肿瘤登记收集的变量包括以下7个部分（图 1）\n\n\n个人识别信息\n人口学信息\n肿瘤信息\n治疗信息\n随访信息\n预后信息\n信息来源\n\n\n\n\n\n\n\n\nclassDiagram\n    class 个人识别信息 {\n    登记处编号\n    身份证号\n    姓名\n    户籍地址\n    常住地址\n}\n    class 人口学信息 {\n    性别\n    年龄\n    出生日期\n    婚姻状态\n    职业\n    民族\n}\n    class 肿瘤信息 {\n    发病日期\n    诊断依据\n    原发部位ICDO3\n    形态学ICDO3\n    行为ICDO3\n    分级ICDO3\n    临床分期/TNM分期\n    多原发状态\n    双边性\n}\n    class 治疗信息 {\n    治疗方法\n}\n    class 随访相关信息 {\n    联系电话\n    联系人\n    联系人电话\n    常住地址\n}\n    class 结局信息 {\n    最后接触日期\n    生存状态\n    死亡日期\n    死亡原因\n    死亡地点\n}\n    class 信息来源 {\n    报告医院\n    住院号/门诊号\n    报告医师\n    报告日期\n}\n\n    个人识别信息 --|&gt; 人口学信息\n    个人识别信息 --|&gt; 肿瘤信息\n    个人识别信息 --|&gt; 治疗信息\n    个人识别信息 --|&gt; 随访相关信息\n    个人识别信息 --|&gt; 结局信息\n    个人识别信息 --|&gt; 信息来源\n\n\n\n\n图 1: 人群肿瘤登记收集数据项目"
  },
  {
    "objectID": "slides/2023-5-16-canreg-report/index.html#数据来源",
    "href": "slides/2023-5-16-canreg-report/index.html#数据来源",
    "title": "R语言促进高效率肿瘤登记报告",
    "section": "数据来源",
    "text": "数据来源\n\n肿瘤登记强调多源上报、数据来源于医院、医保系统、县-乡-村医师网、全死因数据等。（图 2 ）\n\n\n\n\n\n\n\nflowchart TD\n  A[(肿瘤登记数据库)] --&gt; B(医院)\n  A --&gt; B\n  A --&gt; C(县-乡-村三级医师网络)\n  A --&gt; D(医疗保险)\n  A --&gt; E(死因监测)\n  A --&gt; F(殡葬系统)\n  A --&gt; G(公安系统)\n  B --&gt; b1(住院患者数据)\n  B --&gt; b2(门诊患者数据)\n  B --&gt; b3(病案部门)\n  B --&gt; b4(病理诊断部门)\n  D --&gt; d1(新农合)\n  D --&gt; d2(城镇医保)\n  D --&gt; d3(职工医保)\n\n\n\n\n图 2: 肿瘤登记数据来源渠道"
  },
  {
    "objectID": "slides/2023-5-16-canreg-report/index.html#肿瘤分类与编码",
    "href": "slides/2023-5-16-canreg-report/index.html#肿瘤分类与编码",
    "title": "R语言促进高效率肿瘤登记报告",
    "section": "肿瘤分类与编码",
    "text": "肿瘤分类与编码\n\n\n\n\n肿瘤登记采用ICDO3和ICD10双编码系统\n\nICD-O-3：数据收集\n\n原发部位\n形态学\n行为\n分级\n\nICD10 ：数据统计分析\n\n《肿瘤登记年报》采用ICD10进行肿瘤分类（表 1）\n\n\n\n\n\n\n表 1: 常用癌症分类统计表（大类）\n\n\n\n\n\n\n部位\nICD10\n\n\n\n\n口腔和咽 (除外鼻咽癌和喉)\nC00-10,C12-14（除外C10.1）\n\n\n鼻咽癌\nC11\n\n\n食管\nC15\n\n\n胃\nC16\n\n\n结直肠肛门\nC18-21\n\n\n肝脏\nC22\n\n\n胆囊及其他\nC23-C24\n\n\n胰腺\nC25\n\n\n喉\nC32，C10.1\n\n\n气管、支气管、肺\nC33-C34\n\n\n骨\nC40-C41\n\n\n乳房\nC50\n\n\n子宫颈\nC53\n\n\n子宫体及子宫部位不明\nC54-55\n\n\n卵巢\nC56\n\n\n前列腺\nC61\n\n\n睾丸\nC62\n\n\n肾及泌尿系统不明\nC64-66，68\n\n\n膀胱\nC67\n\n\n脑,神经系统\nC70-C72\n\n\n甲状腺\nC73\n\n\n淋巴瘤\nC81-85,88,90,96\n\n\n白血病\nC91-C95\n\n\n其它\nOther（除外以上）\n\n\n所有部位合计\nALL"
  },
  {
    "objectID": "slides/2023-5-16-canreg-report/index.html#质量控制",
    "href": "slides/2023-5-16-canreg-report/index.html#质量控制",
    "title": "R语言促进高效率肿瘤登记报告",
    "section": "质量控制",
    "text": "质量控制\n\n\n\n\n\n\n\n\n质量控制的意义\n\n\n\n使不同地区之间的数据具有可比性\n代表登记处所在地区的癌症人群\n使癌症数据真实有效\n\n\n\n\n\n\n\n\n\n\n\n\nflowchart LR\n  A[质量控制指标] --&gt; B(可比性)\n  A --&gt; C(完整性)\n  A --&gt; D(有效性)\n  A --&gt; E(时效性)\n  B --&gt; b1(发病的定义)\n  B --&gt; b2(多原发判断)\n  B --&gt; b3(分类与编码)\n  B --&gt; b4(死亡证明)\n  C --&gt; c1(死亡发病比M:I)\n  C --&gt; c2(只有死亡医学证明书比例DCO%)\n  C --&gt; c3(组织学确诊比例MV%)\n  C --&gt; c4(不同时间发病率的稳定性)\n  C --&gt; c5(年龄别发病率曲线)\n  D --&gt; d1(组织学确诊比例)\n  D --&gt; d2(只有死亡医学证明书比例DC\\%)\n  D --&gt; d3(部位不明比例UB%)\n  D --&gt; d4(数据内部一致性)\n\n\n\n\n图 3: 肿瘤登记质量控制指标体系\n\n\n\n\n\n\n\n采用IARC/IACR国际质量控制标准"
  },
  {
    "objectID": "slides/2023-5-16-canreg-report/index.html#质量控制-1",
    "href": "slides/2023-5-16-canreg-report/index.html#质量控制-1",
    "title": "R语言促进高效率肿瘤登记报告",
    "section": "质量控制",
    "text": "质量控制\n\n\n肿瘤登记收集的变量或者变量组合之间存在一定的逻辑关系，通过对单个变量或变量组合之间的逻辑关系进行审查，以提高肿瘤登记数据有效性。\n\n\n\n\n\n\n\n\n\n单个项目\n\n\n\n出生日期\n发病日期\n年龄、性别\n发病部位\n形态学\n行为和分级\n\n\n\n\n\n\n\n\n\n\n\n项目组合\n\n\n\n性别/部位\n部位/组织学学\n年龄/部位/组织学\n行为/部位\n行为/组织学\n性别/组织学\n\n\n\n\n\n\n\n\n\n\n\n校验结果\n\n\n\n正确✅\n警告⚠️\n错误❌"
  },
  {
    "objectID": "slides/2023-5-16-canreg-report/index.html#肿瘤登记报告流程",
    "href": "slides/2023-5-16-canreg-report/index.html#肿瘤登记报告流程",
    "title": "R语言促进高效率肿瘤登记报告",
    "section": "肿瘤登记报告流程",
    "text": "肿瘤登记报告流程\n\n\n\n\n\n\n\nflowchart LR\n  A(数据来源单位) --&gt; B(县区级登记处)\n  B --&gt; C(市级登记处)\n  C --&gt; D(省级登记处)\n  D --&gt; E(质量控制)\n  E --&gt; B\n  B --&gt; A\n  E --&gt; C\n  E --&gt; F(综合评估)\n  F --&gt; G(年报撰写及发布)\n\n\n\n\n图 4: 肿瘤登记报告流程\n\n\n\n\n\n\n\n\n主要内容\n\n质量控制报告撰写\n肿瘤登记报告撰写\n\n\n特点\n\n登记处数量多(130个县区)\n县区级专业人员能力不足\n质控报告反馈至市级和县区级"
  },
  {
    "objectID": "slides/2023-5-16-canreg-report/index.html#文学编程和可能重复性报告概念的引入",
    "href": "slides/2023-5-16-canreg-report/index.html#文学编程和可能重复性报告概念的引入",
    "title": "R语言促进高效率肿瘤登记报告",
    "section": "文学编程和可能重复性报告概念的引入",
    "text": "文学编程和可能重复性报告概念的引入\n\n文学编程:强调以自然语言呈现计算逻辑，以文本描述和计算代码相互混合的方式，从计算机代码的执行逻辑过渡到人的思维逻辑。\n\n\n可重复性报告:利用代码把数据分析过程和报告撰写过程串起来，最终生成可重复性的报告。\n\n\n\n基于原始数据更新报告\n报告的批量化生成\n多种格式输出(html、docx)"
  },
  {
    "objectID": "slides/2023-5-16-canreg-report/index.html#markdown",
    "href": "slides/2023-5-16-canreg-report/index.html#markdown",
    "title": "R语言促进高效率肿瘤登记报告",
    "section": "Markdown",
    "text": "Markdown\n\n\n它允许人们使用易读易写的纯文本格式编写文档，然后转换成有效的 XHTML（或者HTML）文档。\n\n\n\n轻量级标记语言\n轻量化、易读易写、对图片、表格、数学公式支持\nGithub、Reddit、Diaspora、Stack Exchange、OpenStreetMap、SourceForge、简书等，甚至还能被使用来撰写电子书"
  },
  {
    "objectID": "slides/2023-5-16-canreg-report/index.html#r-markdown",
    "href": "slides/2023-5-16-canreg-report/index.html#r-markdown",
    "title": "R语言促进高效率肿瘤登记报告",
    "section": "R Markdown",
    "text": "R Markdown\n\n\nR Markdown把报告文本和统计计算代码整合起来，从而实现一次输入多种格式输出(HTML、PDF、WORD等)。\n\n\n\nYAML 元数据设置\n代码块（R、Python等）\nMarkdown文本"
  },
  {
    "objectID": "slides/2023-5-16-canreg-report/index.html#r-markdown-1",
    "href": "slides/2023-5-16-canreg-report/index.html#r-markdown-1",
    "title": "R语言促进高效率肿瘤登记报告",
    "section": "R Markdown",
    "text": "R Markdown\nYAML元数据\n---\ntitle: \"河南省恶性肿瘤2017-2019年5年相对生存率\"\nauthors:\n  - name: 陈琼\n    affiliations:\n      - ref: zlyy\n  - name: 张明霞\n    affiliations:\n      - ref: zlyy\n      - ref: lzu\n  - name: 郭兰伟\n    affiliations:\n      - ref: zlyy\n  - name: 郑黎阳\n    affiliations:\n      - ref: zlyy\n  - name: 刘纯亚\n    affiliations:\n      - ref: zlyy\n  - name: 王一先\n    affiliations:\n      - ref: zlyy\n  - name: 刘茵\n    affiliations:\n      - ref: zlyy\n  - name: 王红\n    affiliations:\n      - ref: zlyy\n  - name: 徐慧芳\n    affiliations:\n      - ref: zlyy\n  - name: 康瑞华\n    affiliations:\n      - ref: zlyy\n  - name: 王潇杨\n    affiliations:\n      - ref: zlyy\n  - name: 刘曙正\n    affiliations:\n      - ref: zlyy\n  - name: 张韶凯\n    affiliations:\n      - ref: zlyy\n    corresponding: true\n    email: shaokaizhang@126.com\naffiliations:\n  - id: zlyy\n    name: 郑州大学附属肿瘤医院(河南省肿瘤医院)，疾病预防控制科；河南省肿瘤防控工程研究中心；河南省肿瘤预防国际联合实验室，郑州，450008。\n    city: 郑州\n    state: 河南省\n  - id: lzu\n    name: 兰州大学公共卫生学院\n    city: 兰州\n    state: 甘肃省\nfilters:\n  - authors-block\n\n#prefer-html: true\nexecute: \n  echo: false\n  warning: false\n  message: false\n  tbl-cap-location: top\n#lang: zh\ncrossref:\n  fig-title: 图     \n  tbl-title: 表     \n  title-delim: \"\"\n  tbl-prefix: 表\n\nformat: \n  docx: \n    number-sections: true\n    number-depth: 3\n    reference-doc: chinese.docx\n\nbibliography: survival17-19.bib\ncsl: \"zhonghua.csl\"\neditor_options: \n  chunk_output_type: console\n---"
  },
  {
    "objectID": "slides/2023-5-16-canreg-report/index.html#r-markdown-2",
    "href": "slides/2023-5-16-canreg-report/index.html#r-markdown-2",
    "title": "R语言促进高效率肿瘤登记报告",
    "section": "R Markdown",
    "text": "R Markdown\n代码块\n\n\n\n\n\n表 2: 接受不同药物治疗人群基本特征分析\n\n\n```{r}\n#| label: tbl-table1\n#| tbl-cap-location: top\n#| tbl-cap: \"接受不同药物治疗人群基本特征分析\"\n#| warning: false\n#| eval: false\n#| message: false\n\nlibrary(gtsummary)\n\ntrial %&gt;% select(age, grade, response, trt) %&gt;% \n   tbl_summary(by=trt) %&gt;% \n  add_p() %&gt;% \n  add_overall() %&gt;% \n  add_n() %&gt;% \n  bold_labels() \n```"
  },
  {
    "objectID": "slides/2023-5-16-canreg-report/index.html#r-markdown-3",
    "href": "slides/2023-5-16-canreg-report/index.html#r-markdown-3",
    "title": "R语言促进高效率肿瘤登记报告",
    "section": "R Markdown",
    "text": "R Markdown\nMarkdown文本\n**通讯作者**：张韶凯，Email: shaokaizhang\\@126.com\n\n【**摘要**】\n\n**目的** 利用河南省人群肿瘤登记数据分析河南省人群癌症5年相对生存率。\n\n**方法** 提取河南省肿瘤登记数据库中25个肿瘤登记处诊断日期在2014年1月1日至2019年12月31日之间以及2014年之前诊断但是2019年12月31日之前仍然存活的癌症病例（ICD10编码范围：C00-C97、D32-D33、D42-D43和D45-D47），随访截止日期设定为2019年12月31日，利用现时生存分析法和R语言\"periodR\"包的EdererII法计算癌症的5年相对生存率。\n\n**结果** 2017-2019年期间，河南省0-14岁儿童癌症的5年相对生存率为62.5%，15岁及以上成人癌症5年相对生存率为44.2%，年龄标化后为40.7%。总体癌症5年生存率呈现女性高于男性（47.1% VS 34.4%, *P*\\&lt;0.01）、城市地区高于农村地区（46.4% VS 39.2%, *P*\\&lt;0.01）的特点。在不同发病部位的癌症患者中，甲状腺癌、睾丸癌及乳腺癌具有最高的5年相对生存率，分别为86.4%、74.4%和73.1%；肝癌、胰腺癌、肺癌具有最低的5年相对生存率，分别为19.1%、20.5%和24.3%。\n\n**结论** 河南省儿童及成人癌症患者总体5年相对生存率仍然较低，应根据河南省癌症流行情况及不同癌症的生存率数据调整和优化癌症防控策略和措施。\n\n【**关键词**】 癌症；癌症防控；现时生存分析；5年相对生存率；河南省\n\nThe 5-year relative survival among cancer patients diagnosed during 2017-2019 in Henan Province, China {.unnumbered}\n\nQiong Chen$^1$, Mingxia Zhang$^12$, Lanwei Guo$^1$, Liyang Zheng$^1$, Yixian Wang$^1$, Yin Liu$^1$, Hong Wang$^1$, Huifang Xu$^1$, Ruihua Kang$^1$, Xiaoyang Wang$^1$, Shuzheng Liu$^1$, Shaokai Zhang$^1$\n\n$^1$ The Affiliated Cancer Hospital of Zhengzhou University & Henan Cancer Hospital, Zhengzhou 450008, China。 $^2$ School of Public Health, Lanzhou University.\n\n**Corresponding** to：Shaokai Zhang，Email:shaokaizhang\\@126.com\n\n**Abstract** \n\n**Objective** To analyze the 5-year relative survival rate of cancer in the population of Henan Province using cancer registration data. \n\n**Methods** Cancer cases were extracted from the cancer registration database of Henan Province with the diagnosis date between January 1, 2014 and December 31, 2019, and those diagnosed before 2014 but still alive by December 31, 2019 were included. The follow-up date was set as December 31, 2019. The 5-year relative survival rate of cancer was calculated using the period survival analysis method and the Ederer II method in the R package \"periodR\". \n\n**Results** The 5-year cancer relative survival rate in children aged 0-14 in Henan Province was 62.5% during 2017-2019, while that in adults aged 15 and above was 44.2%, age-standardized to 40.7%. The overall cancer 5-year survival rate was higher in females than in males (47.1% vs 34.4%, *P*\\&lt;0.01) and in urban areas than in rural areas (46.4% vs 39.2%, *P*\\&lt;0.01). Among patients with different cancer sites, thyroid cancer, testicular cancer, and breast cancer had the highest 5-year relative survival rates, which were 86.4%, 74.4%, and 73.1%, respectively. Liver cancer, pancreatic cancer, and lung cancer had the lowest 5-year relative survival rates, which were 19.1%, 20.5%, and 24.3%, respectively. \n\n**Conclusion** The overall 5-year relative survival rate of cancer in children and adults in Henan Province is still low, and cancer prevention and control strategies and measures should be adjusted and optimized according to the cancer incidence and survival rate data in Henan Province.\n\n**Keywords**: Cancer; cancer control; period survival; 5-year relative survival; Henan"
  },
  {
    "objectID": "slides/2023-5-16-canreg-report/index.html#r-markdown-4",
    "href": "slides/2023-5-16-canreg-report/index.html#r-markdown-4",
    "title": "R语言促进高效率肿瘤登记报告",
    "section": "R Markdown",
    "text": "R Markdown\n\nR 通过一系列包实现了文学编程的主要功能。\n\n\n\n\nrmarkdown\nknitr\nbookdown\nblogdown\nthesisdown\nposterdown\ndistill\nxaringan\ntinytex"
  },
  {
    "objectID": "slides/2023-5-16-canreg-report/index.html#pandoc",
    "href": "slides/2023-5-16-canreg-report/index.html#pandoc",
    "title": "R语言促进高效率肿瘤登记报告",
    "section": "Pandoc",
    "text": "Pandoc\n\nPandoc是使用Haskell语言编写的一款跨平台、自由开源及命令行界面的标记语言转换工具，可实现不同标记语言间的格式转换。\n\n\n\nHTML格式：包括XHTML，HTML5及HTML slide\n文字处理软件格式：包括docx、odt、OpenDocument XML\n电子书格式：包括EPUB（第2版及第3版）、FictionBook2\n技术文档格式：包括DocBook、GNU TexInfo、Groff manpages、Haddock\n页面布局格式：InDesign ICML\n大纲处理标记语言格式：OPML\nTeX格式：包括LaTeX、ConTeXt、LaTeX Beamer\nPDF格式：需要LaTeX支持\n轻量级标记语言格式：包括Markdown、reStructuredText、textile、Org-Mode、MediaWiki标记语言、AsciiDoc\n自定义格式：可使用lua自定义转换规则"
  },
  {
    "objectID": "slides/2023-5-16-canreg-report/index.html#quarto-下一代-r-markdown",
    "href": "slides/2023-5-16-canreg-report/index.html#quarto-下一代-r-markdown",
    "title": "R语言促进高效率肿瘤登记报告",
    "section": "Quarto 下一代 R Markdown",
    "text": "Quarto 下一代 R Markdown\n\n\nQuarto® is an open-source scientific and technical publishing system built on Pandoc."
  },
  {
    "objectID": "slides/2023-5-16-canreg-report/index.html#quarto特点",
    "href": "slides/2023-5-16-canreg-report/index.html#quarto特点",
    "title": "R语言促进高效率肿瘤登记报告",
    "section": "Quarto特点",
    "text": "Quarto特点\n\n它可以独立于R、Rstudio或者其他软件如python等编程或统计软件，支持在Macos、Linux、Windows系统运行；\nQuarto继承了一些Rmd包的特点、如blogdown、bookdown、xaringan等；\n在生成website、blog、book、slides等各种格式中有了统一的语法，缩小了使用者的学习成本；\n支持的语言包括R、Python、Julia和Observable；\nquarto有了新的文档格式，文档扩展名为“.qmd”, 代码块选项的形式有了变化。\n支持科技写作的特征，如公式、引用、交叉引用、图、表等。"
  },
  {
    "objectID": "slides/2023-5-16-canreg-report/index.html#为什么要使用-quarto-r-markdown",
    "href": "slides/2023-5-16-canreg-report/index.html#为什么要使用-quarto-r-markdown",
    "title": "R语言促进高效率肿瘤登记报告",
    "section": "为什么要使用 Quarto / R Markdown ?",
    "text": "为什么要使用 Quarto / R Markdown ?\n\n\n\n\n\n\nflowchart LR\n  A[(数据清洗)] --&gt; B(统计分析)\n  B --&gt; C{结果初步评估}\n  C --&gt; B\n  C --&gt; D(统计制表)\n  D --&gt; E[报告撰写]\n  E -- 发现不合理结果 --&gt; B\n  E --&gt; F[出版流程]\n  F --&gt; G[专家意见]\n  G -- 建议重新统计 --&gt; B\n  G -- 不需要重新统计 --&gt; E\n  G --&gt; H[正式出版]\n\n\n\n\n图 5: 报告撰写流程\n\n\n\n\n\n\n\n\n\n\n\n\n\n可能存在的情形\n\n\n\n统计分析(SAS、R、SPSS、EXCEL)\n数据可视化展现(R、SAS、EXCEL)\n撰写报告(WORD、WPS、其它文字处理软件)\n图表交叉引用\n参考文献的引用(Zotero、Endnote、Mendley)\n\n\n\n\n\n\n\n\n\n\n\n存在的问题\n\n\n\n统计过程与报告撰写的割裂\n存在重复性工作的可能"
  },
  {
    "objectID": "slides/2023-5-16-canreg-report/index.html#应用场景",
    "href": "slides/2023-5-16-canreg-report/index.html#应用场景",
    "title": "R语言促进高效率肿瘤登记报告",
    "section": "应用场景",
    "text": "应用场景\n\n\n\n\n科技论文撰写\n书籍编写\n幻灯片制作\n博客\n网站"
  },
  {
    "objectID": "slides/2023-5-16-canreg-report/index.html#应用场景-1",
    "href": "slides/2023-5-16-canreg-report/index.html#应用场景-1",
    "title": "R语言促进高效率肿瘤登记报告",
    "section": "应用场景",
    "text": "应用场景\n\n\n\n\n科技论文撰写\n书籍编写\n幻灯片制作\n博客\n网站"
  },
  {
    "objectID": "slides/2023-5-16-canreg-report/index.html#应用场景-2",
    "href": "slides/2023-5-16-canreg-report/index.html#应用场景-2",
    "title": "R语言促进高效率肿瘤登记报告",
    "section": "应用场景",
    "text": "应用场景\n\n\n\n\n科技论文撰写\n书籍编写\n幻灯片制作\n博客\n网站"
  },
  {
    "objectID": "slides/2023-5-16-canreg-report/index.html#应用场景-3",
    "href": "slides/2023-5-16-canreg-report/index.html#应用场景-3",
    "title": "R语言促进高效率肿瘤登记报告",
    "section": "应用场景",
    "text": "应用场景\n\n\n\n\n科技论文撰写\n书籍编写\n幻灯片制作\n博客\n网站"
  },
  {
    "objectID": "slides/2023-5-16-canreg-report/index.html#cancer-incidence-in-five-continents-iarc",
    "href": "slides/2023-5-16-canreg-report/index.html#cancer-incidence-in-five-continents-iarc",
    "title": "R语言促进高效率肿瘤登记报告",
    "section": "Cancer Incidence in Five Continents-IARC",
    "text": "Cancer Incidence in Five Continents-IARC\nYAML元数据设置\n--- \ntitle: \"河南省《五大洲发病率第12卷》数据上报审核程序\"\nsubtitle: \"登记处：\"\nauthor: \n- \"2013-2017年\"\n- \"Qiong Chen @ Henan Cancer Center/Henan Cancer Hospital\"\ndate: \"\"\noutput:\n  prettydoc::html_pretty:\n    theme: cayman\n    number_section: TRUE\n    highlight: github\nvignette: &gt;\n  %\\VignetteIndexEntry{Vignette Title}\n  %\\VignetteEncoding{UTF-8}\n  %\\VignetteEngine{knitr::rmarkdown}\neditor_options: \n  chunk_output_type: console\n---"
  },
  {
    "objectID": "slides/2023-5-16-canreg-report/index.html#cancer-incidence-in-five-continents-iarc-1",
    "href": "slides/2023-5-16-canreg-report/index.html#cancer-incidence-in-five-continents-iarc-1",
    "title": "R语言促进高效率肿瘤登记报告",
    "section": "Cancer Incidence in Five Continents-IARC",
    "text": "Cancer Incidence in Five Continents-IARC\n代码块\n\nknitr::opts_chunk$set(\n    echo = FALSE,\n    warning = FALSE,\n    fig.width=10,\n    fig.height=8\n)\nlibrary(dplyr)\nlibrary(knitr)\nlibrary(kableExtra)\nlibrary(reshape2)\nlibrary(ggplot2)\nlibrary(tidyr)\n\nperiod&lt;-20132017\n\n#率的统计学检验\nreport &lt;- report%&gt;%\n  group_by(year,sex,code)%&gt;%\n  mutate(y_ics2000=sum(ics2000)/n(),\n         a_ics2000=sum((ics2000-sum(ics2000)/n())^2/var_ics2000)/(n()-1),\n         a_ics2000=ifelse(a_ics2000&lt;=1,1,a_ics2000),\n         z_ics2000=(ics2000-sum(ics2000)/n())^2/(a_ics2000*var_ics2000),\n        \n         y_dcs2000=sum(dcs2000)/n(),\n         a_dcs2000=sum((dcs2000-sum(dcs2000)/n())^2/var_dcs2000)/(n()-1),\n         a_dcs2000=ifelse(a_dcs2000&lt;=1,1,a_dcs2000),\n         z_dcs2000=(dcs2000-sum(dcs2000)/n())^2/(a_dcs2000*var_dcs2000),\n         \n         y_iws85=sum(iws85)/n(),\n         a_iws85=sum((iws85-sum(iws85)/n())^2/var_iws85)/(n()-1),\n         a_iws85=ifelse(a_iws85&lt;=1,1,a_iws85),\n         z_iws85=(iws85-sum(iws85)/n())^2/(a_iws85*var_iws85),\n         \n         y_dws85=sum(dws85)/n(),\n         a_dws85=sum((dws85-sum(dws85)/n())^2/var_dws85)/(n()-1),\n         a_dws85=ifelse(a_dws85&lt;=1,1,a_dws85),\n         z_dws85=(dws85-sum(dws85)/n())^2/(a_dws85*var_dws85),\n         \n         mvn=b5+b6+b7,\n         p1=(b5+b6+b7)/fhj,\n         p=sum(mvn)/sum(fhj),\n         a_mv=sum((mvn-p*fhj)^2/(fhj*p1*(1-p1)))/(n()-1),\n         z_mv=(mvn-p*fhj)^2/(a_mv*p1*(1-p1)*fhj),\n        \n         a_mi=sum(shj)/sum(fhj),\n         aa_mi=sum((shj-a_mi*fhj)^2/((shj+fhj)*a_mi))/(n()-1),\n         z_mi=(shj-a_mi*fhj)^2/(aa_mi*(shj+fhj)*a_mi),\n         \n\ndiff2_ics2000=ifelse(z_ics2000&gt;3.84 & ics2000/y_ics2000&gt;1, paste0(\"&gt;\",\"(\",round(ics2000/y_ics2000,1),\")\"),\n              ifelse(z_ics2000&gt;3.84 & ics2000/y_ics2000&lt;1, paste0(\"&lt;\",\"(\",round(ics2000/y_ics2000,1),\")\"),\"\")),\ndiff2_dcs2000=ifelse(z_dcs2000&gt;3.84 & dcs2000/y_dcs2000&gt;1, paste0(\"&gt;\",\"(\",round(dcs2000/y_dcs2000,1),\")\"),\n              ifelse(z_dcs2000&gt;3.84 & dcs2000/y_dcs2000&lt;1, paste0(\"&lt;\",\"(\",round(dcs2000/y_dcs2000,1),\")\"),\"\")),\ndiff2_iws85=ifelse(z_iws85&gt;3.84 & iws85/y_iws85&gt;1, paste0(\"&gt;\",\"(\",round(iws85/y_iws85,1),\")\"),\n            ifelse(z_iws85&gt;3.84 & iws85/y_iws85&lt;1, paste0(\"&lt;\",\"(\",round(iws85/y_iws85,1),\")\"),\"\")),\ndiff2_dws85=ifelse(z_dws85&gt;3.84 & dws85/y_dws85&gt;1, paste0(\"&gt;\",\"(\",round(dws85/y_dws85,1),\")\"),\n            ifelse(z_dws85&gt;3.84 & dws85/y_dws85&lt;1, paste0(\"&lt;\",\"(\",round(dws85/y_dws85,1),\")\"),\"\")),\n         \n         diff_mi=ifelse(z_mi&gt;3.84 & mi/a_mi&gt;1,paste0(\"&gt;\",\"(\",round(mi/a_mi,1),\")\"),\n                        ifelse(z_mi&gt;3.84 & mi/a_mi&lt;1,paste0(\"&lt;\",\"(\",round(mi/a_mi,1),\")\"),\"\")),\n         diff_mv=ifelse(z_mv&gt;3.84 & p1/p&gt;1,paste0(\"&gt;\",\"(\",round(p1/p,1),\")\"),\n                        ifelse(z_mv&gt;3.84 & p1/p&lt;1,paste0(\"&lt;\",\"(\",round(p1/p,1),\")\"),\"\"))\n         \n         )%&gt;%\n  ungroup()%&gt;%\n  select(-a_ics2000,-z_ics2000,-a_dcs2000,-z_dcs2000,-y_iws85,-a_iws85,-z_iws85,-y_dws85,-a_dws85,-z_dws85,-mvn,-a_mv,-z_mv,-aa_mi,-z_mi)\n\n\n\nquality &lt;- haven::read_sas(\"Y:/CanReg/statistic/code/create_report/codedata/quality.sas7bdat\")\nquality &lt;- quality %&gt;% mutate(city=ifelse(city==0,2,1),city=as.character(city))\nsite &lt;- unique(registry[registry$name==state,c(\"areacode\")]$areacode)\n\n#levels &lt;- c(110,104,103,106,112,105,113,120,115,116,119,122)\n#labels &lt;- c(\"肺\",\"胃\",\"食管\",\"肝\",\"乳房\",\"结直肠\",\"宫颈\",\"甲状腺\",\"卵巢\",\"前列腺\",\"脑\",\"白血病\")\n\nlevels=c(122,121,120,119,113,112,105,103,106,104,110,62)\nlabels=c(\"白血病\",\"淋巴瘤\",\"甲状腺\",\"脑\",\"宫颈\",\"乳房\",\"结直肠\",\"食管\",\"肝\",\"胃\",\"肺\",\"所有部位\")\n\n\nyears&lt;-report[report$areacode==site&!(report$year%in%c(\"20132017\",\"20182022\")),c(\"year\")]$year\nmax&lt;-as.numeric(max(years))\nmin&lt;-as.numeric(min(years))\ncaption2&lt;-paste0(\"图中&gt;(O/E)或&lt;(O/E)表示登记处指标与同期河南省各登记处的平均值相比具有统计学意义\\n(O/E)表示登记处指标与平均值指标的比值\")\n\n\npop &lt;- report%&gt;%filter(areacode==site,sex==\"合计\",code==62,year==\"2017\")%&gt;%select(rhj)\npop &lt;-pop$rhj\n\nmv &lt;- report%&gt;%filter(areacode==site,sex==\"合计\",code==62,year==\"20132017\")%&gt;%select(mv)\nmv &lt;-mv$mv\n\nmi &lt;- report%&gt;%filter(areacode==site,sex==\"合计\",code==62,year==\"20132017\")%&gt;%select(mi)\nmi &lt;-mi$mi\n\ncr_color_block &lt;- function() {\n  theme_classic()+\n  theme(\n    legend.title= element_blank(),\n    legend.position= \"top\",\n    strip.text= element_text(size=10,face=\"bold.italic\"),\n    strip.background= element_rect(color=\"white\",size=0),\n    axis.line= element_blank(),\n    axis.ticks= element_blank(),\n    axis.title= element_blank(),\n    axis.text= element_text(size=11,face=\"bold.italic\"),\n    axis.text.x= element_text(size=11,face=\"bold.italic\",angle = 90),\n    plot.title= element_text(face=\"bold\", size=14, hjust = 0.5),\n    plot.subtitle = element_text(face=\"bold\",size=10,hjust=0.5),\n    plot.caption = element_text(size=8)\n  )\n}\n\n\ncr_grid &lt;- function() {\n  theme_light()+\n  theme(\n    legend.title= element_blank(),\n    legend.position= \"bottom\",\n    strip.text= element_text(size=10,face=\"bold.italic\"),\n    strip.background= element_rect(color=\"white\",size=0),\n    axis.line.y= element_blank(),\n    axis.ticks.y= element_blank(),\n    axis.title= element_blank(),\n    axis.text= element_text(size=9,face=\"bold.italic\"),\n    plot.title= element_text(face=\"bold\", size=14, hjust = 0.5),\n    plot.subtitle=element_text(face=\"bold.italic\",size=12,hjust=0.5),\n    # add border 1)\n    panel.border = element_rect(colour = \"blue\", fill = NA, linetype = 2),\n    # color background 2)\n    panel.background = element_rect(fill = \"aliceblue\"),\n    # modify grid 3)\n    panel.grid.major.x = element_line(colour = \"steelblue\", linetype = 3, size = 0.5),\n    panel.grid.minor.x = element_blank(),\n    panel.grid.major.y =  element_line(colour = \"steelblue\", linetype = 3, size = 0.5),\n    panel.grid.minor.y = element_blank()\n  )\n}"
  },
  {
    "objectID": "slides/2023-5-16-canreg-report/index.html#cancer-incidence-in-five-continents-iarc-2",
    "href": "slides/2023-5-16-canreg-report/index.html#cancer-incidence-in-five-continents-iarc-2",
    "title": "R语言促进高效率肿瘤登记报告",
    "section": "Cancer Incidence in Five Continents-IARC",
    "text": "Cancer Incidence in Five Continents-IARC\n代码块\n\nfor (i in min:max) {\n report %&gt;%\n  filter(areacode==site, code==62, !(sex==\"合计\"), year==i)%&gt;%\n  select(year,sex,r0:r85)%&gt;%\n  gather(\"agegrp\",\"rks\",-year,-sex)%&gt;%\n  mutate(agegrp=as.numeric(gsub(\"[^0-9]\", \"\", agegrp)),\n         rks=ifelse(sex==\"男性\",-rks,rks),\n         agegrp=factor(agegrp,labels = c(\"0\",\"1-4\",\"5-9\",\"10-14\",\"15-19\",\"20-24\",\"25-29\",\"30-34\",\"35-39\",\"40-44\",\"45-49\",\"50-54\",\"55-59\",\"60-64\",\"65-69\",\"70-74\",\"75-79\",\"80-84\",\"85+\")))%&gt;%\n  group_by(sex)%&gt;%\n  mutate(rks=round(rks/sum(rks),2),\n         rks=ifelse(sex==\"男性\",-rks,rks))%&gt;%\n  ggplot(aes(x=factor(agegrp),y=rks,fill=sex)) +\n  geom_bar(stat = \"identity\",position = \"identity\",color=\"black\",size=0.25)+\n  coord_flip()+\n  theme_classic()+\n  xlab(\"\")+\n  ylab(\"\")+\n  scale_y_continuous(limits = c(-0.12,0.12),breaks=seq(-0.12,0.12,0.02),labels = function(x) paste0(abs(x) * 100, '%'))+\n  labs(title=\"历年人口金字塔变化情况\",subtitle=paste(i))+\n  theme(legend.position = c(0.1,0.9),\n        legend.title = element_blank(),\n        strip.text = element_text(size=10, face=\"bold.italic\"),\n        strip.background = element_rect(color=\"white\", size=0),\n        axis.text=element_text(size=10),\n        axis.title=element_text(size=12, face=\"bold\"),\n        plot.title = element_text(face=\"bold\", size=14, hjust = 0.5),\n        plot.subtitle=element_text(face=\"bold\",size=13,hjust=0.8,colour=\"tomato\"))-&gt;p\n  plot(p)\n}"
  },
  {
    "objectID": "slides/2023-5-16-canreg-report/index.html#cancer-incidence-in-five-continents-iarc-3",
    "href": "slides/2023-5-16-canreg-report/index.html#cancer-incidence-in-five-continents-iarc-3",
    "title": "R语言促进高效率肿瘤登记报告",
    "section": "Cancer Incidence in Five Continents-IARC",
    "text": "Cancer Incidence in Five Continents-IARC\nMarkdown文本\n# 基本情况介绍\n\n肿瘤登记处拟上报至年肿瘤登记数据至五大洲发病率第12卷。\n\n河南省肿瘤登记处按照《五大洲发病率》收录数据审核标准对河南省各登记处拟上报年份范围的数据质量进行了图形化展示，各登记处可根据审核结果完善核实本登记处数据！\n\n&gt;本结果分如下几个部分：\n\n&gt;1. 基本情况介绍 \n&gt;1. 人口数据审核\n&gt;1. 总体癌症发病死亡情况\n&gt;1. 主要部位癌症发病死亡情况\n&gt;1. 年龄别率\n&gt;1. 儿童肿瘤发病率/死亡率\n&gt;1. 主要质量控制指标情况(登记癌种数、MV%、M:I、DCO%)\n\n# 人口数据审核\n\n&gt;人口数据质量对于肿瘤登记数据质量至关重要，本程序对于人口数据的审核从**人口总数**、**人口性别比例**、以&gt;及**人口金字塔**等三个方面进行。\n\n## 人口总数变化情况"
  },
  {
    "objectID": "slides/2023-5-16-canreg-report/index.html#cancer-incidence-in-five-continents-iarc-4",
    "href": "slides/2023-5-16-canreg-report/index.html#cancer-incidence-in-five-continents-iarc-4",
    "title": "R语言促进高效率肿瘤登记报告",
    "section": "Cancer Incidence in Five Continents-IARC",
    "text": "Cancer Incidence in Five Continents-IARC"
  },
  {
    "objectID": "slides/2023-5-16-canreg-report/index.html#cancer-incidence-in-five-continents-iarc-5",
    "href": "slides/2023-5-16-canreg-report/index.html#cancer-incidence-in-five-continents-iarc-5",
    "title": "R语言促进高效率肿瘤登记报告",
    "section": "Cancer Incidence in Five Continents-IARC",
    "text": "Cancer Incidence in Five Continents-IARC\n报告输出的批量化\n\n###五大洲数据审核程序#\nlibrary(dplyr)\nlibrary(RODBC)\nstate.name&lt;-c(\"开封市祥符区\",\"洛阳市城区\",\"孟津县\",\"新安县\",\"栾川县\",\"嵩县\",\"汝阳县\",\n              \"宜阳县\",\"偃师市\",\"鲁山县\",\"林州市\",\"鹤壁市城区\",\"辉县市\",\"濮阳市华龙区\",\n              \"濮阳县\",\"漯河市郾城区\",\"漯河市召陵区\",\"漯河市源汇区\",\"三门峡市湖滨区\",\"方城县\",\n              \"内乡县\",\"睢县\",\"虞城县\",\"罗山县\",\"沈丘县\",\"郸城县\",\"西平县\",\"济源市\")\n\ndb&lt;-file.path(\"../create_report/Codedata/code.mdb\") \nchannel&lt;-odbcConnectAccess2007(db)\ndata&lt;-sqlFetch(channel,\"registry\")\ndata1&lt;-data%&gt;%filter(!(is.na(CI512)))\n\nreport&lt;-haven::read_sas(\"../create_report/tmpdata/report.sas7bdat\")\npro&lt;-report%&gt;%filter(name %in% c(\"全省\"))\nreport&lt;-report%&gt;%filter((name %in% state.name))\nregistry&lt;- report%&gt;%\n  select(areacode,name)%&gt;%\n  filter(!(substr(areacode,1,1)==\"9\"))%&gt;%\n  distinct(.keep_all = TRUE)\n\nfor (state in state.name) {\n  areacode&lt;-registry[registry$name==state,c(\"areacode\")]$areacode\n  dir.create(paste0(\"./Output/CI5check/\",areacode,state))\n  rmarkdown::render(\n    input = './Rmd_template/CI5check.Rmd',\n    output_file = 'index.html',\n    output_dir = paste0(\"./Output/CI5check/\",areacode,state)\n  )\n}"
  },
  {
    "objectID": "slides/2023-5-16-canreg-report/index.html#cancer-incidence-in-five-continents-iarc-6",
    "href": "slides/2023-5-16-canreg-report/index.html#cancer-incidence-in-five-continents-iarc-6",
    "title": "R语言促进高效率肿瘤登记报告",
    "section": "Cancer Incidence in Five Continents-IARC",
    "text": "Cancer Incidence in Five Continents-IARC\n报告输出的批量化"
  },
  {
    "objectID": "slides/2023-5-16-canreg-report/index.html#基于bookdown撰写肿瘤登记年报",
    "href": "slides/2023-5-16-canreg-report/index.html#基于bookdown撰写肿瘤登记年报",
    "title": "R语言促进高效率肿瘤登记报告",
    "section": "基于bookdown撰写《肿瘤登记年报》",
    "text": "基于bookdown撰写《肿瘤登记年报》\n_bookdown.yml\n\nbook_filename: bookdown\nclean: [packages.bib, bookdown.bbl]\ndelete_merged_file: true\nnew_session: true\nlanguage:\n  label:\n    fig: \"图 \"\n    tab: \"表 \"\n  ui:\n    edit: \"编辑\"\n    chapter_name: [\"第 \", \" 章\"]"
  },
  {
    "objectID": "slides/2023-5-16-canreg-report/index.html#基于bookdown撰写肿瘤登记年报-1",
    "href": "slides/2023-5-16-canreg-report/index.html#基于bookdown撰写肿瘤登记年报-1",
    "title": "R语言促进高效率肿瘤登记报告",
    "section": "基于bookdown撰写《肿瘤登记年报》",
    "text": "基于bookdown撰写《肿瘤登记年报》\n_output.yml\n\nbookdown::gitbook:\n  css: css/style.css\n  config:\n    toc:\n      collapse: none\n      before: |\n        &lt;li&gt;&lt;a href=\"./\"&gt;2021河南省肿瘤登记年报&lt;/a&gt;&lt;/li&gt;\n      after: |\n        &lt;li&gt;&lt;a href=\"https://chenq.site\" target=\"blank\"&gt;Qiong Chen&lt;/a&gt;&lt;/li&gt;\n    search: yes\n    sharing:\n      github: yes\n      weibo: yes\nbookdown::markdown_document2:\n  base_format: officedown::rdocx_document\n  lists:\n    ol.style: Default ol\n    ul.style: Default ul\n  tables:\n    conditional:\n      first_row: true\n      first_column: true\n      last_row: false\n      last_column: false\n      no_hband: false\n      no_vband: true"
  },
  {
    "objectID": "slides/2023-5-16-canreg-report/index.html#基于bookdown撰写肿瘤登记年报-2",
    "href": "slides/2023-5-16-canreg-report/index.html#基于bookdown撰写肿瘤登记年报-2",
    "title": "R语言促进高效率肿瘤登记报告",
    "section": "基于bookdown撰写《肿瘤登记年报》",
    "text": "基于bookdown撰写《肿瘤登记年报》\nyaml元数据\n--- \ntitle: \"2022河南省肿瘤登记年报\"\nauthor: \"主编 张建功 张韶凯\"\ndate: 2022-4-1\noutput:\n  html_document:\n    df_print: paged\n  bookdown::word_document2: \n    toc: yes\n    reference_docx: \"./data/format.docx\"\n  pdf_document: default\nalways_allow_html: yes\nbibliography:\n- book.bib\n- packages.bib\ndescription: 河南省肿瘤登记年报\ndocumentclass: ctexbook\ncolorlinks: yes\nsite: bookdown::bookdown_site\nbiblio-style: apalike\n---"
  },
  {
    "objectID": "slides/2023-5-16-canreg-report/index.html#基于bookdown撰写肿瘤登记年报-3",
    "href": "slides/2023-5-16-canreg-report/index.html#基于bookdown撰写肿瘤登记年报-3",
    "title": "R语言促进高效率肿瘤登记报告",
    "section": "基于bookdown撰写《肿瘤登记年报》",
    "text": "基于bookdown撰写《肿瘤登记年报》\n报告文本撰写\n\n\n\nindex.Rmd\n01summary.Rmd\n02-method.Rmd\n03-quality.Rmd\n04-total_cancer.Rmd\n05-eachsite.Rmd"
  },
  {
    "objectID": "slides/2023-5-16-canreg-report/index.html#基于bookdown撰写肿瘤登记年报-4",
    "href": "slides/2023-5-16-canreg-report/index.html#基于bookdown撰写肿瘤登记年报-4",
    "title": "R语言促进高效率肿瘤登记报告",
    "section": "基于bookdown撰写《肿瘤登记年报》",
    "text": "基于bookdown撰写《肿瘤登记年报》\n图表批量生成\n\n#####\n# 年度数据审核##\n#####\n\nlibrary(dplyr)\nlibrary(reshape2)\nrequire(ggplot2)\nlibrary(ggsci)\nlibrary(cowplot)\nlibrary(stringr)\nlibrary(ggpubr)\nlibrary(extrafont)\n#font_import() # 导入系统中已经安装的字体，包括中文字体\n# 恢复默认的主题设置\nloadfonts() # 加载已经导入的字体\n#font &lt;- \"SimHei\" # 指定中文字体，这里使用黑体（SimHei）\ntheme_set(theme_bw(base_family = \"STKaiti\"))\n\n\n\n####\n#生成第五章各癌种年龄别率图#\n###\n\nage_specific_rate &lt;- report%&gt;%\n  filter(city==\"33\",code&gt;=101&code&lt;=122|code==62)%&gt;%\n  select(areacode,sex,code,icd,by,i0:i85,d0:d85)%&gt;%\n  melt(id.vars=c(\"areacode\",\"sex\",\"code\",\"icd\",\"by\"),\n       variable.name = \"type\",\n       value.name=\"rate\") %&gt;%\n  mutate(order=code-100,\n         age=as.numeric(ifelse(substr(type,1,1)==\"i\",gsub(\"i\",\"\",type),gsub(\"d\",\"\",type))),\n         type=ifelse(substr(type,1,1)==\"i\",\"incidence\",\"mortality\"))\n\nage_specific_rate2&lt;-age_specific_rate%&gt;%\n  filter(code==62)%&gt;%\n  mutate(sex=ifelse(areacode==\"510000\",paste0(\"城市\",sex),\n                    ifelse(areacode==\"520000\",paste0(\"农村\",sex),sex)))%&gt;%\n  filter(!(areacode==\"500000\"))%&gt;%\n  mutate(areacode=\"530000\")\n\n\nage_specific_rate&lt;-age_specific_rate%&gt;%\n  filter(!((code %in% 112:115)&(sex %in% c(\"合计\",\"男性\"))),!(code==116&sex%in%c(\"合计\",\"女性\")))\n\nAge_specific_rate&lt;-rbind(age_specific_rate,age_specific_rate2)%&gt;%\n  mutate(order=ifelse(order==-38,0,order))%&gt;%\n  filter(!(sex %in% c(\"城市合计\",\"农村合计\")))\n\n\nfor (i in 0:22){\n  plot &lt;- Age_specific_rate[Age_specific_rate$order==i,]\n  if (i %in% c(12:16)){\n    ct &lt;- plot%&gt;%mutate(areacode=factor(areacode,labels =c(\"全省\",\"城市\",\"农村\")))%&gt;%group_by(type)%&gt;%group_split()\n  } else {\n    ct &lt;- plot%&gt;%group_by(type,areacode)%&gt;%group_split()\n  }\n\n  icd&lt;-plot[1,c(\"icd\")]\n\n  p&lt;- lapply(ct,function(x) {\n    type&lt;-x[1,c(\"type\")]\n    if (i %in% c(12:16)){\n      p&lt;-ggplot(x,aes(x=age,y=rate,group=areacode))+geom_line(aes(colour=areacode),size=1.2)\n    } else {\n      p&lt;-ggplot(x,aes(x=age,y=rate,group=sex))+geom_line(aes(colour=sex),size=1.2)\n    }\n    p&lt;-p+scale_x_continuous(breaks = c(0,10,20,30,40,50,60,70,80))+\n      theme_classic()+\n      xlab(\"年龄(岁)\")+\n      ylab(ifelse(type==\"incidence\",expression(paste(\"年龄别发病率（1/\", 10^5,\")\")),expression(paste(\"年龄别死亡率（1/\", 10^5,\")\"))))+\n      scale_color_lancet()+\n      theme(\n        text=element_text(family = \"STKaiti\"),\n        legend.position=c(0.2,0.8),\n        legend.title=element_blank(),\n        axis.text = element_text(face=\"bold\"),\n        axis.title.y = element_text(face=\"bold\"),\n        axis.line=element_line(size=0.5,colour=\"black\"),\n        axis.ticks = element_line(size=0.5,colour=\"black\"))\n\n  })\n\n  if (i==0){\n    p_com1&lt;-plot_grid(p[[1]],p[[2]],p[[3]],p[[4]],labels=c(\"全省\",\"城市\",\"农村\",\"城市和农村\"),label_size=13,label_x=0.35,align=\"hv\",ncol=2,nrow=2,byrow=TRUE)\n    p_com2&lt;-plot_grid(p[[5]],p[[6]],p[[7]],p[[8]],labels=c(\"全省\",\"城市\",\"农村\",\"城市和农村\"),label_size=13,label_x=0.35,align=\"hv\",ncol=2,nrow=2,byrow=TRUE)\n    loca2 &lt;- paste(\"./images/Chapter4-\",\"2.png\",sep=\"\")\n    loca3 &lt;- paste(\"./images/Chapter4-\",\"6.png\",sep=\"\")\n    ggsave(loca2,p_com1,width=8,height=6.6,device=\"png\")\n    ggsave(loca3,p_com2,width=8,height=6.6,device=\"png\")\n  } else if(i %in% c(12:16)){\n    p_comx&lt;-plot_grid(p[[1]],p[[2]],labels=c(\"发病\",\"死亡\"), lable_size=13,label_x=0.35,ncol=2,nrow=1,align=\"hv\")\n    loca &lt;- paste(\"./images/Chapter5-\",i,\"-1.png\",sep=\"\")\n    ggsave(loca,p_comx,width=8,height=3.3,device=\"png\")\n  }\n  else {\n    p_com&lt;-plot_grid(p[[1]],p[[4]],p[[2]],p[[5]],p[[3]],p[[6]],labels=c(\"全省 发病\",\"全省 死亡\",\"城市 发病\",\"城市 死亡\",\"农村 发病\",\"农村 死亡\"),label_size=13,label_x=0.35,align=\"hv\",ncol=2,nrow=3,byrow=TRUE)\n    #p_com&lt;-add_sub(p_com, paste(\"ICD10:\",icd),x=0.07, y=0,vjust=0,hjust=0)\n    loca &lt;- paste(\"./images/Chapter5-\",i,\"-1.png\",sep=\"\")\n    ggsave(loca,p_com,width=8,height=10,device=\"png\")\n  }\n}\n\n####\n#生成第五章各癌种不同地区发病率和死亡率顺位图#\n####\n\narea_rate &lt;- report%&gt;%\n  filter(!(city==\"33\"),code&gt;=101&code&lt;=122)%&gt;%\n  select(areacode,city,name,sex,code,icd,by,ics2000,dcs2000)%&gt;%\n  melt(id.vars=c(\"areacode\",\"city\",\"name\",\"sex\",\"code\",\"icd\",\"by\"),\n       variable.name = \"type\",\n       value.name=\"rate\") %&gt;%\n  mutate(order=code-100,\n         city=ifelse(city==11,1,city),\n         type=ifelse(type==\"ics2000\",\"发病率\",\"死亡率\"),\n         rate=ifelse(sex==\"男性\",-rate,rate),\n         )%&gt;%\n  filter(!((code %in% 112:115)& sex %in% c(\"合计\",\"男性\")),\n         !(code==116&sex%in%c(\"合计\",\"女性\")))\n\n#自定义主题\ntheme_nb &lt;- function(..., bg='white'){\n  theme_classic(...) +\n    theme(\n      text=element_text(family = \"STKaiti\"),\n      legend.position=c(0.7,0.1),\n      legend.title=element_blank(),\n      axis.line.y=element_blank(),\n      axis.title.y =element_blank(),\n      axis.ticks.y = element_blank(),\n      axis.text.x = element_text(size=12),\n      axis.text.y = element_text(size=12),\n      legend.text = element_text(size=12),\n      axis.title.x =element_text(face=\"bold\",size=14))\n}\n\nfor (i in c(1:22)){\n  plot &lt;- area_rate[area_rate$order==i,]\n  ct &lt;- plot%&gt;%group_by(city)%&gt;%group_split()\n\n  icd&lt;-plot[1,c(\"icd\")]\n\n  if (i %in% c(1:11,17:22)) {\n    p&lt;- lapply(ct,function(x) {\n      top_value &lt;-  max(abs(x$rate))\n\n      xx &lt;-x%&gt;%filter(sex==\"女性\")%&gt;%\n        arrange(type,rate)%&gt;%\n        mutate(name=factor(name,unique(name)),type=factor(type,levels=c(\"死亡率\",\"发病率\")))\n      p2&lt;-ggplot(data=xx,aes(y=name))+\n        geom_bar(aes(x=rate,fill=factor(type)),stat = \"identity\",position = \"dodge\")+\n        scale_fill_manual(values=c('#e31a1c','#4169E1'))+\n        scale_x_continuous(position = \"top\",limits=c(0,top_value))+\n        xlab(expression(paste(\"女性率（1/\", 10^5,\"）\")))+\n        scale_y_discrete(position = \"right\")+\n        theme_nb()\n\n      xx &lt;-x%&gt;%filter(sex==\"男性\")%&gt;%mutate(rate2=abs(rate))%&gt;%arrange(type,rate2)%&gt;%mutate(name=factor(name,unique(name)),type=factor(type,levels=c(\"死亡率\",\"发病率\")))\n      p1&lt;-ggplot(data=xx,aes(x=name))+\n        geom_bar(aes(y=rate,fill=factor(type)),stat = \"identity\",position = \"dodge\")+\n        scale_fill_manual(values=c('#e31a1c','#4169E1'))+\n        scale_y_continuous(position = \"right\",limits=c(-top_value,0),labels=abs)+\n        ylab(expression(paste(\"男性率（1/\", 10^5,\"）\")))+\n        coord_flip()+\n        theme_nb()+\n        theme(legend.position=\"none\")\n      p3&lt;-plot_grid(p1,p2,labels=c(\"\",\"\"),ncol=2)\n      return(p3)\n    })\n\n  } else {\n    #制作单性别癌种图\n    p&lt;- lapply(ct,function(x) {\n      top_value &lt;-  max(abs(x$rate))\n      xx &lt;-x%&gt;%mutate(rate2=abs(rate))%&gt;%arrange(type,rate2)%&gt;%mutate(name=factor(name,unique(name)),type=factor(type,levels=c(\"死亡率\",\"发病率\")))\n      px&lt;-ggplot(data=xx,mapping = aes(y=name))+\n        geom_bar(mapping=aes(x=rate2,fill=factor(type)),stat = \"identity\",position = \"dodge\")+\n        scale_fill_manual(values=c('#e31a1c','#4169E1'))+\n        scale_x_continuous(position = \"top\",limits=c(0,top_value))+\n        scale_y_discrete(position = \"left\")+\n        xlab(expression(paste(\"中标率（1/\", 10^5,\"）\")))+\n        theme_nb()\n      return(px)\n    })\n  }\n\n  loca2 &lt;- paste(\"./images/Chapter5-\",i,\"-2.png\",sep=\"\")\n  loca3 &lt;- paste(\"./images/Chapter5-\",i,\"-3.png\",sep=\"\")\n  ggsave(loca2,p[[1]],width=8,height=4,device=\"png\")\n  ggsave(loca3,p[[2]],width=8,height=10,device=\"png\")\n}\n\n\n\n####\n#生成第四章 前10肿瘤 顺位及构成图#\n####\n\nt1 &lt;- report%&gt;%\n  filter( city==\"33\",code&gt;=101&code&lt;=122)%&gt;%\n  select(areacode,name,sex,code,icd,by,ihj,fcon)%&gt;%\n  mutate(type=\"incidence\")%&gt;%\n  rename(rate=ihj,constitute=fcon)\n\nt2 &lt;- report%&gt;%\n  filter( city==\"33\",code&gt;=101&code&lt;=122)%&gt;%\n  select(areacode,name,sex,code,icd,by,dhj,scon)%&gt;%\n  mutate(type=\"mortality\")%&gt;%\n  rename(rate=dhj,constitute=scon)\n\ntotal_rank&lt;-rbind(t1,t2)%&gt;%\n  mutate(by=ifelse(code==110,\"肺\",\n                   ifelse(code==119,\"脑\",\n                          ifelse(code==105,\"结直肠\",\n                                 ifelse(code==107,\"胆囊\",\n                                        ifelse(code==117,\"肾\",\n                                               ifelse(code==121,\"淋巴瘤\",by)))))),\n         cate=paste0(by,\"(\",icd,\")\"),\n         cate=ifelse(code==121,\"淋巴瘤\",cate),\n         sex=factor(sex,levels=c(\"合计\",\"男性\",\"女性\"),labels=c(\"合计\",\"男性\",\"女性\")))\n\n\nmycolor&lt;- c('#1f78b4','#a6cee3','#33a02c','#b2df8a','#e31a1c','#fb9a99','#ff7f00','#fdbf6f','#6a3d9a','#cab2d6','#ffff99')\n\nfor (i in c(\"incidence\",\"mortality\")) {\n  for (j in c(\"全省\",\"城市地区\",\"农村地区\")) {\n    plot &lt;- total_rank[total_rank$type==i & total_rank$name==j,]\n    ct &lt;- plot%&gt;%group_by(sex)%&gt;%group_split()\n    p&lt;- lapply(ct,function(x) {\n\n      xx &lt;-x%&gt;%arrange(rate)%&gt;%mutate(cate=factor(cate,unique(cate)))%&gt;%slice(13:22)\n      yy&lt;-ggplot(xx,aes(y=cate))+geom_bar(aes(x=rate),fill=ifelse(i==\"incidence\",\"#1f78b4\",\"#e31a1c\"),stat = \"identity\")+theme_void()+\n        scale_x_continuous(position = \"top\")+\n        xlab(ifelse(i==\"incidence\",expression(paste(\"发病率（1/\", 10^5,\")\")),expression(paste(\"死亡率（1/\", 10^5,\")\"))))+\n        scale_y_discrete(position = \"left\",labels=function(x) str_wrap(x, width=20))+\n        theme(\n          #plot.background = element_rect(fill=\"white\",color=\"white\"),\n          text=element_text(family = \"STKaiti\"),\n          axis.text.x = element_text(size=9),\n          axis.text.y = element_text(size=9),\n          axis.line.y=element_blank(),\n          axis.title.y =element_blank(),\n          axis.title.x =element_text(face=\"bold\",size=12),\n          axis.ticks.y = element_blank()\n        )\n\n      xx &lt;-xx%&gt;%arrange(desc(constitute))%&gt;%mutate(cate=factor(cate,unique(cate)))\n      xx2&lt;-xx%&gt;%mutate(constitute=round(100-sum(constitute),2))%&gt;%\n        distinct(areacode,name,sex,constitute,type)%&gt;%\n        mutate(cate=\"其它\",code=62,by=\"其它\",rate=50,icd=\"other\")\n      xx&lt;-rbind(xx,xx2)\n\n      zz &lt;- ggplot(xx,aes(x=\"\",y=constitute,fill=cate))+\n        geom_bar(width=1,stat=\"identity\",color=\"white\")+\n        coord_polar(\"y\",start=0)+\n        theme_void()+\n        scale_fill_manual(values= mycolor)+\n        #geom_text(aes(x=1.2,label=as.character(constitute)),position = position_stack(vjust=0.5),size=2)+\n        theme(\n          #plot.background = element_rect(fill=\"white\",color=\"white\"),\n          text=element_text(family = \"STKaiti\"),\n          legend.title=element_blank(),\n          legend.text = element_text(size = 9),\n          legend.position =\"right\",\n          legend.direction = \"vertical\",\n          axis.title.x = element_blank(),\n          axis.title.y = element_blank(),\n          panel.border = element_blank(),\n          panel.grid=element_blank(),\n          plot.margin = unit(c(0,1,0,0), \"lines\"),\n          axis.ticks = element_blank(),\n          plot.title=element_text(size=14, face=\"bold\")\n        )\n\n      com1&lt;-plot_grid(yy,zz,ncol=2,labels=c(\"\",\"构成\"),label_x=0.2,label_y=0.2,label_size=12,rel_widths=c(1,1))\n      return(com1)\n    })\n\n    pp&lt;-plot_grid(p[[1]],p[[2]],p[[3]],ncol=1,labels=c(\"合计\",\"男性\",\"女性\"),label_size=13,label_x=0.45,align=\"hv\")\n\n    kk&lt;- ifelse(i==\"incidence\" & j==\"全省\",3,\n                ifelse(i==\"incidence\" & j==\"城市地区\",4,\n                       ifelse(i==\"incidence\" & j==\"农村地区\",5,\n                              ifelse(i==\"mortality\" & j==\"全省\",7,\n                                     ifelse(i==\"mortality\" & j==\"城市地区\",8,\n                                            ifelse(i==\"mortality\" & j==\"农村地区\",9,))))))\n\n    loca2 &lt;- paste(\"./images/Chapter4-\",kk,\".png\",sep=\"\")\n    ggsave(loca2,pp,width=6,height=8,device = \"png\")\n\n  }}"
  },
  {
    "objectID": "slides/2023-5-16-canreg-report/index.html#基于bookdown撰写肿瘤登记年报-5",
    "href": "slides/2023-5-16-canreg-report/index.html#基于bookdown撰写肿瘤登记年报-5",
    "title": "R语言促进高效率肿瘤登记报告",
    "section": "基于bookdown撰写《肿瘤登记年报》",
    "text": "基于bookdown撰写《肿瘤登记年报》\n图表批量生成"
  },
  {
    "objectID": "slides/2023-5-16-canreg-report/index.html#基于bookdown撰写肿瘤登记年报-6",
    "href": "slides/2023-5-16-canreg-report/index.html#基于bookdown撰写肿瘤登记年报-6",
    "title": "R语言促进高效率肿瘤登记报告",
    "section": "基于bookdown撰写《肿瘤登记年报》",
    "text": "基于bookdown撰写《肿瘤登记年报》"
  },
  {
    "objectID": "slides/2023-5-16-canreg-report/index.html#学习资源",
    "href": "slides/2023-5-16-canreg-report/index.html#学习资源",
    "title": "R语言促进高效率肿瘤登记报告",
    "section": "学习资源",
    "text": "学习资源\n\nR Markdown\nbookdown\nQuarto官网\nGithub: Awesome-quarto\nRevealjs slides\n统计之都"
  },
  {
    "objectID": "slides/2022-12-what-is-quarto/index.html#你是怎么写论文的",
    "href": "slides/2022-12-what-is-quarto/index.html#你是怎么写论文的",
    "title": "恶性肿瘤监测数据的分析与利用",
    "section": "你是怎么写论文的?",
    "text": "你是怎么写论文的?\n\n用R/SAS/STATA计算统计结果\n把结果粘贴到Word里做表格\n然后在Word里写论文\n\n \n\n但是当你完成论文的撰写，突然发现原始数据有变化~"
  },
  {
    "objectID": "slides/2022-12-what-is-quarto/index.html#section",
    "href": "slides/2022-12-what-is-quarto/index.html#section",
    "title": "恶性肿瘤监测数据的分析与利用",
    "section": "",
    "text": "是不是感觉要崩溃了？\n:sob:\n\n\n\n所有的统计工作和制表工作要重新来过！！！"
  },
  {
    "objectID": "slides/2022-12-what-is-quarto/index.html#section-1",
    "href": "slides/2022-12-what-is-quarto/index.html#section-1",
    "title": "恶性肿瘤监测数据的分析与利用",
    "section": "",
    "text": "可重复性研究报告/可重复性数据分析\n\n\n是指利用代码把数据分析过程串起来，最终生成可重复性的报告。\n\n\n\n\n\nR sweave\nR markdown\nJupyter\n\n\n\n这些都是实现可重复性报告的具体方式"
  },
  {
    "objectID": "slides/2022-12-what-is-quarto/index.html#rmarkdown",
    "href": "slides/2022-12-what-is-quarto/index.html#rmarkdown",
    "title": "恶性肿瘤监测数据的分析与利用",
    "section": "Rmarkdown",
    "text": "Rmarkdown\n\n\n\n\n\n\nTip\n\n\nRmd格式文档通过把通用的markdown和嵌入的R语言代码块结合起来，通过knitr包把rmd文档编译成统一的md文档，然后再通过pandoc转成各种格式，如html、PDF、Word、slides等。\n\n\n\n\n\n\nmarkdown负责报告文本\n嵌入的代码块负责统计分析过程\n\n\n\n完成的Rmd又knitr包转换为普通的md文档\n再通过pandoc把md渲染成我们需要报告"
  },
  {
    "objectID": "slides/2022-12-what-is-quarto/index.html#section-2",
    "href": "slides/2022-12-what-is-quarto/index.html#section-2",
    "title": "恶性肿瘤监测数据的分析与利用",
    "section": "",
    "text": "支持Rmarkdown的包遍地开花\n\n\n\n\n网站/博客\n书籍\n论文\n幻灯片\n\n\n\n语法不兼容\n学习成本高🤣"
  },
  {
    "objectID": "slides/2022-12-what-is-quarto/index.html#quarto-上线",
    "href": "slides/2022-12-what-is-quarto/index.html#quarto-上线",
    "title": "恶性肿瘤监测数据的分析与利用",
    "section": "Quarto 上线",
    "text": "Quarto 上线\n\nQuarto® is an open-source scientific and technical publishing system built on Pandoc\nRstudio把Quarto定义为“一个基于Pandoc的开源科学与技术出版系统。”"
  },
  {
    "objectID": "slides/2022-12-what-is-quarto/index.html#video-slides",
    "href": "slides/2022-12-what-is-quarto/index.html#video-slides",
    "title": "恶性肿瘤监测数据的分析与利用",
    "section": "video slides",
    "text": "video slides\n\n\n\nSome additional commentary of more peripheral interest."
  },
  {
    "objectID": "slides/2022-12-what-is-quarto/index.html#slide-title",
    "href": "slides/2022-12-what-is-quarto/index.html#slide-title",
    "title": "恶性肿瘤监测数据的分析与利用",
    "section": "Slide Title",
    "text": "Slide Title"
  },
  {
    "objectID": "slides/2022-12-what-is-quarto/index.html#slide-title-1",
    "href": "slides/2022-12-what-is-quarto/index.html#slide-title-1",
    "title": "恶性肿瘤监测数据的分析与利用",
    "section": "Slide Title",
    "text": "Slide Title\n\n什么是文学编程？"
  },
  {
    "objectID": "slides/2022-12-what-is-quarto/index.html#section-3",
    "href": "slides/2022-12-what-is-quarto/index.html#section-3",
    "title": "恶性肿瘤监测数据的分析与利用",
    "section": "",
    "text": "什么事实爱啊"
  },
  {
    "objectID": "slides/2022-12-what-is-quarto/index.html#section-4",
    "href": "slides/2022-12-what-is-quarto/index.html#section-4",
    "title": "恶性肿瘤监测数据的分析与利用",
    "section": "",
    "text": "Animating content"
  },
  {
    "objectID": "slides/2022-12-what-is-quarto/index.html#section-5",
    "href": "slides/2022-12-what-is-quarto/index.html#section-5",
    "title": "恶性肿瘤监测数据的分析与利用",
    "section": "",
    "text": "# Fill in the spot we created for a plot\noutput$phonePlot &lt;- renderPlot({\n  # Render a barplot\n})"
  },
  {
    "objectID": "slides/2022-12-what-is-quarto/index.html#section-6",
    "href": "slides/2022-12-what-is-quarto/index.html#section-6",
    "title": "恶性肿瘤监测数据的分析与利用",
    "section": "",
    "text": "# Fill in the spot we created for a plot\noutput$phonePlot &lt;- renderPlot({\n  # Render a barplot\n  barplot(WorldPhones[,input$region]*1000, \n          main=input$region,\n          ylab=\"Number of Telephones\",\n          xlab=\"Year\")\n})"
  },
  {
    "objectID": "slides/2022-12-what-is-quarto/index.html#section-7",
    "href": "slides/2022-12-what-is-quarto/index.html#section-7",
    "title": "恶性肿瘤监测数据的分析与利用",
    "section": "",
    "text": "从数据收集到出版《年报》"
  },
  {
    "objectID": "slides/2023-5-11-system/index.html#数据收集系统的发展",
    "href": "slides/2023-5-11-system/index.html#数据收集系统的发展",
    "title": "河南肿瘤随访登记平台",
    "section": "数据收集系统的发展",
    "text": "数据收集系统的发展"
  },
  {
    "objectID": "slides/2023-5-11-system/index.html#最新肿瘤登记系统登录界面",
    "href": "slides/2023-5-11-system/index.html#最新肿瘤登记系统登录界面",
    "title": "河南肿瘤随访登记平台",
    "section": "最新肿瘤登记系统登录界面",
    "text": "最新肿瘤登记系统登录界面\nhttp://218.28.13.204:35556"
  },
  {
    "objectID": "slides/2023-5-11-system/index.html#实现专业功能",
    "href": "slides/2023-5-11-system/index.html#实现专业功能",
    "title": "河南肿瘤随访登记平台",
    "section": "实现专业功能",
    "text": "实现专业功能\n\n\n\n已升级功能\n\n数据上报\n重卡判断\n多原发卡判断\n被动随访\n随访管理\n机构管理\n其他辅助功能\n\n\n\n待升级功能\n\n常规数据分析\n质量控制可视化\n发病地理信息管理\n就医历史纵向追踪"
  },
  {
    "objectID": "slides/2023-5-11-system/index.html#数据项目",
    "href": "slides/2023-5-11-system/index.html#数据项目",
    "title": "河南肿瘤随访登记平台",
    "section": "数据项目",
    "text": "数据项目\n\n\n\n肿瘤登记收集的变量包括以下7个部分（图 1）\n\n\n个人识别信息\n人口学信息\n肿瘤信息\n治疗信息\n随访信息\n预后信息\n信息来源\n\n\n\n\n\n\n\n\nclassDiagram\n    class 个人识别信息 {\n    登记处编号\n    身份证号\n    姓名\n    户籍地址\n    常住地址\n}\n    class 人口学信息 {\n    性别\n    年龄\n    出生日期\n    婚姻状态\n    职业\n    民族\n}\n    class 肿瘤信息 {\n    发病日期\n    诊断依据\n    原发部位ICDO3\n    形态学ICDO3\n    行为ICDO3\n    分级ICDO3\n    临床分期/TNM分期\n    多原发状态\n    双边性\n}\n    class 治疗信息 {\n    治疗方法\n}\n    class 随访相关信息 {\n    联系电话\n    联系人\n    联系人电话\n    常住地址\n}\n    class 结局信息 {\n    最后接触日期\n    生存状态\n    死亡日期\n    死亡原因\n    死亡地点\n}\n    class 信息来源 {\n    报告医院\n    住院号/门诊号\n    报告医师\n    报告日期\n}\n\n    个人识别信息 --|&gt; 人口学信息\n    个人识别信息 --|&gt; 肿瘤信息\n    个人识别信息 --|&gt; 治疗信息\n    个人识别信息 --|&gt; 随访相关信息\n    个人识别信息 --|&gt; 结局信息\n    个人识别信息 --|&gt; 信息来源\n\n\n\n\n图 1: 人群肿瘤登记收集数据项目"
  },
  {
    "objectID": "slides/2023-5-11-system/index.html#新系统设计思路",
    "href": "slides/2023-5-11-system/index.html#新系统设计思路",
    "title": "河南肿瘤随访登记平台",
    "section": "新系统设计思路",
    "text": "新系统设计思路\n\n\n\n\n新系统围绕人口身份识别信息，不断更新肿瘤信息、随访信息、地理信息等（图 2）\n\n\n\n追踪就医历史记录\n多渠道更新随访信息\n追踪患者地理信息\n多渠道数据来源上报\n\n\n\n\n\n\n\n\nflowchart LR\n  A[人口身份识别信息] --&gt; B[肿瘤信息]\n  A --&gt; C[随访信息]\n  A --&gt; D[信息来源]\n  A --&gt; E[地理信息]\n  x[肿瘤数据上报] --&gt; A\n  y[全死因数据上报] --&gt; A\n  z[肿瘤协查数据上报] --&gt; A\n  \n\n\n\n\n图 2: 河南省肿瘤随访登记信息平台\n\n\n\n\n\n\n\n\n保证人口信息数据的唯一性特别重要，也是重卡合并、多原发标记和更新随访数据的基础。"
  },
  {
    "objectID": "slides/2023-5-11-system/index.html#数据操作流程推荐",
    "href": "slides/2023-5-11-system/index.html#数据操作流程推荐",
    "title": "河南肿瘤随访登记平台",
    "section": "数据操作流程（推荐）",
    "text": "数据操作流程（推荐）\n\n\n人口信息的查重特别重要，在肿瘤病例的查重之前，需要先做人口信息查重（图 3）\n\n\n\n\n\n\n\n\nflowchart LR\n  x[肿瘤数据上报] --&gt; A[更新人口信息]\n  y[全死因数据上报] --&gt; A\n  z[肿瘤协查数据上报] --&gt; A\n  A --&gt; B[人口信息查重]\n  B --&gt; C[查重肿瘤信息]\n  C --&gt; D[标记多原发肿瘤]\n\n\n\n\n图 3: 新系统数据操作流程（建议）"
  },
  {
    "objectID": "slides/2023-5-11-system/index.html#肿瘤数据上传操作",
    "href": "slides/2023-5-11-system/index.html#肿瘤数据上传操作",
    "title": "河南肿瘤随访登记平台",
    "section": "肿瘤数据上传操作",
    "text": "肿瘤数据上传操作\n \n\n\n✅上传渠道\n\n手动录入\n批量导入(医院，HIS)\n批量导入(全死因，CAUS)\n数据协查(其他医院共享数据)\n\n\n\n\n\n\n\n\n\n\n图 4: 手工录入界面"
  },
  {
    "objectID": "slides/2023-5-11-system/index.html#肿瘤数据上传操作-1",
    "href": "slides/2023-5-11-system/index.html#肿瘤数据上传操作-1",
    "title": "河南肿瘤随访登记平台",
    "section": "肿瘤数据上传操作",
    "text": "肿瘤数据上传操作"
  },
  {
    "objectID": "slides/2023-5-11-system/index.html#肿瘤数据上传操作-2",
    "href": "slides/2023-5-11-system/index.html#肿瘤数据上传操作-2",
    "title": "河南肿瘤随访登记平台",
    "section": "肿瘤数据上传操作",
    "text": "肿瘤数据上传操作"
  },
  {
    "objectID": "slides/2023-5-11-system/index.html#肿瘤数据上传操作-3",
    "href": "slides/2023-5-11-system/index.html#肿瘤数据上传操作-3",
    "title": "河南肿瘤随访登记平台",
    "section": "肿瘤数据上传操作",
    "text": "肿瘤数据上传操作"
  },
  {
    "objectID": "slides/2023-5-11-system/index.html#数据查重",
    "href": "slides/2023-5-11-system/index.html#数据查重",
    "title": "河南肿瘤随访登记平台",
    "section": "数据查重",
    "text": "数据查重\n人口信息查重"
  },
  {
    "objectID": "slides/2023-5-11-system/index.html#数据查重-1",
    "href": "slides/2023-5-11-system/index.html#数据查重-1",
    "title": "河南肿瘤随访登记平台",
    "section": "数据查重",
    "text": "数据查重\n肿瘤信息查重"
  },
  {
    "objectID": "slides/2023-5-11-system/index.html#数据查重-2",
    "href": "slides/2023-5-11-system/index.html#数据查重-2",
    "title": "河南肿瘤随访登记平台",
    "section": "数据查重",
    "text": "数据查重\n肿瘤信息查重"
  },
  {
    "objectID": "slides/2023-5-11-system/index.html#数据查重-3",
    "href": "slides/2023-5-11-system/index.html#数据查重-3",
    "title": "河南肿瘤随访登记平台",
    "section": "数据查重",
    "text": "数据查重\n肿瘤信息查重"
  },
  {
    "objectID": "slides/2023-5-11-system/index.html#死亡补发病",
    "href": "slides/2023-5-11-system/index.html#死亡补发病",
    "title": "河南肿瘤随访登记平台",
    "section": "死亡补发病",
    "text": "死亡补发病\n\n死亡补发病流程是提高肿瘤登记处数据完整性的关键措施，每年应在上传全死因数据之后，应通过系统查找关键词肿瘤|未匹配，然后，点击后面的编辑按钮，补充相应的发病信息。"
  },
  {
    "objectID": "slides/2023-5-11-system/index.html#死亡补发病流程",
    "href": "slides/2023-5-11-system/index.html#死亡补发病流程",
    "title": "河南肿瘤随访登记平台",
    "section": "死亡补发病流程",
    "text": "死亡补发病流程\n\n\n\n\n\n\nflowchart LR\n  A[全死因数据] --&gt; B[上传至信息系统]\n  B --&gt; C[与肿瘤发病数据匹配]\n  C --&gt; D{判断是否匹配}\n  D -- 匹配 --&gt; E[被动随访成功]\n  D -- 肿瘤死亡未匹配 --&gt; F[追溯病例发病信息]\n  a(医院) --&gt; F\n  b(医保系统) --&gt; F\n  c(县-乡-村-医生) --&gt; F\n  F --&gt; G[(补充肿瘤发病数据库)]\n  \n\n\n\n\n图 5: 河南省肿瘤登记死亡补发病流程"
  },
  {
    "objectID": "slides/2023-5-11-system/index.html#质量控制",
    "href": "slides/2023-5-11-system/index.html#质量控制",
    "title": "河南肿瘤随访登记平台",
    "section": "质量控制",
    "text": "质量控制\n\n\n肿瘤登记收集的变量或者变量组合之间存在一定的逻辑关系，通过对单个变量或变量组合之间的逻辑关系进行审查，以提高肿瘤登记数据有效性。\n\n\n\n\n\n\n\n\n\n单个项目\n\n\n\n出生日期\n发病日期\n年龄、性别\n发病部位\n形态学\n行为和分级\n\n\n\n\n\n\n\n\n\n\n\n项目组合\n\n\n\n性别/部位\n部位/组织学学\n年龄/部位/组织学\n行为/部位\n行为/组织学\n性别/组织学\n\n\n\n\n\n\n\n\n\n\n\n校验结果\n\n\n\n正确✅\n警告⚠️\n错误❌"
  },
  {
    "objectID": "slides/2023-5-11-system/index.html#随访功能",
    "href": "slides/2023-5-11-system/index.html#随访功能",
    "title": "河南肿瘤随访登记平台",
    "section": "随访功能",
    "text": "随访功能\n被动随访"
  },
  {
    "objectID": "slides/2023-5-11-system/index.html#随访功能-1",
    "href": "slides/2023-5-11-system/index.html#随访功能-1",
    "title": "河南肿瘤随访登记平台",
    "section": "随访功能",
    "text": "随访功能\n主动随访"
  },
  {
    "objectID": "slides/2023-5-11-system/index.html#随访功能-2",
    "href": "slides/2023-5-11-system/index.html#随访功能-2",
    "title": "河南肿瘤随访登记平台",
    "section": "随访功能",
    "text": "随访功能\n主动随访"
  },
  {
    "objectID": "slides/2023-5-11-system/index.html#人口数据上报",
    "href": "slides/2023-5-11-system/index.html#人口数据上报",
    "title": "河南肿瘤随访登记平台",
    "section": "人口数据上报",
    "text": "人口数据上报"
  },
  {
    "objectID": "slides/2023-5-11-system/index.html#寿命表数据上报",
    "href": "slides/2023-5-11-system/index.html#寿命表数据上报",
    "title": "河南肿瘤随访登记平台",
    "section": "寿命表数据上报",
    "text": "寿命表数据上报"
  },
  {
    "objectID": "packages/canregtools/index.html",
    "href": "packages/canregtools/index.html",
    "title": "canregtools",
    "section": "",
    "text": "Mac OS 二进制安装包: canregtools_0.2.8.tgz （ 下载 🆓）️"
  },
  {
    "objectID": "packages/canregtools/index.html#canregtools安装包",
    "href": "packages/canregtools/index.html#canregtools安装包",
    "title": "canregtools",
    "section": "",
    "text": "Mac OS 二进制安装包: canregtools_0.2.8.tgz （ 下载 🆓）️"
  },
  {
    "objectID": "training/index.html",
    "href": "training/index.html",
    "title": "普癌新声",
    "section": "",
    "text": "本模块分享肿瘤登记专业人员培训相关内容。"
  },
  {
    "objectID": "training/index.html#肿瘤登记培训",
    "href": "training/index.html#肿瘤登记培训",
    "title": "普癌新声",
    "section": "",
    "text": "本模块分享肿瘤登记专业人员培训相关内容。"
  },
  {
    "objectID": "training/annumeeting2023/index.html",
    "href": "training/annumeeting2023/index.html",
    "title": "2023年河南省肿瘤登记年度培训暨肿瘤登记专业人员能力提升培训班",
    "section": "",
    "text": "时间：2023年5月10日至2023年5月12日\n地点：未来大厦金鼎厅\n\n\n\n2023河南省肿瘤登记年会暨肿瘤登记专业人员能力提升培训班\n\n\n时间\n题目\n讲者\n主持人\n\n\n\n\n\n会议报到（地点:未来大酒店，时间: 5月10日下午 15:00-18:00）\n\n\n\n\n第一部分：肿瘤登记方法及进展（2023年5月11日 上午）\n\n\n08:20-08:30\n领导致辞\n河南省癌症中心，河南省肿瘤医院， 河南省卫健委\n张韶凯\n\n\n08:30-08:45\n颁奖仪式\n出席领导\n陈琼\n\n\n08:50-09:20\n大数据赋能的公共卫生监测研究进展\n胡晓斌(兰州大学)\n张韶凯\n\n\n09:20-09:50\n肿瘤登记处的建立与高质量发展\n孙喜斌(河南省癌症中心)\n\n\n09:50-10:20\n肿瘤登记数据的质量控制\n郑荣寿(国家癌症中心)\n\n\n10:20-10:50\n肿瘤登记数据的随访方法及相关要求\n李荔(国家癌症中心)\n\n\n10:50-11:20\n肿瘤的分类与编码\n刘曙正(河南省癌症中心)\n陈琼\n\n\n11:20-11:50\n河南省肿瘤登记工作进展情况\n张韶凯(河南省癌症中心)\n\n\n11:50-12:00\n讨论\n\n\n\n\n第二部分：肿瘤登记数据上报及管理平台（2023年5月11日 下午）\n\n\n13:30-14:10\n河南省2020年肿瘤登记数据质量及上报要求\n陈琼(河南省癌症中心)\n孙喜斌\n\n\n14:10-14:20\n河南省肿瘤登记信息平台介绍\n陈琼(河南省癌症中心)\n\n\n14:20-15:10\n河南省肿瘤登记信息平台操作说明\n张印(郑州大学)\n郭兰伟\n\n\n15:10-15:30\n南阳市肿瘤登记数据上报经验介绍\n何建磊(南阳市疾控中心)\n\n\n第三部分：肿瘤登记数据分析与利用（2023年5月11日 下午）\n\n\n15:30-16:00\n肿瘤登记数据分析与利用\n刘曙正(河南省癌症中心)\n徐慧芳\n\n\n16:00-16:20\n医学论文写作规范与投稿流程\n康瑞华(河南省癌症中心)\n\n\n16:20-16:50\n论文撰写中的常用统计分析方法及SPSS操作\n郭兰伟(河南省癌症中心)\n\n\n16:50-17:05\n三门峡经验分享: 加强数据利用促进癌症防控政策实施\n郭振平(三门峡市疾控中心)\n陈琼\n\n\n17:05-17:30\n洛阳市经验分享: 多措并举促进肿瘤登记市级全覆盖\n闫云燕(洛阳市疾控中心)\n\n\n17:30-17:45\n林州市经验分享: 多源报告提升肿瘤登记数据质量\n候凯(林州市肿瘤医院)\n\n\n17:45-18:00\n讨论\n\n\n\n第四部分：肿瘤登记工作进展情况（2023年5月12日 上午）\n\n\n08:30-08:40\n郑州市肿瘤登记工作进展及工作计划\n李建彬(郑州市疾控中心)\n刘曙正\n\n\n08:40-08:50\n开封市肿瘤登记工作进展及工作计划\n刘悦(开封市疾控中心)\n\n\n08:50-09:00\n洛阳市肿瘤登记工作进展及工作计划\n闫云燕(洛阳市疾控中心)\n\n\n09:00-09:10\n平顶山肿瘤登记工作进展及工作计划\n宋波(平顶山市疾控中心)\n郭兰伟\n\n\n09:10-09:20\n安阳市肿瘤登记工作进展及工作计划\n方岩(安阳市肿瘤医院)\n\n\n09:20-09:30\n鹤壁市肿瘤登记工作进展及工作计划\n王冰冰(鹤壁市人民医院)\n\n\n09:30-09:40\n新乡市肿瘤登记工作进展及工作计划\n曹河璐(新乡市人民医院)\n徐慧芳\n\n\n09:40-09:50\n焦作市肿瘤登记工作进展及工作计划\n孟春辉(焦作市疾控中心)\n\n\n09:50-10:00\n濮阳市肿瘤登记工作进展及工作计划\n岳磊(濮阳市疾控中心)\n\n\n10:00-10:10\n许昌市肿瘤登记工作进展及工作计划\n侯灿灿(许昌市疾控中心)\n刘茵\n\n\n10:10-10:20\n漯河市肿瘤登记工作进展及工作计划\n代莹(漯河市疾控中心)\n\n\n10:20-10:30\n三门峡市肿瘤登记工作进展及工作计划\n郑爽(三门峡市疾控中心)\n\n\n10:30-10:40\n南阳市肿瘤登记工作进展及工作计划\n何建磊(南阳市疾控中心)\n王潇杨\n\n\n10:40-10:50\n商丘市肿瘤登记工作进展及工作计划\n朱光(商丘市第一人民医院\n\n\n10:50-11:00\n信阳市肿瘤登记工作进展及工作计划\n王缓(信阳市疾控中心)\n\n\n11:00-11:10\n周口市肿瘤登记工作进展及工作计划\n马培云(周口市疾控中心)\n康瑞华\n\n\n11:10-11:20\n驻马店市肿瘤登记工作进展及工作计划\n李渊(驻马店市疾控中心)\n\n\n11:20-11:30\n济源市肿瘤登记工作进展及工作计划\n马璐瑶(济源市疾控中心)\n\n\n11:30-11:40\n点评与讨论（张韶凯、孙喜斌、刘曙正、陈琼、郭兰伟、徐慧芳、刘茵、王潇杨、康瑞华）\n\n陈琼\n\n\n11:40-12:00\n会议总结\n张韶凯\n\n\n\n离会（5月12日下午）"
  },
  {
    "objectID": "training/annumeeting2023/index.html#会议日程",
    "href": "training/annumeeting2023/index.html#会议日程",
    "title": "2023年河南省肿瘤登记年度培训暨肿瘤登记专业人员能力提升培训班",
    "section": "",
    "text": "时间：2023年5月10日至2023年5月12日\n地点：未来大厦金鼎厅\n\n\n\n2023河南省肿瘤登记年会暨肿瘤登记专业人员能力提升培训班\n\n\n时间\n题目\n讲者\n主持人\n\n\n\n\n\n会议报到（地点:未来大酒店，时间: 5月10日下午 15:00-18:00）\n\n\n\n\n第一部分：肿瘤登记方法及进展（2023年5月11日 上午）\n\n\n08:20-08:30\n领导致辞\n河南省癌症中心，河南省肿瘤医院， 河南省卫健委\n张韶凯\n\n\n08:30-08:45\n颁奖仪式\n出席领导\n陈琼\n\n\n08:50-09:20\n大数据赋能的公共卫生监测研究进展\n胡晓斌(兰州大学)\n张韶凯\n\n\n09:20-09:50\n肿瘤登记处的建立与高质量发展\n孙喜斌(河南省癌症中心)\n\n\n09:50-10:20\n肿瘤登记数据的质量控制\n郑荣寿(国家癌症中心)\n\n\n10:20-10:50\n肿瘤登记数据的随访方法及相关要求\n李荔(国家癌症中心)\n\n\n10:50-11:20\n肿瘤的分类与编码\n刘曙正(河南省癌症中心)\n陈琼\n\n\n11:20-11:50\n河南省肿瘤登记工作进展情况\n张韶凯(河南省癌症中心)\n\n\n11:50-12:00\n讨论\n\n\n\n\n第二部分：肿瘤登记数据上报及管理平台（2023年5月11日 下午）\n\n\n13:30-14:10\n河南省2020年肿瘤登记数据质量及上报要求\n陈琼(河南省癌症中心)\n孙喜斌\n\n\n14:10-14:20\n河南省肿瘤登记信息平台介绍\n陈琼(河南省癌症中心)\n\n\n14:20-15:10\n河南省肿瘤登记信息平台操作说明\n张印(郑州大学)\n郭兰伟\n\n\n15:10-15:30\n南阳市肿瘤登记数据上报经验介绍\n何建磊(南阳市疾控中心)\n\n\n第三部分：肿瘤登记数据分析与利用（2023年5月11日 下午）\n\n\n15:30-16:00\n肿瘤登记数据分析与利用\n刘曙正(河南省癌症中心)\n徐慧芳\n\n\n16:00-16:20\n医学论文写作规范与投稿流程\n康瑞华(河南省癌症中心)\n\n\n16:20-16:50\n论文撰写中的常用统计分析方法及SPSS操作\n郭兰伟(河南省癌症中心)\n\n\n16:50-17:05\n三门峡经验分享: 加强数据利用促进癌症防控政策实施\n郭振平(三门峡市疾控中心)\n陈琼\n\n\n17:05-17:30\n洛阳市经验分享: 多措并举促进肿瘤登记市级全覆盖\n闫云燕(洛阳市疾控中心)\n\n\n17:30-17:45\n林州市经验分享: 多源报告提升肿瘤登记数据质量\n候凯(林州市肿瘤医院)\n\n\n17:45-18:00\n讨论\n\n\n\n第四部分：肿瘤登记工作进展情况（2023年5月12日 上午）\n\n\n08:30-08:40\n郑州市肿瘤登记工作进展及工作计划\n李建彬(郑州市疾控中心)\n刘曙正\n\n\n08:40-08:50\n开封市肿瘤登记工作进展及工作计划\n刘悦(开封市疾控中心)\n\n\n08:50-09:00\n洛阳市肿瘤登记工作进展及工作计划\n闫云燕(洛阳市疾控中心)\n\n\n09:00-09:10\n平顶山肿瘤登记工作进展及工作计划\n宋波(平顶山市疾控中心)\n郭兰伟\n\n\n09:10-09:20\n安阳市肿瘤登记工作进展及工作计划\n方岩(安阳市肿瘤医院)\n\n\n09:20-09:30\n鹤壁市肿瘤登记工作进展及工作计划\n王冰冰(鹤壁市人民医院)\n\n\n09:30-09:40\n新乡市肿瘤登记工作进展及工作计划\n曹河璐(新乡市人民医院)\n徐慧芳\n\n\n09:40-09:50\n焦作市肿瘤登记工作进展及工作计划\n孟春辉(焦作市疾控中心)\n\n\n09:50-10:00\n濮阳市肿瘤登记工作进展及工作计划\n岳磊(濮阳市疾控中心)\n\n\n10:00-10:10\n许昌市肿瘤登记工作进展及工作计划\n侯灿灿(许昌市疾控中心)\n刘茵\n\n\n10:10-10:20\n漯河市肿瘤登记工作进展及工作计划\n代莹(漯河市疾控中心)\n\n\n10:20-10:30\n三门峡市肿瘤登记工作进展及工作计划\n郑爽(三门峡市疾控中心)\n\n\n10:30-10:40\n南阳市肿瘤登记工作进展及工作计划\n何建磊(南阳市疾控中心)\n王潇杨\n\n\n10:40-10:50\n商丘市肿瘤登记工作进展及工作计划\n朱光(商丘市第一人民医院\n\n\n10:50-11:00\n信阳市肿瘤登记工作进展及工作计划\n王缓(信阳市疾控中心)\n\n\n11:00-11:10\n周口市肿瘤登记工作进展及工作计划\n马培云(周口市疾控中心)\n康瑞华\n\n\n11:10-11:20\n驻马店市肿瘤登记工作进展及工作计划\n李渊(驻马店市疾控中心)\n\n\n11:20-11:30\n济源市肿瘤登记工作进展及工作计划\n马璐瑶(济源市疾控中心)\n\n\n11:30-11:40\n点评与讨论（张韶凯、孙喜斌、刘曙正、陈琼、郭兰伟、徐慧芳、刘茵、王潇杨、康瑞华）\n\n陈琼\n\n\n11:40-12:00\n会议总结\n张韶凯\n\n\n\n离会（5月12日下午）"
  },
  {
    "objectID": "training/annumeeting2023/index.html#会议幻灯",
    "href": "training/annumeeting2023/index.html#会议幻灯",
    "title": "2023年河南省肿瘤登记年度培训暨肿瘤登记专业人员能力提升培训班",
    "section": "会议幻灯",
    "text": "会议幻灯\n\n第一部分：肿瘤登记方法及进展\n\n肿瘤登记处的建立与高质量发展\n肿瘤的分类与编码\n\n\n\n第二部分：肿瘤登记数据上报及管理平台\n\n河南省2020年肿瘤登记数据质量及上报要求\n河南省肿瘤登记信息平台介绍\n南阳市肿瘤登记数据上报经验介绍\n\n\n\n第三部分：肿瘤登记数据分析与利用\n\n肿瘤登记数据分析与利用\n医学论文写作规范与投稿流程\n论文撰写中的常用统计分析方法及SPSS操作\nR语言促进高效率肿瘤登记-基于R Markdown/ Quarto的可重复性报告撰写\n三门峡经验分享: 加强数据利用促进癌症防控政策实施\n洛阳市经验分享: 多措并举促进高质量肿瘤登记市级全覆盖\n林州市经验分享: 多源报告提升肿瘤登记数据质量\n\n\n\n第四部分：各地市肿瘤登记工作进展\n\n郑州市\n开封市\n洛阳市\n平顶山市\n安阳市\n鹤壁市\n新乡市\n焦作市\n濮阳市\n许昌市\n漯河市\n三门峡市\n南阳市\n商丘市\n信阳市\n周口市\n驻马店市\n济源市"
  },
  {
    "objectID": "training/annumeeting2023/index.html#会议总结",
    "href": "training/annumeeting2023/index.html#会议总结",
    "title": "2023年河南省肿瘤登记年度培训暨肿瘤登记专业人员能力提升培训班",
    "section": "会议总结",
    "text": "会议总结\n\n会场情况\n2023河南省肿瘤登记年会参会人次为212人，参会单位有98家，会议报告34个，讨论人次43人(嘉宾9人)。\n\n\n\n\n\n\n\n\n\n\n\n(a) 会场总览-右侧\n\n\n\n\n\n\n\n\n\n\n\n(b) 会场总览-正面\n\n\n\n\n\n\n\n\n\n\n\n\n\n(c) 会场总览-近景\n\n\n\n\n\n\n\n\n\n\n\n(d) 会场总览-左侧\n\n\n\n\n\n\n\nFigure 1: 会场总览\n\n\n\n\n\n2022年度肿瘤登记工作先进单位颁奖仪式\n2022年度肿瘤登记工作杰出贡献奖（7项）\n\n林州市肿瘤医院\n西平县疾病预防控制中心\n偃师区疾病预防控制中心\n\n2022年度肿瘤登记工作优秀奖（18项）\n\n开封市祥符区疾病预防控制中心\n洛阳市疾病预防控制中心\n孟津县疾病预防控制中心\n新安县疾病预防控制中心\n栾川县疾病预防控制中心\n嵩县疾病预防控制中心\n汝阳县疾病预防控制中心\n鲁山县疾病预防控制中心\n鹤壁市人民医院\n辉县市疾病预防控制中心\n禹州市疾病预防控制中心\n漯河市郾城区疾病预防控制中心\n方城县疾病预防控制中心\n内乡县疾病预防控制中心\n罗山县疾病预防控制中心\n沈丘县疾病预防控制中心\n郸城县疾病预防控制中心\n济源市疾病预防控制中心\n\n2022年度肿瘤登记工作进步奖（7项）\n\n洛宁县疾病预防控制中心\n伊川县疾病预防控制中心\n濮阳市华龙区疾病预防控制中心\n濮阳县疾病预防控制中心\n三门峡市湖滨区疾病预防控制中心\n南阳市卧龙区疾病预防控制中心\n信阳市浉河区疾病预防控制中心\n\n2022年度肿瘤登记工作先进个人\n\n侯 凯(林州市肿瘤医院)\n秦延锦(偃师区疾病预防控制中心)\n闫云燕(洛阳市疾病预防控制中心)\n钞利娜(鹤壁市人民医院)\n代君君(漯河市疾病预防控制中心)\n刘彩霞(西平县疾病预防控制中心)\n李亚波(内乡县疾病预防控制中心)\n\n\n\n\n\n\n\n\n\n\n\n\n(a) 肿瘤登记杰出贡献奖\n\n\n\n\n\n\n\n\n\n\n\n(b) 肿瘤登记工作优秀奖-1\n\n\n\n\n\n\n\n\n\n\n\n(c) 肿瘤登记工作优秀奖-2\n\n\n\n\n\n\n\n\n\n\n\n\n\n(d) 肿瘤登记工作优秀奖-3\n\n\n\n\n\n\n\n\n\n\n\n(e) 肿瘤登记工作进步奖\n\n\n\n\n\n\n\n\n\n\n\n(f) 肿瘤登记工作先进个人\n\n\n\n\n\n\n\nFigure 2: 2022年度肿瘤登记工作先进单位颁奖仪式"
  },
  {
    "objectID": "packages/index.html",
    "href": "packages/index.html",
    "title": "普癌新声",
    "section": "",
    "text": "本模块分享开发相关软件内容。"
  },
  {
    "objectID": "packages/index.html#开发软件",
    "href": "packages/index.html#开发软件",
    "title": "普癌新声",
    "section": "",
    "text": "本模块分享开发相关软件内容。"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#人群肿瘤登记的目的和意义",
    "href": "slides/2023-4-20-cancer-registration/index.html#人群肿瘤登记的目的和意义",
    "title": "人群肿瘤随访登记",
    "section": "人群肿瘤登记的目的和意义",
    "text": "人群肿瘤登记的目的和意义\n\n\n\n\n\n\n什么是肿瘤登记？\n\n\n肿瘤登记是系统性、经常性收集有关肿瘤及肿瘤患者信息的统计制度。\n\n\n\n\n\n\n\n了解城乡居民癌症发病、死亡、生存情况\n掌握癌症的疾病负担与变化趋势\n了解癌症在不同地区和人群中的分布特征\n\n\n\n为制定癌症防控策略与措施、规划与计划提供科学依据\n为癌症的临床研究提供信息\n为癌症防控效果评价提供数据支持"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#肿瘤登记发展历史",
    "href": "slides/2023-4-20-cancer-registration/index.html#肿瘤登记发展历史",
    "title": "人群肿瘤随访登记",
    "section": "肿瘤登记发展历史",
    "text": "肿瘤登记发展历史"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#肿瘤登记覆盖情况",
    "href": "slides/2023-4-20-cancer-registration/index.html#肿瘤登记覆盖情况",
    "title": "人群肿瘤随访登记",
    "section": "肿瘤登记覆盖情况",
    "text": "肿瘤登记覆盖情况"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#组织架构",
    "href": "slides/2023-4-20-cancer-registration/index.html#组织架构",
    "title": "人群肿瘤随访登记",
    "section": "组织架构",
    "text": "组织架构\n\n\n\n省级登记处\n河南省癌症中心\n\n\n\n\n\n\n职责\n\n\n\n制定全省工作计划、实施方案、质量控制\n建立和完善肿瘤登记信息系统\n技术指导、人员培训、考核评价\n督导检查\n数据分析和报告\n\n\n\n\n\n市级登记处\n市级CDC/肿瘤医院\n\n\n\n\n\n\n职责\n\n\n\n区域内技术指导、人员培训\n市级质量控制\n督导检查\n数据分析和报告\n\n\n\n\n\n县区级登记处\n县区级CDC\n\n\n\n\n\n\n职责\n\n\n\n技术指导、人员培训\n质量控制\n督导检查\n统计分析、数据发布\n\n\n\n\n\n\n数据来源: 河南省肿瘤登记管理办法"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#收集数据内容",
    "href": "slides/2023-4-20-cancer-registration/index.html#收集数据内容",
    "title": "人群肿瘤随访登记",
    "section": "收集数据内容",
    "text": "收集数据内容\n\n肿瘤登记收集一定人群中所有恶性肿瘤、中枢神经系统良性肿瘤以及原位癌。 \n\n\n\n\n肿瘤上报范围(ICD10)\n\nC00-C97\nD32-D33\nD42-D43\nD45-D47\n原位癌\n\n\n人口数据\n\n以县区为单位收集登记处覆盖人群分年龄、分性别户籍人口数\n\n\n寿命表数据\n\n以县区为单位收集登记处覆盖人群分年龄、分性别全死因死亡数以估计寿命表"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#数据项目",
    "href": "slides/2023-4-20-cancer-registration/index.html#数据项目",
    "title": "人群肿瘤随访登记",
    "section": "数据项目",
    "text": "数据项目\n\n\n\n肿瘤登记收集的变量包括以下7个部分（图 1）\n\n\n个人识别信息\n人口学信息\n肿瘤信息\n治疗信息\n随访信息\n预后信息\n信息来源\n\n\n\n\n\n\n\n\nclassDiagram\n    class 个人识别信息 {\n    登记处编号\n    身份证号\n    姓名\n    户籍地址\n    常住地址\n}\n    class 人口学信息 {\n    性别\n    年龄\n    出生日期\n    婚姻状态\n    职业\n    民族\n}\n    class 肿瘤信息 {\n    发病日期\n    诊断依据\n    原发部位ICDO3\n    形态学ICDO3\n    行为ICDO3\n    分级ICDO3\n    临床分期/TNM分期\n    多原发状态\n    双边性\n}\n    class 治疗信息 {\n    治疗方法\n}\n    class 随访相关信息 {\n    联系电话\n    联系人\n    联系人电话\n    常住地址\n}\n    class 结局信息 {\n    最后接触日期\n    生存状态\n    死亡日期\n    死亡原因\n    死亡地点\n}\n    class 信息来源 {\n    报告医院\n    住院号/门诊号\n    报告医师\n    报告日期\n}\n\n    个人识别信息 --|&gt; 人口学信息\n    个人识别信息 --|&gt; 肿瘤信息\n    个人识别信息 --|&gt; 治疗信息\n    个人识别信息 --|&gt; 随访相关信息\n    个人识别信息 --|&gt; 结局信息\n    个人识别信息 --|&gt; 信息来源\n\n\n\n\n图 1: 人群肿瘤登记收集数据项目"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#数据来源",
    "href": "slides/2023-4-20-cancer-registration/index.html#数据来源",
    "title": "人群肿瘤随访登记",
    "section": "数据来源",
    "text": "数据来源\n\n肿瘤登记强调多源上报、数据来源于医院、医保系统、县-乡-村医师网、全死因数据等。（图 2 ）\n\n\n\n\n\n\n\nflowchart TD\n  A[(肿瘤登记数据库)] --&gt; B(医院)\n  A --&gt; B\n  A --&gt; C(县-乡-村三级医师网络)\n  A --&gt; D(医疗保险)\n  A --&gt; E(死因监测)\n  A --&gt; F(殡葬系统)\n  A --&gt; G(公安系统)\n  B --&gt; b1(住院患者数据)\n  B --&gt; b2(门诊患者数据)\n  B --&gt; b3(病案部门)\n  B --&gt; b4(病理诊断部门)\n  D --&gt; d1(新农合)\n  D --&gt; d2(城镇医保)\n  D --&gt; d3(职工医保)\n\n\n\n\n图 2: 肿瘤登记数据来源渠道"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#数据来源城市vs农村",
    "href": "slides/2023-4-20-cancer-registration/index.html#数据来源城市vs农村",
    "title": "人群肿瘤随访登记",
    "section": "数据来源：城市VS农村",
    "text": "数据来源：城市VS农村\n\n\n\n城市地区和农村地区数据来源略有不同\n\n\n城市地区数据更依赖医院，农村地区数据来源在医院的基础上，还要有县-乡-村医师网络的数据 （图 3 ， 图 4）\n\n\n\n\n\n\n\n\nflowchart TD\n  A[(城市登记处)] --&gt; B(主要来源)\n  A --&gt; C(补充来源)\n  B --&gt; D(临床医生)\n  B --&gt; E(病案室)\n  B --&gt; F(病理科)\n  C --&gt; G(城镇医保)\n  C --&gt; H(死因监测)\n  C --&gt; I(殡葬系统)\n  C --&gt; J(公安系统)\n\n\n\n\n图 3: 城市地区肿瘤登记数据来源情况\n\n\n\n\n\n\n\n\n\n\n\nflowchart TD\n  A[(农村登记处)] --&gt; B(主要来源)\n  A --&gt; C(补充来源)\n  B --&gt; D(医院)\n  B --&gt; E(村医)\n  B --&gt; F(新农合)\n  B --&gt; G(城镇医保)\n  C --&gt; H(死因监测)\n  C --&gt; I(殡葬系统)\n  C --&gt; J(公安系统)\n\n\n\n\n图 4: 农村地区肿瘤登记数据来源情况"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#肿瘤分类与编码",
    "href": "slides/2023-4-20-cancer-registration/index.html#肿瘤分类与编码",
    "title": "人群肿瘤随访登记",
    "section": "肿瘤分类与编码",
    "text": "肿瘤分类与编码\n\n\n\n\n肿瘤登记采用双编码系统\n\n分类标准\n\nICD-O-3 ：数据收集\nICD10 ：统计分析\n\n\n《肿瘤登记年报》采用ICD10进行肿瘤分类（表 1）\n\n\n\n\n\n\n表 1: 常用癌症分类统计表（大类）\n\n\n\n\n\n\n部位\nICD10\n\n\n\n\n口腔和咽 (除外鼻咽癌和喉)\nC00-10,C12-14（除外C10.1）\n\n\n鼻咽癌\nC11\n\n\n食管\nC15\n\n\n胃\nC16\n\n\n结直肠肛门\nC18-21\n\n\n肝脏\nC22\n\n\n胆囊及其他\nC23-C24\n\n\n胰腺\nC25\n\n\n喉\nC32，C10.1\n\n\n气管、支气管、肺\nC33-C34\n\n\n骨\nC40-C41\n\n\n乳房\nC50\n\n\n子宫颈\nC53\n\n\n子宫体及子宫部位不明\nC54-55\n\n\n卵巢\nC56\n\n\n前列腺\nC61\n\n\n睾丸\nC62\n\n\n肾及泌尿系统不明\nC64-66，68\n\n\n膀胱\nC67\n\n\n脑,神经系统\nC70-C72\n\n\n甲状腺\nC73\n\n\n淋巴瘤\nC81-85,88,90,96\n\n\n白血病\nC91-C95\n\n\n其它\nOther（除外以上）\n\n\n所有部位合计\nALL"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#肿瘤分类与编码-1",
    "href": "slides/2023-4-20-cancer-registration/index.html#肿瘤分类与编码-1",
    "title": "人群肿瘤随访登记",
    "section": "肿瘤分类与编码",
    "text": "肿瘤分类与编码\nICD-O-3 编码\n\nICD-O-3编码是由4位解剖学部位编码、4位形态学编码、1位行为编码和1位分级编码共十位编码组成的肿瘤分类编码。\n\n\n解剖学部位编码(Topo)：C34.9\n形态学编码：M8140\n行为编码：3\n分级编码：1"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#肿瘤分类与编码-2",
    "href": "slides/2023-4-20-cancer-registration/index.html#肿瘤分类与编码-2",
    "title": "人群肿瘤随访登记",
    "section": "肿瘤分类与编码",
    "text": "肿瘤分类与编码\nICD-O-3 解剖学部位编码(Topo)\n\n\n解剖学部位编码(Topo)由写大写字母C开头+两位数字+小数点+一位数字组成，用来描述肿瘤发生部位相关信息。\n\n\nC34.1 (小数点之前描述主要部位，小数点之后描述亚部位)\nC34：肺\n1：上叶"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#肿瘤分类与编码-3",
    "href": "slides/2023-4-20-cancer-registration/index.html#肿瘤分类与编码-3",
    "title": "人群肿瘤随访登记",
    "section": "肿瘤分类与编码",
    "text": "肿瘤分类与编码\nICD-O-3 形态学编码(Morp)\n\n\nICDO3形态学编码由组织学、行为和分级编码组成，以描述肿瘤发生的性质。\n\n\nM组织学/行为/分级\nM8070/33\n鳞状细胞癌 恶性 低分化"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#肿瘤分类与编码-4",
    "href": "slides/2023-4-20-cancer-registration/index.html#肿瘤分类与编码-4",
    "title": "人群肿瘤随访登记",
    "section": "肿瘤分类与编码",
    "text": "肿瘤分类与编码\nICD-O-3 行为编码\n\n\n0 ：良性\n1 ：良性或恶性未肯定\n2 ：原位癌\n3 ：恶性，原发部位\n6 ：恶性，原发部位/恶性，继发部位\n9 ：恶性，原发部位或转移部位未肯定"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#肿瘤分类与编码-5",
    "href": "slides/2023-4-20-cancer-registration/index.html#肿瘤分类与编码-5",
    "title": "人群肿瘤随访登记",
    "section": "肿瘤分类与编码",
    "text": "肿瘤分类与编码\nICD-O-3 分化程度编码\n\n\n\n\n\n编码\n意义\n\n\n\n\n1\n高分化\n\n\n2\n中分化\n\n\n3\n低分化\n\n\n4\n未分化\n\n\n5\nT-细胞\n\n\n6\nB-细胞\n\n\n7\n非T-非B\n\n\n8\nNK细胞\n\n\n9\n分化程度未确定"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#肿瘤分类与编码-6",
    "href": "slides/2023-4-20-cancer-registration/index.html#肿瘤分类与编码-6",
    "title": "人群肿瘤随访登记",
    "section": "肿瘤分类与编码",
    "text": "肿瘤分类与编码\nICD-O-3解剖学部位与ICD10有何异同？"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#质量控制",
    "href": "slides/2023-4-20-cancer-registration/index.html#质量控制",
    "title": "人群肿瘤随访登记",
    "section": "质量控制",
    "text": "质量控制\n\n\n\n\n\n\n\n\n质量控制的意义\n\n\n\n使不同地区之间的数据具有可比性\n代表登记处所在地区的癌症人群\n使癌症数据真实有效\n\n\n\n\n\n\n\n\n\n\n\n\nflowchart LR\n  A[质量控制指标] --&gt; B(可比性)\n  A --&gt; C(完整性)\n  A --&gt; D(有效性)\n  A --&gt; E(时效性)\n  B --&gt; b1(发病的定义)\n  B --&gt; b2(多原发判断)\n  B --&gt; b3(分类与编码)\n  B --&gt; b4(死亡证明)\n  C --&gt; c1(死亡发病比M:I)\n  C --&gt; c2(只有死亡医学证明书比例DCO%)\n  C --&gt; c3(组织学确诊比例MV%)\n  C --&gt; c4(不同时间发病率的稳定性)\n  C --&gt; c5(年龄别发病率曲线)\n  D --&gt; d1(组织学确诊比例)\n  D --&gt; d2(只有死亡医学证明书比例DC\\%)\n  D --&gt; d3(部位不明比例UB%)\n  D --&gt; d4(数据内部一致性)\n\n\n\n\n图 5: 肿瘤登记质量控制指标体系\n\n\n\n\n\n\n\n采用IARC/IACR国际质量控制标准"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#质量控制-1",
    "href": "slides/2023-4-20-cancer-registration/index.html#质量控制-1",
    "title": "人群肿瘤随访登记",
    "section": "质量控制",
    "text": "质量控制\n\n\n肿瘤登记收集的变量或者变量组合之间存在一定的逻辑关系，通过对单个变量或变量组合之间的逻辑关系进行审查，以提高肿瘤登记数据有效性。\n\n\n\n\n\n\n\n\n\n单个项目\n\n\n\n出生日期\n发病日期\n年龄、性别\n发病部位\n形态学\n行为和分级\n\n\n\n\n\n\n\n\n\n\n\n项目组合\n\n\n\n性别/部位\n部位/组织学学\n年龄/部位/组织学\n行为/部位\n行为/组织学\n性别/组织学\n\n\n\n\n\n\n\n\n\n\n\n校验结果\n\n\n\n正确✅\n警告⚠️\n错误❌"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#质量控制-2",
    "href": "slides/2023-4-20-cancer-registration/index.html#质量控制-2",
    "title": "人群肿瘤随访登记",
    "section": "质量控制",
    "text": "质量控制\n完整性指标\n\n\n癌症患者\n\n\n诊断患者\n\n\n肿瘤登记"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#质量控制-3",
    "href": "slides/2023-4-20-cancer-registration/index.html#质量控制-3",
    "title": "人群肿瘤随访登记",
    "section": "质量控制",
    "text": "质量控制\n完整性指标\n\n\n癌症患者\n\n\n诊断患者\n\n\n肿瘤登记"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#质量控制-完整性指标",
    "href": "slides/2023-4-20-cancer-registration/index.html#质量控制-完整性指标",
    "title": "人群肿瘤随访登记",
    "section": "质量控制-完整性指标",
    "text": "质量控制-完整性指标\n率的连续性"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#质量控制-完整性指标-1",
    "href": "slides/2023-4-20-cancer-registration/index.html#质量控制-完整性指标-1",
    "title": "人群肿瘤随访登记",
    "section": "质量控制-完整性指标",
    "text": "质量控制-完整性指标\n率的连续性"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#质量控制-完整性指标-2",
    "href": "slides/2023-4-20-cancer-registration/index.html#质量控制-完整性指标-2",
    "title": "人群肿瘤随访登记",
    "section": "质量控制-完整性指标",
    "text": "质量控制-完整性指标\n相邻区域率的比较"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#质量控制-完整性指标-3",
    "href": "slides/2023-4-20-cancer-registration/index.html#质量控制-完整性指标-3",
    "title": "人群肿瘤随访登记",
    "section": "质量控制-完整性指标",
    "text": "质量控制-完整性指标\n年龄别发病率"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#质量控制-完整性指标-4",
    "href": "slides/2023-4-20-cancer-registration/index.html#质量控制-完整性指标-4",
    "title": "人群肿瘤随访登记",
    "section": "质量控制-完整性指标",
    "text": "质量控制-完整性指标\n死亡发病比(M:I)-连续性"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#质量控制-完整性指标-5",
    "href": "slides/2023-4-20-cancer-registration/index.html#质量控制-完整性指标-5",
    "title": "人群肿瘤随访登记",
    "section": "质量控制-完整性指标",
    "text": "质量控制-完整性指标\n死亡发病比(M:I)-比较"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#质量控制-有效性指标",
    "href": "slides/2023-4-20-cancer-registration/index.html#质量控制-有效性指标",
    "title": "人群肿瘤随访登记",
    "section": "质量控制-有效性指标",
    "text": "质量控制-有效性指标\n病理诊断比例(MV%)-连续性"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#质量控制-有效性指标-1",
    "href": "slides/2023-4-20-cancer-registration/index.html#质量控制-有效性指标-1",
    "title": "人群肿瘤随访登记",
    "section": "质量控制-有效性指标",
    "text": "质量控制-有效性指标\n病理诊断比例(MV%)-比较"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#质量控制报告",
    "href": "slides/2023-4-20-cancer-registration/index.html#质量控制报告",
    "title": "人群肿瘤随访登记",
    "section": "质量控制报告",
    "text": "质量控制报告"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#数据收集系统的发展",
    "href": "slides/2023-4-20-cancer-registration/index.html#数据收集系统的发展",
    "title": "人群肿瘤随访登记",
    "section": "数据收集系统的发展",
    "text": "数据收集系统的发展"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#最新肿瘤登记系统登录界面",
    "href": "slides/2023-4-20-cancer-registration/index.html#最新肿瘤登记系统登录界面",
    "title": "人群肿瘤随访登记",
    "section": "最新肿瘤登记系统登录界面",
    "text": "最新肿瘤登记系统登录界面"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#实现专业功能",
    "href": "slides/2023-4-20-cancer-registration/index.html#实现专业功能",
    "title": "人群肿瘤随访登记",
    "section": "实现专业功能",
    "text": "实现专业功能\n\n\n\n已升级功能\n\n数据上报\n重卡判断\n多原发卡判断\n被动随访\n随访管理\n机构管理\n其他辅助功能\n\n\n\n待升级功能\n\n常规数据分析\n质量控制可视化\n发病地理信息管理\n就医历史纵向追踪\n\n\n\n磨刀不误砍柴工，我们将继续不断完善升级肿瘤随访登记信息收集系统，提高数据收集效率"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#新系统设计思路",
    "href": "slides/2023-4-20-cancer-registration/index.html#新系统设计思路",
    "title": "人群肿瘤随访登记",
    "section": "新系统设计思路",
    "text": "新系统设计思路\n\n\n\n\n新系统围绕人口身份识别信息，不断更新肿瘤信息、随访信息、地理信息等（图 6）\n\n\n\n追踪就医历史记录\n多渠道更新随访信息\n追踪患者地理信息\n多渠道数据来源上报\n\n\n\n\n\n\n\n\nflowchart LR\n  A[人口身份识别信息] --&gt; B[肿瘤信息]\n  A --&gt; C[随访信息]\n  A --&gt; D[信息来源]\n  A --&gt; E[地理信息]\n  x[肿瘤数据上报] --&gt; A\n  y[全死因数据上报] --&gt; A\n  z[肿瘤协查数据上报] --&gt; A\n  \n\n\n\n\n图 6: 河南省肿瘤随访登记信息平台\n\n\n\n\n\n\n\n\n保证人口信息数据的唯一性特别重要，也是重卡合并、多原发标记和更新随访数据的基础。"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#肿瘤数据上传操作",
    "href": "slides/2023-4-20-cancer-registration/index.html#肿瘤数据上传操作",
    "title": "人群肿瘤随访登记",
    "section": "肿瘤数据上传操作",
    "text": "肿瘤数据上传操作\n \n\n\n✅上传渠道\n\n手动录入\n批量导入(医院，HIS)\n批量导入(全死因，CAUS)\n数据协查(其他医院共享数据)\n\n\n\n\n\n\n\n\n\n\n图 7: 手工录入界面"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#肿瘤数据上传操作-1",
    "href": "slides/2023-4-20-cancer-registration/index.html#肿瘤数据上传操作-1",
    "title": "人群肿瘤随访登记",
    "section": "肿瘤数据上传操作",
    "text": "肿瘤数据上传操作\n\nHIS数据上传"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#肿瘤数据上传操作-2",
    "href": "slides/2023-4-20-cancer-registration/index.html#肿瘤数据上传操作-2",
    "title": "人群肿瘤随访登记",
    "section": "肿瘤数据上传操作",
    "text": "肿瘤数据上传操作\n\n死因数据上传"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#肿瘤数据上传操作-3",
    "href": "slides/2023-4-20-cancer-registration/index.html#肿瘤数据上传操作-3",
    "title": "人群肿瘤随访登记",
    "section": "肿瘤数据上传操作",
    "text": "肿瘤数据上传操作\n\n肿瘤数据协查"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#数据查重",
    "href": "slides/2023-4-20-cancer-registration/index.html#数据查重",
    "title": "人群肿瘤随访登记",
    "section": "数据查重",
    "text": "数据查重\n查重推荐操作流程\n\n\n人口信息的查重特别重要，在肿瘤病例的查重之前，需要先做人口信息查重（图 8）\n\n\n\n\n\n\n\n\nflowchart LR\n  x[肿瘤数据上报] --&gt; A[更新人口信息]\n  y[全死因数据上报] --&gt; A\n  z[肿瘤协查数据上报] --&gt; A\n  A --&gt; B[人口信息查重]\n  B --&gt; C[查重肿瘤信息]\n  C --&gt; D[标记多原发肿瘤]\n\n\n\n\n图 8: 新系统数据操作流程（建议）"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#数据查重-1",
    "href": "slides/2023-4-20-cancer-registration/index.html#数据查重-1",
    "title": "人群肿瘤随访登记",
    "section": "数据查重",
    "text": "数据查重\n人口信息查重"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#数据查重-2",
    "href": "slides/2023-4-20-cancer-registration/index.html#数据查重-2",
    "title": "人群肿瘤随访登记",
    "section": "数据查重",
    "text": "数据查重\n肿瘤信息查重"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#数据查重-3",
    "href": "slides/2023-4-20-cancer-registration/index.html#数据查重-3",
    "title": "人群肿瘤随访登记",
    "section": "数据查重",
    "text": "数据查重\n肿瘤信息查重"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#数据查重-4",
    "href": "slides/2023-4-20-cancer-registration/index.html#数据查重-4",
    "title": "人群肿瘤随访登记",
    "section": "数据查重",
    "text": "数据查重\n肿瘤信息查重"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#死亡补发病",
    "href": "slides/2023-4-20-cancer-registration/index.html#死亡补发病",
    "title": "人群肿瘤随访登记",
    "section": "死亡补发病",
    "text": "死亡补发病\n\n死亡补发病流程是提高肿瘤登记处数据完整性的关键措施，每年应在上传全死因数据之后，应通过系统查找关键词肿瘤|未匹配，然后，点击后面的编辑按钮，补充相应的发病信息。"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#死亡补发病流程",
    "href": "slides/2023-4-20-cancer-registration/index.html#死亡补发病流程",
    "title": "人群肿瘤随访登记",
    "section": "死亡补发病流程",
    "text": "死亡补发病流程\n\n\n\n\n\n\nflowchart LR\n  A[全死因数据] --&gt; B[上传至信息系统]\n  B --&gt; C[与肿瘤发病数据匹配]\n  C --&gt; D{判断是否匹配}\n  D -- 匹配 --&gt; E[被动随访成功]\n  D -- 肿瘤死亡未匹配 --&gt; F[追溯病例发病信息]\n  a(医院) --&gt; F\n  b(医保系统) --&gt; F\n  c(县-乡-村-医生) --&gt; F\n  F --&gt; G[(补充肿瘤发病数据库)]\n  \n\n\n\n\n图 9: 河南省肿瘤登记死亡补发病流程"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#随访功能",
    "href": "slides/2023-4-20-cancer-registration/index.html#随访功能",
    "title": "人群肿瘤随访登记",
    "section": "随访功能",
    "text": "随访功能\n被动随访"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#随访功能-1",
    "href": "slides/2023-4-20-cancer-registration/index.html#随访功能-1",
    "title": "人群肿瘤随访登记",
    "section": "随访功能",
    "text": "随访功能\n主动随访"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#随访功能-2",
    "href": "slides/2023-4-20-cancer-registration/index.html#随访功能-2",
    "title": "人群肿瘤随访登记",
    "section": "随访功能",
    "text": "随访功能\n主动随访"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#人口数据上报",
    "href": "slides/2023-4-20-cancer-registration/index.html#人口数据上报",
    "title": "人群肿瘤随访登记",
    "section": "人口数据上报",
    "text": "人口数据上报"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#寿命表数据上报",
    "href": "slides/2023-4-20-cancer-registration/index.html#寿命表数据上报",
    "title": "人群肿瘤随访登记",
    "section": "寿命表数据上报",
    "text": "寿命表数据上报"
  },
  {
    "objectID": "slides/2023-4-20-cancer-registration/index.html#section-1",
    "href": "slides/2023-4-20-cancer-registration/index.html#section-1",
    "title": "人群肿瘤随访登记",
    "section": "",
    "text": "陈琼，博士，副主任医师\n硕士研究生导师\n🏥河南省癌症中心、郑州大学附属肿瘤医院/河南省肿瘤医院\n👨‍⚕️2012年为美国耶鲁大学访问学者\n␘中国抗癌协会癌症筛查与早诊早治专委会青年委员\n📕《河南省肿瘤登记年报》副主编\n📙中华肿瘤防治杂志青年编委\n📚长期从事肿瘤流行病学、恶性肿瘤监测以及筛查效果评价相关工作，发表相关专业论文30余篇，SCI论文十余篇。\n\n\n个人网站：普癌新声https://www.chenq.site"
  },
  {
    "objectID": "slides/2023-5-11-area-canreg/index.html#年肿瘤登记数据上报内容",
    "href": "slides/2023-5-11-area-canreg/index.html#年肿瘤登记数据上报内容",
    "title": "河南省2020年度肿瘤登记数据质控情况",
    "section": "2020年肿瘤登记数据上报内容",
    "text": "2020年肿瘤登记数据上报内容\n \n\n\n上报内容\n\n2020年癌症发病病例\n2020年癌症死亡病例\n2020年分年龄分性别户籍人口数\n2020年寿命表数据(分年龄、性别全因死亡数)\n\n\n建议系统操作\n\n批量上传全死因数据（不仅仅是肿瘤）\n死亡补发病操作\n病例查重（人口、发病）"
  },
  {
    "objectID": "slides/2023-5-11-area-canreg/index.html#郑州市",
    "href": "slides/2023-5-11-area-canreg/index.html#郑州市",
    "title": "河南省2020年度肿瘤登记数据质控情况",
    "section": "郑州市",
    "text": "郑州市\n\n\n\n\n\n\n\n\n\n\n\n本统计结果为质量控制过程结果，为非正式数据，请谨慎引用。"
  },
  {
    "objectID": "slides/2023-5-11-area-canreg/index.html#开封市",
    "href": "slides/2023-5-11-area-canreg/index.html#开封市",
    "title": "河南省2020年度肿瘤登记数据质控情况",
    "section": "开封市",
    "text": "开封市\n\n\n\n\n\n\n\n\n\n\n\n本统计结果为质量控制过程结果，为非正式数据，请谨慎引用。"
  },
  {
    "objectID": "slides/2023-5-11-area-canreg/index.html#洛阳市",
    "href": "slides/2023-5-11-area-canreg/index.html#洛阳市",
    "title": "河南省2020年度肿瘤登记数据质控情况",
    "section": "洛阳市",
    "text": "洛阳市\n\n\n\n\n\n\n\n\n\n\n\n本统计结果为质量控制过程结果，为非正式数据，请谨慎引用。"
  },
  {
    "objectID": "slides/2023-5-11-area-canreg/index.html#平顶山市",
    "href": "slides/2023-5-11-area-canreg/index.html#平顶山市",
    "title": "河南省2020年度肿瘤登记数据质控情况",
    "section": "平顶山市",
    "text": "平顶山市\n\n\n\n\n\n\n\n\n\n\n\n本统计结果为质量控制过程结果，为非正式数据，请谨慎引用。"
  },
  {
    "objectID": "slides/2023-5-11-area-canreg/index.html#安阳市",
    "href": "slides/2023-5-11-area-canreg/index.html#安阳市",
    "title": "河南省2020年度肿瘤登记数据质控情况",
    "section": "安阳市",
    "text": "安阳市\n\n\n\n\n\n\n\n\n\n\n\n本统计结果为质量控制过程结果，为非正式数据，请谨慎引用。"
  },
  {
    "objectID": "slides/2023-5-11-area-canreg/index.html#鹤壁市",
    "href": "slides/2023-5-11-area-canreg/index.html#鹤壁市",
    "title": "河南省2020年度肿瘤登记数据质控情况",
    "section": "鹤壁市",
    "text": "鹤壁市\n\n\n\n\n\n\n\n\n\n\n\n本统计结果为质量控制过程结果，为非正式数据，请谨慎引用。"
  },
  {
    "objectID": "slides/2023-5-11-area-canreg/index.html#新乡市",
    "href": "slides/2023-5-11-area-canreg/index.html#新乡市",
    "title": "河南省2020年度肿瘤登记数据质控情况",
    "section": "新乡市",
    "text": "新乡市\n\n\n\n\n\n\n\n\n\n\n\n本统计结果为质量控制过程结果，为非正式数据，请谨慎引用。"
  },
  {
    "objectID": "slides/2023-5-11-area-canreg/index.html#焦作市",
    "href": "slides/2023-5-11-area-canreg/index.html#焦作市",
    "title": "河南省2020年度肿瘤登记数据质控情况",
    "section": "焦作市",
    "text": "焦作市\n\n\n\n\n\n\n\n\n\n\n\n本统计结果为质量控制过程结果，为非正式数据，请谨慎引用。"
  },
  {
    "objectID": "slides/2023-5-11-area-canreg/index.html#濮阳市",
    "href": "slides/2023-5-11-area-canreg/index.html#濮阳市",
    "title": "河南省2020年度肿瘤登记数据质控情况",
    "section": "濮阳市",
    "text": "濮阳市\n\n\n\n\n\n\n\n\n\n\n\n本统计结果为质量控制过程结果，为非正式数据，请谨慎引用。"
  },
  {
    "objectID": "slides/2023-5-11-area-canreg/index.html#许昌市",
    "href": "slides/2023-5-11-area-canreg/index.html#许昌市",
    "title": "河南省2020年度肿瘤登记数据质控情况",
    "section": "许昌市",
    "text": "许昌市\n\n\n\n\n\n\n\n\n\n\n\n本统计结果为质量控制过程结果，为非正式数据，请谨慎引用。"
  },
  {
    "objectID": "slides/2023-5-11-area-canreg/index.html#漯河市",
    "href": "slides/2023-5-11-area-canreg/index.html#漯河市",
    "title": "河南省2020年度肿瘤登记数据质控情况",
    "section": "漯河市",
    "text": "漯河市\n\n\n\n\n\n\n\n\n\n\n\n本统计结果为质量控制过程结果，为非正式数据，请谨慎引用。"
  },
  {
    "objectID": "slides/2023-5-11-area-canreg/index.html#三门峡市",
    "href": "slides/2023-5-11-area-canreg/index.html#三门峡市",
    "title": "河南省2020年度肿瘤登记数据质控情况",
    "section": "三门峡市",
    "text": "三门峡市\n\n\n\n\n\n\n\n\n\n\n\n本统计结果为质量控制过程结果，为非正式数据，请谨慎引用。"
  },
  {
    "objectID": "slides/2023-5-11-area-canreg/index.html#南阳市",
    "href": "slides/2023-5-11-area-canreg/index.html#南阳市",
    "title": "河南省2020年度肿瘤登记数据质控情况",
    "section": "南阳市",
    "text": "南阳市\n\n\n\n\n\n\n\n\n\n\n\n本统计结果为质量控制过程结果，为非正式数据，请谨慎引用。"
  },
  {
    "objectID": "slides/2023-5-11-area-canreg/index.html#商丘市",
    "href": "slides/2023-5-11-area-canreg/index.html#商丘市",
    "title": "河南省2020年度肿瘤登记数据质控情况",
    "section": "商丘市",
    "text": "商丘市\n\n\n\n\n\n\n\n\n\n\n\n本统计结果为质量控制过程结果，为非正式数据，请谨慎引用。"
  },
  {
    "objectID": "slides/2023-5-11-area-canreg/index.html#信阳市",
    "href": "slides/2023-5-11-area-canreg/index.html#信阳市",
    "title": "河南省2020年度肿瘤登记数据质控情况",
    "section": "信阳市",
    "text": "信阳市\n\n\n\n\n\n\n\n\n\n\n\n本统计结果为质量控制过程结果，为非正式数据，请谨慎引用。"
  },
  {
    "objectID": "slides/2023-5-11-area-canreg/index.html#周口市",
    "href": "slides/2023-5-11-area-canreg/index.html#周口市",
    "title": "河南省2020年度肿瘤登记数据质控情况",
    "section": "周口市",
    "text": "周口市\n\n\n\n\n\n\n\n\n\n\n\n本统计结果为质量控制过程结果，为非正式数据，请谨慎引用。"
  },
  {
    "objectID": "slides/2023-5-11-area-canreg/index.html#驻马店市",
    "href": "slides/2023-5-11-area-canreg/index.html#驻马店市",
    "title": "河南省2020年度肿瘤登记数据质控情况",
    "section": "驻马店市",
    "text": "驻马店市\n\n\n\n\n\n\n\n\n\n\n\n本统计结果为质量控制过程结果，为非正式数据，请谨慎引用。"
  },
  {
    "objectID": "slides/2023-5-11-area-canreg/index.html#省直管",
    "href": "slides/2023-5-11-area-canreg/index.html#省直管",
    "title": "河南省2020年度肿瘤登记数据质控情况",
    "section": "省直管",
    "text": "省直管\n\n\n\n\n\n\n\n\n\n\n\n本统计结果为质量控制过程结果，为非正式数据，请谨慎引用。"
  },
  {
    "objectID": "slides/canreg/canreg-report-2023-5-16/index.html",
    "href": "slides/canreg/canreg-report-2023-5-16/index.html",
    "title": "R语言促进高效率肿瘤登记报告",
    "section": "",
    "text": "Back to top"
  },
  {
    "objectID": "slides/index.html",
    "href": "slides/index.html",
    "title": "普癌新声",
    "section": "",
    "text": "Order By\n      Default\n      \n        Title\n      \n      \n        Date - Oldest\n      \n      \n        Date - Newest\n      \n      \n        Author\n      \n    \n  \n    \n      \n      \n    \n\n\n\n\n\n\n\n\n\n\n\n\n肿瘤登记\n\n年报\n\n\n\n2023年5月16日，我有幸与郑州大学流行病学的老师们交流学习，我也向大家汇报了河南省肿瘤登记工作的基本内容以及基于R Markdown/Quarto的可重复性报告在肿瘤登记工作中的应用，现在我把幻灯在这里跟大家分享，如果您发现有错误，请与我联系！\n\n\n\n陈琼\n\n\n2023-05-16\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n肿瘤登记\n\n直报系统\n\n\n\n2023年4月20日，我有幸参加了漯河市举办的全市肿瘤登记培训班，从肿瘤登记的内容、方法、流程以及肿瘤登记直报网络系统等方面，有幸与市里肿瘤登记的老师们沟通交流，\n\n\n\n陈琼\n\n\n2023-04-20\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "slides/index.html#肿瘤登记",
    "href": "slides/index.html#肿瘤登记",
    "title": "普癌新声",
    "section": "",
    "text": "Order By\n      Default\n      \n        Title\n      \n      \n        Date - Oldest\n      \n      \n        Date - Newest\n      \n      \n        Author\n      \n    \n  \n    \n      \n      \n    \n\n\n\n\n\n\n\n\n\n\n\n\n肿瘤登记\n\n年报\n\n\n\n2023年5月16日，我有幸与郑州大学流行病学的老师们交流学习，我也向大家汇报了河南省肿瘤登记工作的基本内容以及基于R Markdown/Quarto的可重复性报告在肿瘤登记工作中的应用，现在我把幻灯在这里跟大家分享，如果您发现有错误，请与我联系！\n\n\n\n陈琼\n\n\n2023-05-16\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n肿瘤登记\n\n直报系统\n\n\n\n2023年4月20日，我有幸参加了漯河市举办的全市肿瘤登记培训班，从肿瘤登记的内容、方法、流程以及肿瘤登记直报网络系统等方面，有幸与市里肿瘤登记的老师们沟通交流，\n\n\n\n陈琼\n\n\n2023-04-20\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "slides/index.html#科技写作",
    "href": "slides/index.html#科技写作",
    "title": "普癌新声",
    "section": "科技写作",
    "text": "科技写作\n\n\n    \n      \n      \n    \n\n\n\n\n\n\n\n\n\n\n科技写作，我选择使用quarto\n\n\n\n\n\n\n\n\n2023-03-02\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "publications/firstauthor/2010-叶酸.html",
    "href": "publications/firstauthor/2010-叶酸.html",
    "title": "甘肃省孕产妇对叶酸增补知识认知现况调查",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/firstauthor/2018-sos1.html",
    "href": "publications/firstauthor/2018-sos1.html",
    "title": "SOS1 gene polymorphisms are associated with gestational diabetes mellitus in a Chinese population: Results from a nested case-control study in Taiyuan, China",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/firstauthor/2017-annual report.html",
    "href": "publications/firstauthor/2017-annual report.html",
    "title": "2017河南省肿瘤登记年报",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/firstauthor/2022-10-23-guideline/index.html",
    "href": "publications/firstauthor/2022-10-23-guideline/index.html",
    "title": "以人群为基础的肿瘤登记建设规范",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/firstauthor/2011-硕士毕业论文.html",
    "href": "publications/firstauthor/2011-硕士毕业论文.html",
    "title": "甘肃省孕产妇对叶酸增补知识认知现况调查",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/firstauthor/2018-lung-cancer.html",
    "href": "publications/firstauthor/2018-lung-cancer.html",
    "title": "2014年河南省肺癌发病与死亡情况估计",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/firstauthor/2016-screening-effect-gastric.html",
    "href": "publications/firstauthor/2016-screening-effect-gastric.html",
    "title": "Effectiveness of endoscopic gastric cancer screening in a rural area of Linzhou, China: results from a case-control study",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/firstauthor/2023-5-12-1719-cancer-survival/index.html",
    "href": "publications/firstauthor/2023-5-12-1719-cancer-survival/index.html",
    "title": "河南省恶性肿瘤2017-2019年5年相对生存率分析",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/firstauthor/2022-10-22-childhood-cancer-survival/index.html",
    "href": "publications/firstauthor/2022-10-22-childhood-cancer-survival/index.html",
    "title": "2010-2014年河南省儿童和青少年恶性肿瘤生存分析",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/firstauthor/2019-cdkal1.html",
    "href": "publications/firstauthor/2019-cdkal1.html",
    "title": "Single Nucleotide Polymorphisms in CDKAL1 Gene Are Associated with Risk of Gestational Diabetes Mellitus in Chinese Population",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/firstauthor/2018-uppergastrointestinal.html",
    "href": "publications/firstauthor/2018-uppergastrointestinal.html",
    "title": "林州市上消化道癌内窥镜筛查效果评价研究",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/firstauthor/2018-博士毕业论文.html",
    "href": "publications/firstauthor/2018-博士毕业论文.html",
    "title": "饮食模式及胰岛素信号通路基因多态性与妊娠期糖尿病发病风险的关系",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/firstauthor/2022-11-03-screening-cure/index.html",
    "href": "publications/firstauthor/2022-11-03-screening-cure/index.html",
    "title": "胃癌内镜筛查对统计治愈比例的影响",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/firstauthor/2019-cancer.html",
    "href": "publications/firstauthor/2019-cancer.html",
    "title": "2015年河南省恶性肿瘤发病与死亡情况分析",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/firstauthor/2020-vegetable.html",
    "href": "publications/firstauthor/2020-vegetable.html",
    "title": "A Vegetable Dietary Pattern Is Associated with Lowered Risk of Gestational Diabetes Mellitus in Chinese Women",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/firstauthor/2015-08-19-linzhou-screening-effect.html",
    "href": "publications/firstauthor/2015-08-19-linzhou-screening-effect.html",
    "title": "林州市上消化道癌筛查效果评价研究",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/firstauthor/2022-02-24-esophagus/index.html",
    "href": "publications/firstauthor/2022-02-24-esophagus/index.html",
    "title": "2010-2016年食管癌发病与死亡情况趋势分析",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/corresponding/2023-08-21-2018cancer.html",
    "href": "publications/corresponding/2023-08-21-2018cancer.html",
    "title": "2018年河南省恶性肿瘤发病与死亡情况及2014-2018年趋势分析",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/books/2021-annual report.html",
    "href": "publications/books/2021-annual report.html",
    "title": "2021河南省肿瘤登记年报",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/books/2018-annual report.html",
    "href": "publications/books/2018-annual report.html",
    "title": "2018河南省肿瘤登记年报",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/books/2019-annual report.html",
    "href": "publications/books/2019-annual report.html",
    "title": "2019河南省肿瘤登记年报",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2021-10-23-HPV-fenliu.html",
    "href": "publications/coauthor/2021-10-23-HPV-fenliu.html",
    "title": "高危型人乳头状瘤病毒E6和E7基因在细胞学为意义不明的不典型鳞状细胞人群分流中的临床效果评价",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2020-02-23-LDCT-lung-cancer-screening.html",
    "href": "publications/coauthor/2020-02-23-LDCT-lung-cancer-screening.html",
    "title": "2013—2017年河南省城市地区低剂量螺旋CT肺癌筛查效果分析",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2017-HPV-Lung-cancer.html",
    "href": "publications/coauthor/2017-HPV-Lung-cancer.html",
    "title": "Human papillomavirus infection as a prognostic marker for lung adenocarcinoma: a systematic review and meta-analysis",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2016-01-23-gastric-screening-effect.html",
    "href": "publications/coauthor/2016-01-23-gastric-screening-effect.html",
    "title": "河南省农村胃癌筛查效果分析",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2018-2012-cancer.html",
    "href": "publications/coauthor/2018-2012-cancer.html",
    "title": "Incidence and mortality of lung cancer in China, 2008 - 2012",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2017-05-06-linzhou-esophagus-survival.html",
    "href": "publications/coauthor/2017-05-06-linzhou-esophagus-survival.html",
    "title": "2003—2012年食管癌高发区林州市不同病理类型食管癌发病及生存状况分析",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2022-risk-score-model.html",
    "href": "publications/coauthor/2022-risk-score-model.html",
    "title": "Development and Validation of a Noninvasive Risk Score Model for Liver Cirrhosis in At-Risk Alcohol Drinkers Without HBV/HCV Infection",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2017-09-30-cancer.html",
    "href": "publications/coauthor/2017-09-30-cancer.html",
    "title": "2013年河南省癌症发病与死亡分析",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2017-12-10-fried-food-esophagus-cancer.html",
    "href": "publications/coauthor/2017-12-10-fried-food-esophagus-cancer.html",
    "title": "油炸食品与食管癌及癌前病变关系的多元有序logistic回归分析",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2022-03-15-liver-cancer.html",
    "href": "publications/coauthor/2022-03-15-liver-cancer.html",
    "title": "2017年河南省肝癌流行现状及2010—2017年趋势分析",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2013-03-20-lung-cancer-prediction.html",
    "href": "publications/coauthor/2013-03-20-lung-cancer-prediction.html",
    "title": "河南省居民2010年至2019年肺癌死亡率预测",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2015-c-reactive.html",
    "href": "publications/coauthor/2015-c-reactive.html",
    "title": "C-reactive protein and risk of breast cancer: A systematic review and meta-analysis",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2022-lung-cancer.html",
    "href": "publications/coauthor/2022-lung-cancer.html",
    "title": "Incidence and mortality of lung cancer in 2018 and the temporal trends from 2010 to 2018 in Henan province, China: a population-based registry study",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2016-12-05-cancer-incidence-mortality.html",
    "href": "publications/coauthor/2016-12-05-cancer-incidence-mortality.html",
    "title": "河南省2012年癌症发病与死亡",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2023-lung-nomogram.html",
    "href": "publications/coauthor/2023-lung-nomogram.html",
    "title": "Lung Cancer Risk Prediction Nomogram in Nonsmoking Chinese Women: Retrospective Cross-sectional Cohort Study",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2022-HBV-Liver-cancer.html",
    "href": "publications/coauthor/2022-HBV-Liver-cancer.html",
    "title": "Risk of liver cirrhosis in HBV/HCV infected individuals with First-degree relatives who have liver cancer: development and validation of a simple model",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2019-04-28-shousu-GDM.html",
    "href": "publications/coauthor/2019-04-28-shousu-GDM.html",
    "title": "瘦素受体基因多态性与妊娠期糖尿病发病关系",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2018-10-10-kidney-cancer.html",
    "href": "publications/coauthor/2018-10-10-kidney-cancer.html",
    "title": "中国2014年肾癌发病与死亡分析",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2015-oral-cancer-china.html",
    "href": "publications/coauthor/2015-oral-cancer-china.html",
    "title": "Oral cancer incidence and mortality in China, 2011",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2021-08-24-urban-screening.html",
    "href": "publications/coauthor/2021-08-24-urban-screening.html",
    "title": "河南省城市地区乳腺癌筛查依从性及其影响因素分析",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2022-Solid-tumor-research.html",
    "href": "publications/coauthor/2022-Solid-tumor-research.html",
    "title": "Special issue (The advance of solid tumor research in China): Participants with a family history of cancer have a higher participation rate in low-dose computed tomography for lung cancer screening",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2022-rct-esophageal-gastric-cancer.html",
    "href": "publications/coauthor/2022-rct-esophageal-gastric-cancer.html",
    "title": "A cluster randomized controlled trial to evaluate the efficacy of esophageal and gastric cancer screening in mortality reduction in a non-high-incidence area: methodology and initial results",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2022-01-30-breast.html",
    "href": "publications/coauthor/2022-01-30-breast.html",
    "title": "2017年河南省女性乳腺癌流行现状及2010—2017年变化趋势",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2021-01-26-gastric-cancer.html",
    "href": "publications/coauthor/2021-01-26-gastric-cancer.html",
    "title": "河南省2010～2015年胃癌发病与死亡分析",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2019-10-05-esophagus-pathology.html",
    "href": "publications/coauthor/2019-10-05-esophagus-pathology.html",
    "title": "非高发区食管癌筛查人群食管病理分布",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2021-12-06-rural-esophageal-cancer-screening.html",
    "href": "publications/coauthor/2021-12-06-rural-esophageal-cancer-screening.html",
    "title": "2014—2018年河南省农村癌症早诊早治项目地区人群食管癌筛查效果分析",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2020-LDCT-screening-effect.html",
    "href": "publications/coauthor/2020-LDCT-screening-effect.html",
    "title": "Evaluation of a Low-Dose Computed Tomography Lung Cancer Screening Program in Henan, China",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2022-01-23-gastric-cancer.html",
    "href": "publications/coauthor/2022-01-23-gastric-cancer.html",
    "title": "2010—2016年河南省胃癌发病与死亡情况趋势分析",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2022-07-26-risk-score.html",
    "href": "publications/coauthor/2022-07-26-risk-score.html",
    "title": "亚太结直肠癌风险评分系统在我国北方无症状人群筛查中的应用",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2021-02-23-liver-cancer-screening.html",
    "href": "publications/coauthor/2021-02-23-liver-cancer-screening.html",
    "title": "河南省城市地区肝癌筛查依从性及其影响因素分析",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2021-06-25-lynx-cancer.html",
    "href": "publications/coauthor/2021-06-25-lynx-cancer.html",
    "title": "2016年河南省鼻咽癌发病与死亡分析",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2022-01-21-lung-cancer.html",
    "href": "publications/coauthor/2022-01-21-lung-cancer.html",
    "title": "2017年河南省肺癌流行现状及2010—2017年趋势分析",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2015-09-10-BMI-esophageal-cancer.html",
    "href": "publications/coauthor/2015-09-10-BMI-esophageal-cancer.html",
    "title": "中国人群体重指数与食管癌发病风险的Meta分析",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "publications/coauthor/2019-11-05-HPV-E6E7.html",
    "href": "publications/coauthor/2019-11-05-HPV-E6E7.html",
    "title": "高危型人乳头瘤病毒E6/E7 mRNA对未明确意义的非典型鳞状上皮细胞人群分流的意义",
    "section": "",
    "text": "回到顶部"
  },
  {
    "objectID": "qsight.html",
    "href": "qsight.html",
    "title": "普癌新声",
    "section": "",
    "text": "Qsight 博客\n    Qsight 聚焦肿瘤登记、统计分析、R 语言 及 网站制作，分享数据分析方法、可视化技巧与自动化报告解决方案，助力肿瘤流行病学和公共卫生研究。无论你是研究人员、数据分析师，还是 R 语言爱好者，都能在这里找到实用内容！ 🚀\n    \n      \n        \n      \n      \n        \n      \n      \n        \n      \n    \n  \n\n\n\n   \n    \n    \n      排序方式\n      默认\n      \n        标题\n      \n      \n        日期 - 日期升序\n      \n      \n        日期 - 日期降序\n      \n      \n        作者\n      \n    \n  \n    \n      \n      \n    \n\n\n\n\n\n\n\n\n\n\nR语言包 canregtools 的安装和使用\n\n\n\n肿瘤登记\n\nR语言\n\ncanregtools\n\n\n\n人群肿瘤登记数据分析R语言包canregtools主要包括数据读取、数据操作、数据处理、统计计算、…\n\n\n\n陈琼\n\n\n2025-07-04\n\n\n\n\n\n\n\n\n\n\n\n\n\n基于 R 语言构建人群肿瘤登记数据分析工具\n\n\n\n肿瘤登记\n\nR语言\n\ncanregtools\n\n\n\n该文章介绍了一款专为人群肿瘤登记开发的 R…\n\n\n\n陈琼\n\n\n2025-03-26\n\n\n\n\n\n\n\n\n\n\n\n\n\n基于quarto自动化编制肿瘤登记年报\n\n\n\n肿瘤登记\n\nR语言\n\n\n\n近年来发布肿瘤登记年报已经成为各省级或着市级肿瘤登记处的主要工作内容之一，本篇文章将向大家介绍基于…\n\n\n\n陈琼\n\n\n2024-09-25\n\n\n\n\n\n\n\n\n\n\n\n\n\n安徽泾县行\n\n\n\n肿瘤登记\n\n\n\n李白乘舟将欲行，忽闻岸上踏歌声。桃花潭水深千尺，不及汪伦送我情。\n\n\n\n陈琼\n\n\n2024-04-19\n\n\n\n\n\n\n\n\n\n\n\n\n\nR包canregtools：肿瘤登记可视化和自动化报告\n\n\n\n肿瘤登记\n\nR语言\n\ncanregtools\n\n\n\n为了使肿瘤登记数据分析和可视化更加容易，我写了一个R语言软件包“canregtools”，这篇…\n\n\n\n陈琼\n\n\n2023-09-30\n\n\n\n\n\n\n\n\n\n\n\n\n\n肿瘤登记数据上报经验分享：R语言批量导入导出excel数据\n\n\n\n数据处理\n\nR\n\n肿瘤登记\n\n\n\n每年向国家肿瘤登记处上报当年肿瘤登记数据是每个省级肿瘤登记处的每年的工作内容，而当县区级登记处的数…\n\n\n\n陈琼\n\n\n2023-05-23\n\n\n\n\n\n\n\n\n\n\n\n\n\n基于”periodR”包利用现时生存分析法计算人群癌症5年相对生存率\n\n\n\n肿瘤登记\n\n数据分析\n\nR\n\n\n\n癌症5年生存率是评估癌症诊疗水平的一个重要指标，本篇博文介绍了如何利用R语言\"periodR\"…\n\n\n\n陈琼\n\n\n2023-04-09\n\n\n\n\n\n\n\n\n\n\n\n\n\nQuarto支持多格式同时输出\n\n\n\nquarto\n\n个人网站\n\n\n\nQuarto自1.3以后的版本中将支持网页输出中包含其他输出格式（PDF、MS…\n\n\n\n陈琼\n\n\n2023-04-04\n\n\n\n\n\n\n\n\n\n\n\n\n\n提高Rstudio和Quarto使用效率的一些方法和配置\n\n\n\nquarto\n\nrstudio\n\nR语言\n\n\n\n本篇博文介绍了我们使用Rstudio进行数据分析或使用Quarto撰写报告时提高效率的一些方法和配…\n\n\n\n陈琼\n\n\n2023-03-31\n\n\n\n\n\n\n\n\n\n\n\n\n\n论文写作效率神器：Quarto出版系统\n\n\n\nquarto\n\n论文写作\n\n\n\n这篇博文介绍我使用quarto进行论文写作的一些技巧和经验，它们在无形中提高了我论文写作的效率，使…\n\n\n\n陈琼\n\n\n2023-03-25\n\n\n\n\n\n\n\n\n\n\n\n\n\n肿瘤临床预后影响因素分析应该注意哪些因素?\n\n\n\n数据分析\n\n\n\n今天我审读了一篇肿瘤临床预后影响因素分析的投稿论文，也想起了以前看过的几篇临床肿瘤预后影响因素的文…\n\n\n\n陈琼\n\n\n2023-03-21\n\n\n\n\n\n\n\n\n\n\n\n\n\n开发R包一定要有一个高逼格logo\n\n\n\n个人网站\n\n\n\n\n\n\n\n陈琼\n\n\n2023-02-27\n\n\n\n\n\n\n\n\n\n\n\n\n\n2023年给我的开年惊喜\n\n\n\n生活\n\n论文写作\n\n\n\n\n\n\n\n陈琼\n\n\n2023-02-08\n\n\n\n\n\n\n\n\n\n\n\n\n\n可重复式研究报告:从blogdown,bookdown,pagedown到Quarto\n\n\n\nquarto\n\n\n\n这篇博文描述了博主从利用blogdown、bookdown等基于rmd的包实现可重复性研究报告到利…\n\n\n\n陈琼\n\n\n2022-12-05\n\n\n\n\n\n\n\n\n\n\n\n\n\n如何安装quarto运行环境，并通过命令行建立简单的网站\n\n\n\nquarto\n\n\n\n\n\n\n\n陈琼\n\n\n2022-12-02\n\n\n\n\n\n\n\n\n\n\n\n\n\ngit 如何设置忽略文件.gitignore\n\n\n\nquarto\n\ngit\n\n\n\n\n\n\n\n陈琼\n\n\n2022-12-01\n\n\n\n\n\n\n\n\n\n\n\n\n\nR语言gganimate包和ggplot2包绘制进度线图(progressive line plot)\n\n\n\nR\n\n科研作图\n\n\n\n这篇文章将和大家分享如何利用ggplot2包和gganimate包绘制进度线图(progressi…\n\n\n\n陈琼\n\n\n2022-05-07\n\n\n\n\n\n\n\n\n\n\n\n\n\nR语言wordcloud2包绘制词云图\n\n\n\nR\n\n科研作图\n\n\n\n\n\n\n\n陈琼\n\n\n2022-05-06\n\n\n\n\n\n\n\n\n\n\n\n\n\nR语言ggplot2包和gganimate包绘制动态追逐条形图(chasing barchart)\n\n\n\nR\n\n科研作图\n\n\n\n\n\n\n\n陈琼\n\n\n2022-05-04\n\n\n\n\n\n\n\n\n\n\n\n\n\n利用阿里云DataV可视化平台数据以及ggplot2包的geom_sf函数绘制统计地图\n\n\n\nR\n\n科研作图\n\n\n\n这篇文章介绍了如何利用阿里云DataV可视化平台的行政区划边界数据绘制统计地图，用到R包包括sf包…\n\n\n\n陈琼\n\n\n2022-04-29\n\n\n\n\n\n\n\n\n\n\n\n利用ggplot2包绘制barplot简单条形图\n\n\n\nR\n\n科研作图\n\n\n\n\n\n\n\n陈琼\n\n\n2022-04-29\n\n\n\n\n\n\n\n\n\n\n\n\n\n利用R语言Rmd文档+blogdown包制作个人网站\n\n\n\nR\n\n个人网站\n\n\n\n\n\n\n\n陈琼\n\n\n2022-04-26\n\n\n\n\n\n\n\n\n\n\n\n\n\n利用Rmd代码选项输出动态金字塔图\n\n\n\nR\n\n科研作图\n\n\n\n\n\n\n\n陈琼\n\n\n2022-04-25\n\n\n\n\n\n\n\n\n\n\n\n\n\n如何利用病理诊断比例（MV%）指标评价人群肿瘤登记数据质量？\n\n\n\n肿瘤登记\n\n质量控制\n\n\n\n\n\n\n\n陈琼\n\n\n2022-04-17\n\n\n\n\n\n\n\n\n\n\n\n\n\n我国发布首个肿瘤登记数据集标准\n\n\n\n肿瘤登记\n\n文件\n\n\n\n\n\n\n\n陈琼\n\n\n2022-04-16\n\n\n\n\n\n\n\n\n\n\n\n制作《2021河南省肿瘤登记年报》科普视频\n\n\n\n肿瘤登记\n\n肿瘤登记年报\n\n\n\n\n\n\n\n陈琼\n\n\n2022-04-10\n\n\n\n\n\n\n\n\n\n\n\n\n\n河南省癌症中心/河南省肿瘤医院发布《2021河南省肿瘤登记年报》\n\n\n\n肿瘤登记\n\n肿瘤登记年报\n\n\n\n\n\n\n\n陈琼\n\n\n2022-04-05\n\n\n\n\n\n\n\n\n\n\n\n诗歌学习\n\n\n\n生活\n\n育儿\n\n\n\n\n\n\n\n陈琼\n\n\n2022-03-31\n\n\n\n\n\n\n\n\n\n\n\nICD10编码里除了C开头编码和D开头编码是肿瘤专属分类编码外，还有哪些编码与肿瘤相关？\n\n\n\n肿瘤登记\n\n编码\n\n\n\n\n\n\n\n陈琼\n\n\n2022-03-23\n\n\n\n\n\n\n\n\n\n\n\n\n\n我家养的那些花儿\n\n\n\n生活\n\n摄影\n\n\n\n\n\n\n\n陈琼\n\n\n2022-03-19\n\n\n\n\n\n\n\n\n\n\n\n中国肿瘤登记管理办法\n\n\n\n肿瘤登记\n\n\n\n\n\n\n\n陈琼\n\n\n2022-03-18\n\n\n\n\n\n\n\n\n\n\n\n河南省29个肿瘤登记处荣获国家癌症中心表彰\n\n\n\n肿瘤登记\n\n\n\n\n\n\n\n陈琼\n\n\n2022-03-18\n\n\n\n\n\n\n\n\n\n\n\n\n\n世界肿瘤登记发展简史\n\n\n\n肿瘤登记\n\n历史\n\n\n\n\n\n\n\n陈琼\n\n\n2022-03-17\n\n\n\n\n\n\n\n\n\n\n\n肿瘤登记质量控制的四类指标\n\n\n\n肿瘤登记\n\n\n\n\n\n\n\n陈琼\n\n\n2022-03-10\n\n\n\n\n\n\n\n\n\n\n\nIARCcrgtools肿瘤登记数据逻辑核查软件\n\n\n\n肿瘤登记\n\n工具\n\n\n\n\n\n\n\n陈琼\n\n\n2022-03-10\n\n\n\n\n\n\n\n\n\n\n\nICD10编码与ICDO3编码有何异同？\n\n\n\n肿瘤登记\n\n编码\n\n\n\n\n\n\n\n陈琼\n\n\n2022-03-09\n\n\n\n\n\n\n\n\n\n\n\n中国肿瘤登记事业发展的里程碑事件\n\n\n\n肿瘤登记\n\n历史\n\n\n\n\n\n\n\n陈琼\n\n\n2022-03-08\n\n\n\n\n\n\n\n\n\n\n\n推荐一个适合临床医生的统计软件-Jamovi\n\n\n\n\n\n\n陈琼\n\n\n2022-03-06\n\n\n\n\n\n\n\n\n\n\n\nhaven包实现R语言与SAS软件、SPSS软件、STATA软件实现数据交互\n\n\n\nR\n\nSAS\n\n\n\n\n\n\n\n陈琼\n\n\n2022-03-05\n\n\n\n\n\n\n\n\n\n\n\n北京市肿瘤防治研究办公室招聘合同制工作人员1名\n\n\n\n肿瘤登记\n\n新闻\n\n\n\n\n\n\n\n陈琼\n\n\n2022-03-01\n\n\n\n\n\n\n\n\n\n\n\n\n\n图形化展示比值比和可信区间数据的另一种方式\n\n\n\nR\n\n科研作图\n\n\n\n\n\n\n\n陈琼\n\n\n2022-02-27\n\n\n\n\n\n\n\n\n\n\n\n学习和使用R语言的十个理由\n\n\n\nR\n\nR基础知识\n\n\n\n\n\n\n\n陈琼\n\n\n2022-02-26\n\n\n\n\n\n\n\n\n\n\n\n\n\n利用ggplot2制作折线图或者趋势图，反映变化趋势\n\n\n\nR\n\n科研作图\n\n\n\n\n\n\n\nQiong Chen\n\n\n2022-02-23\n\n\n\n\n\n\n\n\n\n\n\n利用ggplot2制作金字塔图，展示人口结构数据\n\n\n\nR\n\n科研作图\n\n\n\n\n\n\n\n陈琼\n\n\n2022-02-21\n\n\n\n\n\n\n\n\n\n\n\n\n\n利用survminer包ggforest函数制作用森林图，直观化展示比值比数据！\n\n\n\nR\n\n科研作图\n\n\n\n\n\n\n\n陈琼\n\n\n2022-02-21\n\n\n\n\n\n\n\n\n\n\n\n利用%for宏程序实现在开放代码中循环执行SAS代码\n\n\n\nSAS\n\n宏程序\n\n\n\n\n\n\n\nQiong Chen\n\n\n2022-02-18\n\n\n\n\n\n\n\n\n\n\n\n\n\n用过R magick包处理图片，你还会用PS来P图吗？\n\n\n\nR\n\n科研作图\n\n\n\n\n\n\n\n陈琼\n\n\n2022-02-16\n\n\n\n\n\n\n\n\n\n\n\nR如何安装并更新R包？\n\n\n\nR\n\nR基础知识\n\n\n\n\n\n\n\nQiong Chen\n\n\n2022-02-15\n\n\n\n\n\n\n\n\n\n\n\n\n\nJoinpoint Trend Analysis Software\n\n\n\n肿瘤登记\n\n数据处理\n\n\n\n\n\n\n\n陈琼\n\n\n2022-02-08\n\n\n\n\n\n\n\n\n\n\n\n\n\nICDO3编码规则六：形态学的编码\n\n\n\n肿瘤登记\n\n编码\n\n\n\n如果在诊断描述中没有指出解剖学部位时，则使用形态学默认的解剖学部位编码。如果已知肿瘤发生在另一个部…\n\n\n\n陈琼\n\n\n2021-11-25\n\n\n\n\n\n\n\n\n\n\n\n\n\nICDO3模糊查询工具\n\n\n\n肿瘤登记\n\n工具\n\n\n\n\n\n\n\n陈琼\n\n\n2021-11-25\n\n\n\n\n\n\n\n\n\n\n\n\n\nICDO3编码规则五：对组织学等级和分化程度的编码\n\n\n\n肿瘤登记\n\n编码\n\n\n\n\n\n\n\n陈琼\n\n\n2021-11-23\n\n\n\n\n\n\n\n\n\n\n\n\n\nICDO3编码规则四：淋巴瘤的解剖学编码\n\n\n\n肿瘤登记\n\n编码\n\n\n\n\n\n\n\n陈琼\n\n\n2021-11-19\n\n\n\n\n\n\n\n\n\n\n\n\n\nICDO3编码规则三：交搭跨越\n\n\n\n肿瘤登记\n\n编码\n\n\n\n\n\n\n\n陈琼\n\n\n2021-11-18\n\n\n\n\n\n\n\n\n\n\n\n\n\nICDO3编码规则二：解剖学部位被“前缀”修饰\n\n\n\n肿瘤登记\n\n编码\n\n\n\n当临床诊断的解剖学部位被一些“前缀词”修饰的时候，比如诊断为“主动脉旁”、“腹膜后”等，我们该怎么…\n\n\n\n陈琼\n\n\n2021-11-17\n\n\n\n\n\n\n\n\n\n\n\nICDO3编码规则一：诊断报告解剖学部位为区域或不明确\n\n\n\n肿瘤登记\n\n编码\n\n\n\n\n\n\n\n陈琼\n\n\n2021-11-15\n\n\n\n\n\n\n\n\n\n\n\n\n\n什么是ICD-O3编码？\n\n\n\n\n\n\n陈琼\n\n\n2021-10-29\n\n\n\n\n\n\n\n\n\n\n\nSAS学习资源列表\n\n\n\nSAS\n\n\n\n\n\n\n\n陈琼\n\n\n2021-09-09\n\n\n\n\n\n\n\n\n\n\n\n\n\n特大暴雨与新冠疫情\n\n\n\n生活\n\n\n\n\n\n\n\n陈琼\n\n\n2021-09-03\n\n\n\n\n\n\n\n\n\n\n\n\n\n《2020河南省肿瘤登记年报》解读\n\n\n\n肿瘤登记\n\n\n\n\n\n\n\n陈琼\n\n\n2021-04-23\n\n\n\n\n\n\n\n\n\n\n\n2021慢性非传染性疾病控制副高考试–知识点汇总\n\n\n\n肿瘤登记\n\n\n\n\n\n\n\n陈琼\n\n\n2021-04-20\n\n\n\n\n\n\n\n\n\n\n\n\n\n河南省”线上+线下”重磅发布《2020河南省肿瘤登记年报》\n\n\n\n肿瘤登记\n\n新闻\n\n\n\n\n\n\n\n陈琼\n\n\n2021-04-20\n\n\n\n\n\n\n\n\n\n\n\n河南省肿瘤登记系统介绍\n\n\n\n肿瘤登记\n\n\n\n\n\n\n\nQiong Chen\n\n\n2021-01-18\n\n\n\n\n\n\n\n\n\n\n\n\n\n女儿的语言课\n\n\n\n\n\n\nQiong Chen\n\n\n2021-01-16\n\n\n\n\n\n\n\n\n\n\n\n\n\n做一个有趣的家长\n\n\n\n生活\n\n育儿\n\n\n\n\n\n\n\nQiong Chen\n\n\n2020-12-25\n\n\n\n\n\n\n\n\n\n\n\n\n\n医学伦理学在肿瘤流行病学中的应用\n\n\n\n肿瘤登记\n\n\n\n\n\n\n\nQiong Chen\n\n\n2020-04-16\n\n\n\n\n\n\n\n\n\n\n\n修改ggplot2图例相关设置\n\n\n\nR\n\nR基础知识\n\n\n\n\n\n\n\nQiong Chen\n\n\n2020-03-27\n\n\n\n\n\n\n\n\n\n\n\n\n\n开篇\n\n\n\n生活\n\n\n\n\n\n\n\nQiong Chen\n\n\n2020-02-14\n\n\n\n\n\n\n\n\n\n\n\n利用cowplot包生成组合图\n\n\n\nR\n\n科研作图\n\n\n\n\n\n\n\nQiong Chen\n\n\n2020-02-06\n\n\n\n\n\n\n\n\n\n\n\n多维数组与矩阵\n\n\n\nR\n\nR基础知识\n\n\n\n\n\n\n\n陈琼\n\n\n2014-07-02\n\n\n\n\n\n\n\n\n\n\n\n\n\nSAS数据步内循环\n\n\n\nSAS\n\n数据处理\n\n\n\n\n\n\n\n陈琼\n\n\n2014-05-22\n\n\n\n\n\n\n\n\n\n\n\nSAS数据步by-group语句\n\n\n\nSAS\n\n数据处理\n\n\n\n\n\n\n\n陈琼\n\n\n2014-05-21\n\n\n\n\n\n\n\n\n\n\n\n利用SAS批量导入一个文件夹内的多个excel表\n\n\n\nSAS\n\n数据处理\n\n\n\n\n\n\n\n陈琼\n\n\n2012-03-05\n\n\n\n\n\n\n\n\n\n\n\n利用SAS群发邮件\n\n\n\nSAS\n\n数据处理\n\n\n\n\n\n\n\n陈琼\n\n\n2011-09-18\n\n\n\n\n\n\n\n\n\n\n\nCOMPRESS函数\n\n\n\nSAS\n\n数据处理\n\n\n\n\n\n\n\n陈琼\n\n\n2011-08-16\n\n\n\n\n\n\n\n\n\n\n\nSAS程序员必备的十大技巧(转载)\n\n\n\nSAS\n\n\n\n\n\n\n\n陈琼\n\n\n2010-11-28\n\n\n\n\n\n\n\n\n\n\n\n\n\n零下16度\n\n\n\n生活\n\n\n\n\n\n\n\n陈琼\n\n\n2010-11-28\n\n\n\n\n\n\n\n\n\n\n\nSAS里自动加注释的快捷键\n\n\n\nSAS\n\n数据处理\n\n\n\n\n\n\n\n陈琼\n\n\n2010-06-04\n\n\n\n\n\n\n\n\n\n\n\nSAS访问外部数据文件\n\n\n\nSAS\n\n数据处理\n\n\n\n\n\n\n\n陈琼\n\n\n2010-06-03\n\n\n\n\n\n\n\n\n\n\n\n给SAS开块地\n\n\n\nSAS\n\n\n\n\n\n\n\n陈琼\n\n\n2010-06-02\n\n\n\n\n\n\n无匹配项\n\n  \n\n\n\n\n\n\n 回到顶部"
  },
  {
    "objectID": "qsight/2022-02-26-whyr/index.html",
    "href": "qsight/2022-02-26-whyr/index.html",
    "title": "学习和使用R语言的十个理由",
    "section": "",
    "text": "R语言是一种为统计计算和绘图而生的免费软件环境，它是一套开源的数据分析解决方案，由一个庞大的全球性研究型社区来维护。目前市面上也不少的统计分析和绘图软件，比如，SPSS、SAS、Stata和Excel，我们为什么要选择学习R语言呢？\nR语言有很多特性值得我们推荐！\n\nR是免费的，这绝对是一个不容拒绝的理由！不用像使用SAS一样，需要全网找可用的sid，也不用更改系统时间。\nR提供了各式各样的数据分析技术，几乎任何类型的数据分析工作都可以在R中完成。\nR提供了顶级绘图功能，可以精确绘制非常漂亮的图。\n交互式的数据分析过程，任意一个数据分析步骤的结果均可以被保存、操作或者用作其它分析过程的输入数据。\n可以轻松读取多种来源的数据格式，包括文本文件、EXCEL、ACCESS、数据库管理系统、其它统计软件（SAS、STATA、SPSS等）。\n可以在R里编写新的统计方法。\nR的更新速度超级快，总能找到一些R包来实现的比较新的统计方法。\n多平台应用，R可以在Windows、UNIX和Mac OS上使用。\n有多种图形界面可以调用R语言，很方便使用。\n结合Rmd，可以优雅的写作，可以实现统计分析过程和写作过程融为一体，可以输出为word、pdf、html、slides多种格式。\n\n总而言之，R语言很强大，可以实现几乎所有数据分析过程，还能做出非常漂亮的图，而且还有各种第三方界面可以配合R使用，有一大群人进行维护更新着，还免费让我们用，我们为啥不用呢？\n\n\n\n\n\n  \n    \n  \n  \n    陈 琼\n       博士 \n       副主任医师 \n    他从事肿瘤登记与人群流行病学研究，编写肿瘤登记年报，并开发和维护个人网站。他撰写博文，分享数据分析方法、可视化技巧和自动化报告解决方案，同时学习 R 语言，开发 R 包，不断探索高效的数据处理与展示方式。 🚀\n    \n      \n        \n      \n      \n        \n      \n      \n        \n      \n    \n  \n\n 回到顶部"
  },
  {
    "objectID": "qsight/2021-11-15-ICDO3编码规则1/index.html",
    "href": "qsight/2021-11-15-ICDO3编码规则1/index.html",
    "title": "ICDO3编码规则一：诊断报告解剖学部位为区域或不明确",
    "section": "",
    "text": "0.1 规则描述\n我们在前面的文章里介绍了ICDO-3的基本概念，接着我们继续介绍实际编码过程中可以参照的一些规则。\n首先，第一条规则就指定了一种情况，当诊断报告里解剖学部位的描述是一个”区域”或者”不明确部位”，没有指出起源的组织，这个时候应该怎么编码？比如诊断报告这样描述”臂的肿瘤”，而”臂”有可能是臂的皮肤、臂的软组织或者臂的骨。当临床诊断只是”臂肿瘤”而没有其他信息可供参考的时候，只能编码到一个很粗的编码上C76.4（臂，NOS）。\n当解剖学部位不明确或是一个区域，但是有其他信息可供参考的时候，则应编码到合理的部位。比如诊断为”臂的癌瘤、黑色素瘤和痣”，这个时候解剖学部位编码应该编码到”臂的皮肤（C44.6）“，而不应该再编码到C76.4。虽然这个描述仅提及”臂”没有明确的解剖学部位信息，但是我们可以从黑色素瘤或痣的形态学信息上知道解剖学部位应该皮肤，因为这种形态学是多发于皮肤的。同样的原理，如果诊断为”臂的肉瘤，脂肪瘤”，则应编码到C49.1（臂的软组织）。\n对于骨肿瘤的编码应特别注意，骨肉瘤和软骨肉瘤两者通常都发生在骨，而”臂骨”的编码为C40.0（上 肢的长骨、肩胛骨和 相关的关节），如果骨肉瘤或软骨肉瘤发生这些臂骨，则C40.0的解剖学编码正确。\n\n臂肿瘤的索引\n\n\n解剖学部位编码\n部位描述\n\n\n\n\nC76.4\n臂，NOS\n\n\nC44.6\n臂的皮肤，NOS（癌、黑色素瘤、痣）\n\n\nC47.1\n自主神经组织\n\n\nC40.0\n骨\n\n\nC49.1\n结缔组织、脂肪组织、纤维组织，NOS\n\n\nC77.3\n淋巴结\n\n\n……\n\n\n\n\n\n\n0.2 ICDO3解剖学部位为区域或不明确部位编码汇总\n中国肿瘤登记工作指导手册（2016）对解剖学部位为区域或不明确的ICDO3的解剖学部位编码进行了汇总，具体如下表：\n\nICDO3解剖学部位为区域或不明确部位编码汇总\n\n\n\n\n\n\n解剖学部位编码\n部位描述\n\n\n\n\nC76.0\n头、面和颈，NOS（颊、颌、鼻、颈区、锁骨上区，NOS）\n\n\nC76.1\n胸，NOS（腋、胸壁、胸内部、胸壁、锁骨下区和肩胛区，NOS）\n\n\nC76.2\n腹，NOS（腹壁、腹内部，NOS）\n\n\nC76.3\n骨盆，NOS（臀、腹股沟、坐骨肛门窝、骨盆壁、会阴、直肠阴道隔、直肠膀胱隔、臀区、腹股沟区、直肠周区、骶前区、骶尾区，NOS）\n\n\nC76.4\n上肢，NOS（肘窝、肘、手指、前臂、手、肩、拇指、腕，NOS）\n\n\nC76.5\n下肢，NOS（踝、小腿、足、足跟、臀部、膝、腿、下肢、腘窝、大腿、趾，NOS）\n\n\nC76.7\n其他不明确的部位（背、胁腹、躯干，NOS）\n\n\n\n\n\n0.3 临床常见的解剖学部位为区域的诊断有哪些？\n\n0.3.1 病例1\n\n病人年龄63岁，男性，2020年2月入院治疗，门诊诊断和主要诊断为腹部恶性肿瘤，病理学诊断：横纹肌肉瘤（M8900/3） 我们在给解剖学部位进行编码的时候就不能编码到C76.2，因为有相应的病理学诊断”横纹肌肉瘤”（未成熟的肌肉细胞组成的癌症），因此应编码到C49.4（腹部的结缔组织、皮下组织和其他，包括腹壁肌肉）。 一套完整的ICDO3编码为：C49.4 M8900/3 9\n\n\n\n0.3.2 病例2\n\n病人2020年2月入院，男性，46岁，诊断为腘窝恶性肿瘤，后病理诊断为脂肪肉瘤（M8850/3）。 这种情况和病例1相似，虽然诊断信息里没有描述具体的部位，但是结合病理学信息”脂肪肉瘤”的诊断，我们可以知道，癌症发生于腘窝的脂肪组织，那么对应的ICDO3解剖学部位编码为C49.2（下肢和臀部的结缔组织、皮下组织和其他软组织）。 一套完整的ICDO3编码为：C49.2 M8850/3 9\n\n\n\n0.3.3 病例3\n\n男性病人，32岁，2020年3月入院治疗，诊断为”腹部恶性肿瘤”，返回的病理报告为”恶性肿瘤（M8000/3）” 这份报告首先发病部位的描述不明确，为一个区域（腹部），其次病理报告也没有提供足够的信息（仅知道是恶性肿瘤），不能提供癌症的细胞来源信息。因此，我们在进行ICDO3编码的时候只能把它的解剖学部位编到C76.2（腹，NOS）。 一套完整的ICDO3编码为：C76.2 M8000/3 9\n\n\n\n\n0.4 该规则应用的注意事项\n\n当遇到诊断发病部位为区域或不明确部位时，一定搜集到全部相关信息，比如病理报告、其他相关检查（排除转移）。\n从病理报告里读取相应的形态学的起源组织或细胞，一些病理类型是从名字上可以之间看出，比如横纹肌肉瘤、脂肪肉瘤等，而还有一些不太容易直接看出，这个时候可以利用搜索引擎去查询，一般都可以找到相应的知识点。\n先结合相关信息尽量明确解剖学部位，实在无法编码到确切部位时，再编码到相应的C76.X。\n\n\n\n0.5 小结\nICDO3的编码是一个繁琐的过程，需要我们仔细搜集相应的信息，然后尽量利用一切可以利用的信息，编到更确切的部位。\n\n\n\n\n\n\n  \n    \n  \n  \n    陈 琼\n       博士 \n       副主任医师 \n    他从事肿瘤登记与人群流行病学研究，编写肿瘤登记年报，并开发和维护个人网站。他撰写博文，分享数据分析方法、可视化技巧和自动化报告解决方案，同时学习 R 语言，开发 R 包，不断探索高效的数据处理与展示方式。 🚀\n    \n      \n        \n      \n      \n        \n      \n      \n        \n      \n    \n  \n\n 回到顶部"
  },
  {
    "objectID": "qsight/20250704_install-canregtools-package/index.html",
    "href": "qsight/20250704_install-canregtools-package/index.html",
    "title": "R语言包 canregtools 的安装和使用",
    "section": "",
    "text": "人群肿瘤登记数据分析R语言包canregtools主要包括数据读取、数据操作、数据处理、统计计算、可视化和统计报告等六类功能函数，从而实现常规统计分析的相关功能。该文章介绍了各类函数实现功能的方法依据、使用方法和推荐的操作流程，使大家对canregtools的功能实现有个总体的认识。"
  },
  {
    "objectID": "qsight/20250704_install-canregtools-package/index.html#功能需求",
    "href": "qsight/20250704_install-canregtools-package/index.html#功能需求",
    "title": "R语言包 canregtools 的安装和使用",
    "section": "1 功能需求",
    "text": "1 功能需求\n我们基于问卷调查的方式收集了省、市、县三级人群肿瘤登记处工作人员对登记数据常规统计分析的功能需求。经汇总整理，主要需求集中在以下五个方面：：数据读取、数据操作、统计计算、可视化以及统计报告。\n\n数据读取：读取符合全国肿瘤登记中心要求上报格式的肿瘤登记原始数据（发病、死亡和人口数据）。\n数据操作：支持对登记处或其记录进行条件筛选，按登记处的属性（如地区、城乡类型等）对数据进行重组、合并或转换，以适应不同的分析需求。\n统计计算：计算常用肿瘤登记统计指标，如粗率、标化率（中标/世标）、截缩率、累积率、构成比、年龄别率，以及质量控制指标，如病理诊断比例、死亡发病比、DCO 比例、部位不明比例等。\n可视化：绘制人口金字塔图、折线图、条形图等常用图表。\n统计报告：自动生成肿瘤登记年度报告、质量控制报告等标准化统计报表，支持格式规范、内容完整的一键输出。\n\n在信息收集过程中，得到了来自河南省、山东省、安徽省与江苏省肿瘤登记工作人员的积极支持与配合，在此谨致诚挚谢意。"
  },
  {
    "objectID": "qsight/20250704_install-canregtools-package/index.html#分类标准和方法依据",
    "href": "qsight/20250704_install-canregtools-package/index.html#分类标准和方法依据",
    "title": "R语言包 canregtools 的安装和使用",
    "section": "2 分类标准和方法依据",
    "text": "2 分类标准和方法依据\ncanregtools的主要函数均参考行业标准分析方法进行编写。数据读取函数参考全国肿瘤登记中心要求的数据上报格式编写。癌症的分类方法依据《中国肿瘤登记年报》的标准，将癌症划分为 59 个小类或 26 个大类 (国家癌症中心 2023)，或根据 GLOBOCAN 2022 提出的国际分类方案进行处理 (Bray 等 2024)。儿童肿瘤依据国际儿童分类方法第三版（International Classification of Childhood Cancer, Third Edition, ICCC3）进行分类(Steliarova-Foucher 等 2005)。年龄标化率的计算采用直接法，并基于 Gamma 分布方法估计其 95% 可信区间 (Fay 和 Feuer 1997)。累积率通过各年龄别率加权求和计算，累积风险则由累积率经公式 \\({\\text{Cumrisk} = 1 - e^{-\\text{Cumrate}}}\\) 转换而得(Sasieni 等 2011)。根据 Elandt–Johnson 模型完成简略寿命表至完全寿命表的转换(安 等 2019)。"
  },
  {
    "objectID": "qsight/20250704_install-canregtools-package/index.html#包的托管与维护",
    "href": "qsight/20250704_install-canregtools-package/index.html#包的托管与维护",
    "title": "R语言包 canregtools 的安装和使用",
    "section": "3 包的托管与维护",
    "text": "3 包的托管与维护\n为提升 R 包的更新效率并及时向用户推送最新版本，我们将相关源代码托管于 GitHub 平台https://github.com/gigu003/canregtools，便于用户获取、安装和反馈。\n\nlibrary(remotes)\ninstall_github(\"gigu003/canregtools\")\n\n由于国内网络访问github网站不太稳定，所以我们把canregtools的安装包（Windows 系统版本和 MAC OS 系统版本）存放在网盘中，大家可以关注微信公众号（普癌新声），发送 canregtools 获取 R 包的下载地址。同时也可以通过下面的代码进行安装和使用。\n\npackage_address &lt;- \"D:\\\\canregtools.tar.gz\"\ninstall.packages(package_address)\n\n同时，我们为该 R 包构建了在线文档网站 (https://canregtools.chenq.site)，用户可通过该网站查阅各函数的使用说明与示例。"
  },
  {
    "objectID": "qsight/20250704_install-canregtools-package/index.html#功能介绍和使用方法",
    "href": "qsight/20250704_install-canregtools-package/index.html#功能介绍和使用方法",
    "title": "R语言包 canregtools 的安装和使用",
    "section": "4 功能介绍和使用方法",
    "text": "4 功能介绍和使用方法\n本节将简要展示各类函数的基本用法。如需了解每个函数的详细参数与使用说明，可访问在线文档网站：https://canregtools.chenq.site。\n在功能实现过程中，我们结合作者的实际工作经验，补充设计了一类数据处理函数，用于支持向量化操作，专门实现肿瘤登记数据处理中的常见任务，如年龄标化率计算、ICD-10 编码分类等。我们将从这几个方面分别介绍其功能和相应的使用方法（示例程序代码）。\n\n4.1 数据读取\n通过canregtools中的read_canreg函数可读取1个或多个按照全国肿瘤登记中心要求的数据上报格式保存的原始excel文件，也可读取1个文件夹内的多个excel文件，文件后缀为XLS、xls、XLSX或xlsx均可。当读取的数据仅包含一个县区的登记数据时，返回的数据类型为 canreg 类；若包含多个县区的数据，则返回的数据类型为 canregs 类。相关示例程序代码如下。\n\n## 加载包\nlibrary(canregtools)\n## 读取单个肿瘤登记处数据为‘canreg’类数据\ncanreg &lt;- read_canreg(here::here(\"data\", \"raw\"))\n\n## 读取多个肿瘤登记处数据为‘canregs’类数据\ncanreg_files &lt;- list.files(\"stored_folder\")\ncanregs &lt;- read_canreg(canreg_files)\n\n\n\n4.2 数据操作\n数据操作类函数包含五个具体函数，对读入的登记处数据进行筛选、过滤以及重新分组等操作。write_registry 函数用于编辑和维护登记处的属性信息字典，如所属市、省、区域、城乡类型或用户定义的其它属性；cr_reframe 函数根据写入的登记处属性信息对 canregs 或 fbswicds 类数据进行重新合并或分组，以根据新的分组进行统计计算；count_canreg 函数，用于把 canreg 或 canregs 类数据转换为 fbswicd 或 fbswicds 类数据，在数据量较大或登记机构数量较多的情况，通过预先转换可以减少内存占用，提高计算效率；cr_select 函数可以筛选满足特定条件的登记处数据，cr_filter 函数根据对给定条件筛选登记处数据的记录行。相关示例程序代码如下。\n\n## 读取多个区县肿瘤登记数据\nfiles &lt;- c(\"410302.xls\", \"410303.xls\", \"410304.xls\", \"410305.xls\")\ncounty_data &lt;- read_canreg(files)\n\n## 编辑和维护肿瘤登记处属性信息\ndict_registry &lt;- list(\n  '410302' = '410301',\n  '410303' = '410301',\n  '410304' = '410301',\n  '410305' = '410301'\n  )\nwrite_registry(dict_registry, dict = \"registry\")\n\n## 按照‘registry’属性合并多个区县数据为一个登记处数据\nregistry_data &lt;- cr_reframe(county_data, strat = \"registry\")\n\n## 选择死亡发病比大于0.5且发病率大于300/10万的登记处数据\nselected_data &lt;- cr_select(county_data, mi &gt; 0.5, inci &gt; 300)\n\n## 筛选ICD10编码为‘C15’的数据\nfiltered_data &lt;- cr_filter(county_data,\n                           substr(icd10, 1, 3) == \"C15\"\n                           )\n\n\n\n4.3 数据处理\n数据处理类函数包括一组支持向量化操作的工具函数，主要用于实现编码重分类、人口结构估算和标准化处理等常见数据整理任务。cutage 按指定方式对年龄变量进行重新分组，如划分为五岁组、十岁组等，便于开展年龄分层统计分析；classify_icd10 函数用于对ICD10编码中的肿瘤部分编码进行归类和分组；ageadjust 函数基于直接法，结合输入的标准人口结构，对发病率或死亡率进行年龄标准化处理；esti_pop 函数采用线性内插法对缺失年份的人口结构数据进行估算；expand_lifetable 函数使用 Elandt–Johnson 方法将五岁分组的简略寿命表转换为一岁间隔的完整寿命表。相关示例程序代码如下。\n\n## 把年龄按照一定方式分为不同的组\nages &lt;- sample(30:100, 100, replace = TRUE)\nagegrps &lt;- cutage(ages, breaks = c(0, 15, 40, 65))\n\n## 把ICD10编码按照中国肿瘤登记年报的分类标准进行归类分组\nicd10 &lt;- c(\"C15.2\", \"C16.0\", \"C33.9\", \"C26.9\", \"C18.2\")\ncancer &lt;- classify_icd10(icd10, cancer_type = \"big\", lang = \"cn\")\n\n## 计算年龄别标化率\ncases &lt;- c(50, 60, 45, 70)\npop &lt;- c(1000, 1200, 1100, 900)\nspop &lt;- c(800, 1000, 1100, 900)\nrate_ageadjust &lt;- ageadjust(cases, pop, stdpop = spop, mp = 100000)\n\n## 基于 Elandt–Johnson 方法将五岁分组的简略寿命表扩充为一岁间隔的完整寿命表\nlx &lt;- c(\n  100000, 99498.39, 99294.62, 99173.88, 99047.59, 98840.46,\n  98521.16, 98161.25, 97636.99, 96900.13, 95718.96, 93930.91,\n  91463.21, 87131.41, 80525.02, 70907.59, 58090.75, 41630.48,\n  24019.33)\nlx &lt;- lx / 100000\nexpand_lifetable(lx)\n\n\n\n4.4 统计计算\n统计计算类函数用于计算肿瘤登记常规统计指标，接受的数据类型为 canreg、canregs 或 fbswicd、fbswicds 类数据。create_quality 函数用于计算人群肿瘤登记质量控制指标，如发病率、死亡率、死亡发病比、病理诊断比例、只有死亡医学证明书比例、部位不明病例比例等；create_asr 函数用于计算粗率、标化率（中标/世标）、截缩率、累积率、构成比等；create_age_rate 函数用于计算年龄别率，并支持多种格式输出。相关示例程序代码如下。\n\n## 加载内置数据集\ndata(\"canregs\")\n\n## 按照年份、性别和癌种分成计算质量控制指标\nqua &lt;- create_quality(canregs, year, sex, cancer)\n\n## 按照年份、性别以及癌种分层计算死亡粗率、标化率、截缩率等\nasr &lt;- create_asr(canregs, event = \"sws\", year, sex, cancer)\n\n## 按照年份、性别分层计算年龄别发病率\nagerate &lt;-  create_age_rate(canregs, year, sex)\n\n\n\n4.5 可视化\n可视化函数用于绘制肿瘤登记报告常用统计图。draw_pyramid 函数绘制人口金字塔图；draw_linechart 函数用于绘制折线图；draw_barchart 函数用于绘制条形图。相关示例程序代码如下。\n\n# 加载示例数据\ndata(\"canregs\")\n\n## 绘制人口金字塔图\npop &lt;- canregs[[1]]$POP\ndraw_pyramid(pop, x = agegrp, y = rks, group = sex,\n             show_value = F, csize = 0.8, cgap = 0.2,\n             labs = c(\"男性\", \"年龄组\", \"女性\"),\n             cols = c(\"#708090\", \"#f08080\"))\n\n## 绘制折线图\nagerate &lt;- create_age_rate(canregs[[1]], sex)\ndraw_linechart(agerate,\n               x = agegrp,\n               y = rate,\n               group = sex,\n               axis_label = c(\"年龄(岁)\", \"年龄别发病率 (1 / 10万 )\"))\n\n## 绘制条形图\nasr &lt;- create_asr(canregs[[1]], sex, cancer) |&gt;\n  cr_filter(drop = c(\"total\", \"others\"))\ndraw_barchart(asr, x = cancer, y = asr_wld85, group = sex,\n              y_label = c(\"标化发病率(1/10万)\"),\n              cols = c(\"#708090\", \"#f08080\"))\n\n\n\n4.6 统计报告\ncanregtools具有自动生成报告的功能，create_report函数可以基于canreg类数据生成单个肿瘤登记处的报告，基于canregs类数据生成多个肿瘤登记处的报告。输出报告的文件类型可以是Word、html或pdf，输出报告类型包括年度常规报告、质量控制报告和五大洲癌症发病率质量控制报告。相关示例程序代码如下。\n\n## 加载内置数据集\ndata(\"canregs\")\n\n## 生成统计报告\ncreate_report(canregs[[1]],\n              template = \"annual\",\n              title = \"Cancer Registry Report\",\n              output_format = \"word_document\"\n              )"
  },
  {
    "objectID": "qsight/20250704_install-canregtools-package/index.html#小结",
    "href": "qsight/20250704_install-canregtools-package/index.html#小结",
    "title": "R语言包 canregtools 的安装和使用",
    "section": "5 小结",
    "text": "5 小结\n我们开发了一个名为 canregtools 的 R 语言包用于肿瘤登记数据的常规统计分析，本文介绍了该工具各类函数实现功能的方法依据、使用方法和推荐的操作流程，使大家对canregtools的功能实现有个总体的认识。"
  },
  {
    "objectID": "qsight/2011-08-16-SAS-compress/index.html",
    "href": "qsight/2011-08-16-SAS-compress/index.html",
    "title": "COMPRESS函数",
    "section": "",
    "text": "下列资料来源于网络：\n\ncompress() 函数的基本形式\n\n语法：\ncompress (&lt;, chars&gt;&lt;, modifiers&gt;)\n参数：\nsource: 指定一个字符串来源\nchars: 指定要删除或者保留的字符列表，需用引号\nmodifiers: 指定修饰符，不区分大小写，用来控制 compress 函数，常用的修饰符及意义见本文的最后部分\n\ncompress() 函数应用举例\n\n已有数据集 have：\ndata have;\ninput char $20.; \ncards; \nElek dot Me Yuewei-Liu HOME-027-8765 4321 ; run;\n例1. 删除空格：可以直接省去第二和第三个 Arguments，也可以明确将空格加入到字符串列表中，也就是第二个 Argument。\ndata test; \nset have; \nchar1=compress(char); \nrun; \n\ndata test; \nset have; \nchar1=compress(char,\" \"); \nrun;\n例2. 使用修饰符删除小写字母：将修饰符设定为”l”，代表 lowcase，即将所有的小写字母加入到要删除的字符列表中；如不用修饰符”l”，也可以直接把所有a-z的小写字母列入要删除的字符串列表当中，效果一样，但显然前者比较简单；本例可以将所有小写字母和大写的”E”从指定的字符串中删除。\ndata test; \nset have; \nchar1=compress(char,\"E\",\"l\"); \nrun;\ndata test; \nset have; \nchar1=compress(char,\"abcdefghijklmnopqrstuvwxyzE\"); \nrun;\n例3. 保留指定的字符：字符列表的定义与前面类似，只需将”K”或”k”写入修饰符，或者在字符串列表中加入所有数字。本例为保留所有数字和”HOME“中的字符。\ndata test; \nset have; \nchar1=compress(char,\"HOME\",\"dk\"); \nrun; \n\ndata test; \nset have; \nchar1=compress(char,\"HOME1234567890\",\"k\"); \nrun;\n附：常用的修饰符及其意义\n\na/A adds letters of the Latin alphabet (A - Z, a - z) to the list of characters. 所有拉丁字母，包括 a-z A-Z d/D adds numerals to the list of characters.所有数字\nf/F adds the underscore character and letters of the Latin alphabet (A - Z, a - z) to the list of characters.下划线和所有拉丁字母\ng/G adds graphic characters to the list of characters.\ni/I ignores the case of the characters to be kept or removed.忽略要删除或保留字符的大小写\nk/K keeps the characters in the list instead of removing them.保留字符串列表中的字符\nl/L adds lowercase letters (a - z) to the list of characters.所有小写拉丁字母\nn/N adds numerals, the underscore character, and letters of the Latin alphabet (A - Z, a - z) to the list of characters.下划线，数字和所有拉丁字母\ns/S adds space characters to the list of characters (blank, horizontal tab, vertical tab, carriage return, line feed, and form feed).定位符，如空格、tab等\nt/T trims trailing blanks from the first and second arguments.去掉第一和第二个 Arguments 里的尾部空格\nu/U adds uppercase letters (A - Z) to the list of characters.所有大写拉丁字母\n\n\n\n\n\n\n  \n    \n  \n  \n    陈 琼\n       博士 \n       副主任医师 \n    他从事肿瘤登记与人群流行病学研究，编写肿瘤登记年报，并开发和维护个人网站。他撰写博文，分享数据分析方法、可视化技巧和自动化报告解决方案，同时学习 R 语言，开发 R 包，不断探索高效的数据处理与展示方式。 🚀\n    \n      \n        \n      \n      \n        \n      \n      \n        \n      \n    \n  \n\n 回到顶部"
  },
  {
    "objectID": "qsight/2023-02-27-create-logo/index.html",
    "href": "qsight/2023-02-27-create-logo/index.html",
    "title": "开发R包一定要有一个高逼格logo",
    "section": "",
    "text": "canregtools\n自从我参加工作以来，一直使用SAS统计软件协助分析肿瘤登记数据。在这段时间内，我积累了大量的SAS宏和程序，对我的工作产生了很大的帮助。比如说，肿瘤数据的逻辑核查功能、报告数据生成功能、制作肿瘤登记年报等，这些程序在很大程度上提高了工作效率。但是，与R语言或Stata软件不同，SAS公司没有以包的形式分享相关的函数或功能，这也带来了很多不便。跟同事分享SAS分享程序时，可能因为系统环境或者其他因素的不同，造成程序不能执行。R包的制作有严格的流程和要求，能够很大程度上避免这种情况的发生。\n今年年初定下的目标就是利用休息时间把这个包付出实践，最近这几天制作了其中的一个函数classify_icd10()，以后有时间再逐步完善相关的功能。虽然现在只有这一个函数，但是麻雀虽小五脏俱全。包的名字从cnCanreg到PBCRtools，再到canregtools，已经换了三次了，最终采用canregtools。canregtools的代码托管到了github上，以方便代码管理。制作了canregtools网站，方便使用者查找并使用相关功能。\n为了提高逼格，还制作了canregtools的logo，把一个癌细胞的图片和河南省癌症的年龄别发病率曲线整合到一块，最后制作成了六角的logo。\n下面跟大家分享一下制作这个logo的代码。"
  },
  {
    "objectID": "qsight/2023-02-27-create-logo/index.html#制作癌症年龄别发病率折线图",
    "href": "qsight/2023-02-27-create-logo/index.html#制作癌症年龄别发病率折线图",
    "title": "开发R包一定要有一个高逼格logo",
    "section": "1 制作癌症年龄别发病率折线图",
    "text": "1 制作癌症年龄别发病率折线图\n首先，读入年龄别发病率的数据，然后，利用ggplot2制作折线图，重点是要把图片背景设置成透明。\n\n# 加载tidyverse包 \nlibrary(tidyverse)\n# 读取年龄别发病率数据\ndata &lt;- read.csv(\"data.csv\")\nhead(data)\n\n   sex agegrp incidence\n1 Male      0     15.06\n2 Male      1     11.78\n3 Male      5     11.51\n4 Male     10     11.56\n5 Male     15     14.92\n6 Male     20     15.37\n\n#绘制癌症年龄别发病率折线图\npic &lt;-\n  data %&gt;% \n  ggplot(aes(x=agegrp,y=incidence,color=sex))+\n  geom_line(size=0.2) +\n  ylab(\"Cancer Incidence\")+\n  xlab(\"Age groups (years)\")+\n  theme_void()+\n  theme(legend.position = \"none\",\n        plot.background = element_blank()\n        )\n\nplot(pic)"
  },
  {
    "objectID": "qsight/2023-02-27-create-logo/index.html#把肿瘤细胞图片读入r中",
    "href": "qsight/2023-02-27-create-logo/index.html#把肿瘤细胞图片读入r中",
    "title": "开发R包一定要有一个高逼格logo",
    "section": "2 把肿瘤细胞图片读入R中",
    "text": "2 把肿瘤细胞图片读入R中\n我从google上搜索了一张癌细胞的图片，并利用在线工具把这张图片的背景去除。然后，利用magick包读取图片进入R环境中，转化成ggplot2可识别的元素，最后，以注释的方式加入前面生成折线图中。\n\nlibrary(magick)\n\nLinking to ImageMagick 6.9.12.93\nEnabled features: cairo, fontconfig, freetype, heic, lcms, pango, raw, rsvg, webp\nDisabled features: fftw, ghostscript, x11\n\n# 读取肿瘤细胞的图片\npcs &lt;- image_read(\"cancer-cell.png\")\nimage &lt;- image_fill(pcs,\"none\")\nraster &lt;- as.raster(image)\n\n# 把肿瘤细胞的图片添加到ggplot2绘制的折线图上\nmyplot &lt;- pic +\n  annotation_raster(raster = raster, 0, 30, 100, 700)\nmyplot"
  },
  {
    "objectID": "qsight/2023-02-27-create-logo/index.html#制作六角r包logo",
    "href": "qsight/2023-02-27-create-logo/index.html#制作六角r包logo",
    "title": "开发R包一定要有一个高逼格logo",
    "section": "3 制作六角R包logo",
    "text": "3 制作六角R包logo\n最后利用hexSticker包制作logo，具体语句如下。\n\nlibrary(hexSticker)\n\nsticker(\n  pic,\n  s_x = 1,\n  s_y = 0.8,\n  s_width = 1,\n  s_height = 1,\n  package = \"canregtools\",\n  p_size = 23,\n  p_color = \"#f5f5f5\",\n  p_fontface = \"bold\",\n  p_family = \"STKaiti\",\n  h_fill = \"#3fc1c9\",\n  h_color = \"#364f6b\",\n  h_size = 0.5,\n  url = \"packages.chenq.site/canregtools\",\n  u_size = 5,\n  u_color = \"#fc5185\",\n  spotlight = T,\n  l_y = 1.8,\n  l_x = 1,\n  l_width = 2,\n  l_height = 2,\n  l_alpha = .3,\n  filename =\"dddd.png\",\n  dpi =\"retina\")\ngetwd()\n\n[1] \"/Users/qc0824/Documents/2_Areas/Website/chenq.site/qsight/2023-02-27-create-logo\"\n\n\n效果怎么样？对于审美感不足的我来说， 还算可以吧！"
  },
  {
    "objectID": "qsight/2022-03-09-icdo3-icd10/index.html",
    "href": "qsight/2022-03-09-icdo3-icd10/index.html",
    "title": "ICD10编码与ICDO3编码有何异同？",
    "section": "",
    "text": "ICD10是疾病和有关健康问题的国际统计分类第十次修订本(The International Classification of Diseases ，ICD10)。国际疾病分类（ICD）是WHO制定的国际统一的疾病分类方法，它是一个根据疾病的特征，将疾病分门别类，成为一个有序的组合，并用编码的方法来表示的系统。。ICD分类体系使卫生从业人员能够通过一种通用语言来交换世界各地的卫生信息。\nICD已有110年的发展历史了，早在1891年为了对死亡进行统一登记，国家统计研究所组织了一个对死亡原因分类的委员会进行工作，1893年委员会主席Jacques Bertillon 提出了一个分类方法《国际死亡原因编目》，这就是第一版ICD。以后，基本上以每10年为一个周期修订一次。1989年在日内瓦 第10次修改版本在世界范围内得到广泛应用。一直沿用至今。\n ## ICD10编码的分类依据\n任何一个分类体系都需要有分类的依据，ICD的分类原则是以病因为主、解剖部位、病理、临床表现为轴心的基本原则，分类体系的依据如下：\n\n病因：造成疾病的原因\n部位：疾病发生的部位\n病理特征：肿瘤良性或恶性\n临床表现：疾病的症状、体征、分期、分型、急慢性等\n\n下图列出了ICD10编码不同章节编码的分类依据。"
  },
  {
    "objectID": "qsight/2022-03-09-icdo3-icd10/index.html#icd10是什么",
    "href": "qsight/2022-03-09-icdo3-icd10/index.html#icd10是什么",
    "title": "ICD10编码与ICDO3编码有何异同？",
    "section": "",
    "text": "ICD10是疾病和有关健康问题的国际统计分类第十次修订本(The International Classification of Diseases ，ICD10)。国际疾病分类（ICD）是WHO制定的国际统一的疾病分类方法，它是一个根据疾病的特征，将疾病分门别类，成为一个有序的组合，并用编码的方法来表示的系统。。ICD分类体系使卫生从业人员能够通过一种通用语言来交换世界各地的卫生信息。\nICD已有110年的发展历史了，早在1891年为了对死亡进行统一登记，国家统计研究所组织了一个对死亡原因分类的委员会进行工作，1893年委员会主席Jacques Bertillon 提出了一个分类方法《国际死亡原因编目》，这就是第一版ICD。以后，基本上以每10年为一个周期修订一次。1989年在日内瓦 第10次修改版本在世界范围内得到广泛应用。一直沿用至今。\n ## ICD10编码的分类依据\n任何一个分类体系都需要有分类的依据，ICD的分类原则是以病因为主、解剖部位、病理、临床表现为轴心的基本原则，分类体系的依据如下：\n\n病因：造成疾病的原因\n部位：疾病发生的部位\n病理特征：肿瘤良性或恶性\n临床表现：疾病的症状、体征、分期、分型、急慢性等\n\n下图列出了ICD10编码不同章节编码的分类依据。"
  },
  {
    "objectID": "qsight/2022-03-09-icdo3-icd10/index.html#icd10编码的基本结构及特点",
    "href": "qsight/2022-03-09-icdo3-icd10/index.html#icd10编码的基本结构及特点",
    "title": "ICD10编码与ICDO3编码有何异同？",
    "section": "2 ICD10编码的基本结构及特点",
    "text": "2 ICD10编码的基本结构及特点\nWHO只提供了4位编码的ICD10，各国在引用的时候可以添加附加码来增加疾病数量。根据WHO规定，各国本地化版本都可以对照转化成标准的ICD-10编码，以便国际间交流。\n\n\n\n\n\n\n\n\n\nWHO提供的基础版本只有4位编码，比如C16.0，但是临床常见的编码多为6位，比如K29.401，而增加的两位是我们国家根据实际应用需要增加的拓展码。"
  },
  {
    "objectID": "qsight/2022-03-09-icdo3-icd10/index.html#icd10哪些编码是肿瘤",
    "href": "qsight/2022-03-09-icdo3-icd10/index.html#icd10哪些编码是肿瘤",
    "title": "ICD10编码与ICDO3编码有何异同？",
    "section": "3 ICD10哪些编码是肿瘤？",
    "text": "3 ICD10哪些编码是肿瘤？\n\nC00-C97 恶性肿瘤\nD00-D09 原位肿瘤\nD10-D36 良性肿瘤\n(D32-D33中枢神经系统的良性肿瘤)\nD37-D48 动态未定肿瘤\n（D42-D43中枢神经系统动态未定肿瘤）\n\n目前我国肿瘤登记要求上报的范畴包括全部恶性肿瘤+中枢神经系统的肿瘤+原位肿瘤，也就是所有恶性肿瘤 + D32-33 和 D35.2-4 + D00-D09"
  },
  {
    "objectID": "qsight/2022-03-09-icdo3-icd10/index.html#icd10编码与icdo3有何异同点",
    "href": "qsight/2022-03-09-icdo3-icd10/index.html#icd10编码与icdo3有何异同点",
    "title": "ICD10编码与ICDO3编码有何异同？",
    "section": "4 ICD10编码与ICDO3有何异同点？",
    "text": "4 ICD10编码与ICDO3有何异同点？\n前面的几篇文章介绍了ICDO3编码的结构和特点，我们知道ICDO3编码是在ICD的基础上发展成为一个既有解剖学部位、又有形态学编码系统的双重分类体系。\n其实我们现在讨论的ICD10编码与ICDO3编码有何异同，也是指的ICD10和ICDO3的解剖学部位编码有何异同？\nICD-10与ICD-O-3解剖部位编码不一致\n下表列出的疾病在ICD10编码和ICDO3编码存在一点差异，主要是对于亚部位未特指的编码在ICD10中直接省去小数点及后面的编码，也就是三位编码（C01），而ICDO3中则用.9来表示亚部位未特指，如（C01.9）。\n\n\n\n疾病描述\nICD10\nICDO3\n\n\n\n\n舌根/舌底\nC01\nC01.9\n\n\n腮腺NOS\nC07\nC07.9\n\n\n梨状窦/梨状窝\nC12\nC12.9\n\n\n直肠乙状结肠连接处\nC19\nC19.9\n\n\n直肠壶腹/直肠NOS\nC20\nC20.9\n\n\n胆囊\nC23\nC23.9\n\n\n气管\nC33\nC33.9\n\n\n胸腺\nC37\nC37.9\n\n\n阴道\nC52\nC52.9\n\n\n子宫NOS\nC55\nC55.9\n\n\n卵巢\nC56\nC56.9\n\n\n胎盘\nC58\nC58.9\n\n\n前列腺NOS\nC61\nC61.9\n\n\n肾（实质）\nC64\nC64.9\n\n\n肾盂/肾盏/肾盂输尿管连接处\nC65\nC65.9\n\n\n输尿管\nC66\nC66.9\n\n\n甲状腺\nC73\nC73.9\n\n\nNOS\nC80\nC80.9\n\n\n\nICDO3解剖学部位编码独有而ICD10中不存在的编码\n\nC42造血和网状内皮系统\nC42.0 血液\nC42.1 骨髓\nC42.2 脾\nC42.3 网状内皮系统NOS\nC42.4 造血系统NOS\n\n这部分编码一般对应ICD10的编码范围为C81.0~C96.9\nICD10独有的编码\nICD10编码的C22.0至C22.9是包含解剖学部位和形态学信息的编码，比如C22.0为发生在肝脏的干细胞癌，C22.2是发生与肝脏的母细胞瘤；而这些编码与两个ICDO3的解剖学部位编码对应，一个是C22.0肝脏和一个是C22.1肝内胆管，而ICD编码中的形态学信息则放入ICDO3编码的形态学编码里。比如ICD10编码的C22.2转换为ICDO3则为C22.0 M8970/33。\n\n\n\n疾病描述\nICD10\nICDO3解剖学\n\n\n\n\n肝细胞癌\nC22.0\nC22.0\n\n\n肝内胆管癌/肝小胆管癌\nC22.1\nC22.1 M8180/3\n\n\n肝母细胞瘤\nC22.2\nC22.0 M8970/3\n\n\n肝血管肉瘤\nC22.3\nC22.0\n\n\n肝的其它肉瘤\nC22.4\nC22.0\n\n\n其它特指的肝癌\nC22.7\nC22.0\n\n\n肝，NOS\nC22.9\nC22.0\n\n\n皮肤恶性黑色素瘤\nC43\n\n\n\n唇\nC43.0\nC44.0\n\n\n眼睑\nC43.1\nC44.1\n\n\n耳和外耳道\nC43.2\nC44.2\n\n\n面部其它，NOS\nC43.3\nC44.3\n\n\n头皮和颈\nC43.4\nC44.4\n\n\n躯干\nC43.5\nC44.5\n\n\n上肢\nC43.6\nC44.6\n\n\n下肢\nC43.7\nC44.7\n\n\n皮肤交搭跨越\nC43.8\nC44.8\n\n\n皮肤，NOS\nC43.9\nC44.9\n\n\n脾\nC26.1\nC42.2\n\n\n\nICD10编码里的良性肿瘤/原位癌/动态未定等信息转换为ICDO3的行为编码，也就是说ICDO3的解剖学编码都是以C开头，而不存在以D或其它字母开头的情况。\n\n\n\n疾病诊断\nICD10范围\nICDO3 行为编码\n\n\n\n\n原位肿瘤\nD00-D09\n2\n\n\n良性肿瘤\nD18-D35\n0\n\n\n动态未定或动态未知的肿瘤\nD39-D48\n1\n\n\n\n其他ICD10独有的编码\n\n\n\n疾病诊断\nICD10\nICDO3\n\n\n\n\n间皮瘤\nC45\n\n\n\n胸膜瘤\nC45.0\nC38.4\n\n\n腹膜间皮瘤\nC45.1\nC84._\n\n\n心包间皮瘤\nC45.2\nC38.0\n\n\n其他部位的间皮瘤\nC45.7\n\n\n\n间皮瘤，未特指\nC45.9\n\n\n\n卡波西肉瘤\nC46\nM9140/3，可发生多部位\n\n\n呼吸和消化器官的继发\nC78\nC80.9\n\n\n其他部位的继发\nC79\nC80.9\n\n\n淋巴、造血和有关组织\nC81-C96\nC42._\n\n\n独立的多个部位的原发性\nC97"
  },
  {
    "objectID": "qsight/20250326_pbcr-data-analysis-thoughts/index.html",
    "href": "qsight/20250326_pbcr-data-analysis-thoughts/index.html",
    "title": "基于 R 语言构建人群肿瘤登记数据分析工具",
    "section": "",
    "text": "该文章介绍了一款专为人群肿瘤登记开发的 R 语言工具包（canregtools），用于内部一致性逻辑审核、统计分析、数据可视化和报告撰写。文章详细阐述了 R 包的开发背景、设计思路、功能验证、应用场景及未来规划，旨在提升肿瘤登记工作的效率，帮助工作者解决常见难题。我们希望该工具集能为肿瘤登记工作提供有力支持，并期待领域内专家的宝贵意见，以进一步优化和完善其功能。"
  },
  {
    "objectID": "qsight/20250326_pbcr-data-analysis-thoughts/index.html#开发背景",
    "href": "qsight/20250326_pbcr-data-analysis-thoughts/index.html#开发背景",
    "title": "基于 R 语言构建人群肿瘤登记数据分析工具",
    "section": "1 开发背景",
    "text": "1 开发背景\n人群肿瘤登记（Population-Based Cancer Registration, PBCR）是国家癌症防控计划的重要组成部分，旨在提供癌症的发病率、死亡率和生存率等核心数据，为制定和评估国家癌症防控策略提供科学依据1。自20世纪60年代中国建立第一个肿瘤登记处以来，肿瘤登记工作取得了显著进展，目前已建立覆盖全国所有县区的肿瘤监测体系。随着工作的不断推进，人群肿瘤登记处的数量迅速增加，同时也积累了大量的数据。因此，如何从多个层面深入分析并充分利用肿瘤登记数据，以支持科学决策并优化癌症防控措施，具有重要的现实意义1。高质量的数据是促进其充分利用的前提，然而，随着PBCR数量的快速增加，数据质量却参差不齐，如何持续提升数据质量已经成为各级肿瘤登记处亟待解决的重大问题。个案记录和登记处层面的质量评估与控制是确保肿瘤登记数据质量的关键措施，并已成为肿瘤登记工作实践中的核心组成部分，仍是中国现有肿瘤登记工作中的重点和难点之一。除此之外，PBCR数据的可视化、输出各种类型的统计报告包括质量控制报告、工作报告和肿瘤登记年报也是一项十分重要并且非常耗费时间的工作内容，如何快速且高质量地输出各种类型的统计报告具有重要意义。\n目前，可用于肿瘤登记的数据处理工具有多种，主要包括国际癌症研究中心/国际肿瘤登记处（IARC/IACR）发布的 IARCcrgTools2（内部一致性逻辑审核和编码转换软件）、CanReg53（数据录入与管理软件），以及欧洲肿瘤登记协作网络（ENCR）发布的 JRC QCS（质量核查软件）4。此外，一些肿瘤登记处还开发了适用于自身需求的软件。这些软件各自针对特定目的而设计，例如 IARCcrgTools5主要用于数据的一致性审核和编码转换，CanReg5 负责数据录入、管理，并具备部分统计分析和可视化功能，而 JRC QCS 则按照 ENCR 标准执行质量审核。\n然而，使用这些软件处理和分析中国肿瘤登记数据时面临一些不足和限制。首先，它们的操作方式主要依赖鼠标手动执行，对于自动化处理需求支持有限，因此难以实现对多个肿瘤登记处数据的批量自动化操作。第二，这些软件的功能实现基于国际通用标准或欧洲标准执行，而中国肿瘤登记除了基于国际通用标准收集的变量（ICDO3、ICD10、诊断依据等）之外，部分变量则按照中国肿瘤登记数据集标准6进行收集（如职业、婚姻、学历、身份识别信息等），这些软件无法对这些变量进行逻辑审核。第三，中国有数千个肿瘤登记处，这些软件无法实现对肿瘤登记数据分级整合和管理功能。\n基于这一背景，我们开发了一个名为 canregtools 的 R 语言包，旨在 R 语言环境中实现 PBCR 的常规统计分析，提升数据分析效率和质量，同时简化数据一致性审核、可视化和统计报告等功能。"
  },
  {
    "objectID": "qsight/20250326_pbcr-data-analysis-thoughts/index.html#为什么选择r语言",
    "href": "qsight/20250326_pbcr-data-analysis-thoughts/index.html#为什么选择r语言",
    "title": "基于 R 语言构建人群肿瘤登记数据分析工具",
    "section": "2 为什么选择R语言",
    "text": "2 为什么选择R语言\n中国已有多位专家开发了用于肿瘤登记数据管理与统计分析的软件。早在 2012 年，天津医科大学附属肿瘤医院的王庆生教授开发了一款肿瘤登记数据管理与分析系统，集成了数据录入、管理及统计分析功能7，并在当年哈尔滨举办的全国肿瘤登记会议上进行了相关培训。我也有幸参与了此次会议。此外，国家癌症中心的郑荣寿教授编写了一套功能强大的 SAS 宏程序，该程序可调用 IARCcrgTools 软件，实现内部一致性逻辑审核、统计分析及统计报告的自动生成。而上海市疾控中心的吴春晓教授则基于微软 Access 软件开发了肿瘤登记数据统计分析系统，该系统能够生成多种预设统计表，进一步提升数据分析的便捷性和效率。\n然而，这些高效的软件在推广和普及方面受到一定限制，主要原因在于权限要求和操作系统兼容性。例如，SAS 和 Access 软件均无法在 Mac  或 Linux  操作系统上运行，且它们的使用需要购买许可证，否则无法正常使用。这些因素限制了其在更广泛用户群体中的应用。\n相比之下，R 语言是一款免费且开源的统计分析软件，不受权限限制，用户可以自由使用和共享。此外，R 语言的开发社区极为活跃，许多 R 语言包可以托管在 CRAN、GitHub 等平台，用户能够方便地安装和使用。\n我过去一直使用 SAS 作为主要的统计分析工具，特别是在肿瘤登记数据的分析工作中。然而，2021 年，我更换了一台  Mac 作为主力工作电脑，熟悉的 SAS 软件无法运行。其实，我也不想再到处寻找 SAS 的许可证，因此，我开始转向 R 语言，并将其作为主要的统计分析工具。这也是选择R语言作为开发软件的主要原因。"
  },
  {
    "objectID": "qsight/20250326_pbcr-data-analysis-thoughts/index.html#开发思路",
    "href": "qsight/20250326_pbcr-data-analysis-thoughts/index.html#开发思路",
    "title": "基于 R 语言构建人群肿瘤登记数据分析工具",
    "section": "3 开发思路",
    "text": "3 开发思路\n最初编写 canregtools R 包的构想是实现一整套针对肿瘤登记数据的处理和分析功能，包括数据读取、变量格式标准化、内部一致性逻辑审核、质量控制指标计算、常规统计分析、常用统计图生成以及按照模板输出报告等。\n我们起初计划将所有功能整合到一个 canregtools 包中。然而，在实现了大部分常规统计分析和内部一致性逻辑核查功能后，我们发现该包已经包含了过多的函数和字典，这不仅增加了代码的复杂性，还不利于后续的升级和维护。因此，我们决定将其拆分为多个专门化的 R 包，以实现不同的功能。\n\ncanregtools 用于读取肿瘤登记数据、常规统计分析、按照肿瘤登记处属性进行数据的整合和转换、按照模板输出报告（图 1）；\ncrcheck 用于变量的内部一致性逻辑审核，帮助理解肿瘤登记逻辑审核规则（图 2）；\nggcanreg 专注于肿瘤登记数据的可视化，绘制金字塔图、条形图、折线图、统计地图等常见类型的统计图（图 3）；\nmanuscript 用于编写及生成各种类型的统计报告，如质量控制报告、数据分析报告、肿瘤登记年报等编写和管理维护（图 4）。\n\n\n\n\n\n\n\n\n\n\n图 1: 统计分析\n\n\n\n\n\n\n\n\n\n\n\n图 2: 逻辑审核\n\n\n\n\n\n\n\n\n\n\n\n图 3: 数据可视化\n\n\n\n\n\n\n\n\n\n\n\n图 4: 报告撰写\n\n\n\n\n\n\n通过这些 R 包的组合，可以完整覆盖从个案级别的数据质量审核到最终统计报告输出的整个流程。这种模块化的设计思路借鉴了 tidyverse 系列包的管理方式，使得各个功能模块既能独立运行，又能灵活组合，以适应不同的分析需求。"
  },
  {
    "objectID": "qsight/20250326_pbcr-data-analysis-thoughts/index.html#s3类和泛函数",
    "href": "qsight/20250326_pbcr-data-analysis-thoughts/index.html#s3类和泛函数",
    "title": "基于 R 语言构建人群肿瘤登记数据分析工具",
    "section": "4 S3类和泛函数",
    "text": "4 S3类和泛函数\nR语言提供了三种主要的面向对象编程（OOP）系统：S3、S4和R6。在肿瘤登记数据分析场景中，我们选择基于S3类的泛型函数实现面向对象编程。相较于更复杂的S4和R6系统，S3以其简洁的语法和灵活的扩展性完全满足项目需求。具体实现中，我们通过为原始数据集、中间计算结果等对象定义不同的S3类，并针对这些类编写泛型函数（generic function），最终实现多态编程机制——即同名函数在不同类对象上能执行差异化操作。\n在数据导入环节，我们设计了层级化的对象系统：通过read_canreg()函数，肿瘤登记数据可被加载为单登记处对象（canreg类，图 5）或多登记处集合对象（canregs类）。这种类层级划分使后续分析具备多态扩展能力——基于这两个类实现的泛型函数count_canreg()会根据输入对象类型自动适配统计逻辑：当输入为canreg类时执行单数据集频数统计，输入canregs类时则进行跨数据集的合并统计。"
  },
  {
    "objectID": "qsight/20250326_pbcr-data-analysis-thoughts/index.html#设计数据类型",
    "href": "qsight/20250326_pbcr-data-analysis-thoughts/index.html#设计数据类型",
    "title": "基于 R 语言构建人群肿瘤登记数据分析工具",
    "section": "5 设计数据类型",
    "text": "5 设计数据类型\n在处理肿瘤登记数据之前，首先需要将其导入 R 语言环境。对于工具开发而言，确定一个统一的数据格式是关键，因为数据读取函数应基于这种格式进行编写。我们常规分析的肿瘤登记数据主要包括三部分：肿瘤发病数据、肿瘤死亡数据和对应的人口数据，这也是国家癌症中心要求上报的数据格式。原始数据通常以 Excel 文件的形式存储，其中包含三个表单：FB（发病数据）、SW（死亡数据）和 POP（人口数据）。其中，FB 和 SW 表单包含的主要变量包括：登记编号、性别、年龄、出生日期、发病日期、解剖学部位、形态学、行为、分级、诊断依据、ICD-10 代码以及死亡日期等，其变量定义符合中国肿瘤登记数据集标准。POP 表单则包含与 FB 和 SW 表单相同年份的、按性别和年龄组划分的人口数据。\n我们引入了两个 S3 类数据类型（图 5, 图 6），以支持高效的肿瘤登记数据处理和分析。 “canreg”（图 5） 类用于存储读入的原始数据，而 “fbswicd”（图 6） 类基于 “canreg” 数据进行计数统计，保存分年份、性别、癌种及年龄别的发病数、死亡数等统计信息。通过 count_canreg 函数，用户可以轻松将 “canreg” 类数据转换为 “fbswicd” 类数据。针对数据量较大或登记机构数量较多的情况，直接对 “canreg” 类数据进行重组和合并可能会占用大量内存并影响运行效率，而通过将其转换为 “fbswicd” 类数据后进行操作，可显著优化内存使用并提高计算效率。\n\n\n\n\n\n\n\n\n\n图 5: S3类：Canreg（读入原始数据）\n\n\n\n\n\n\n\n\n\n\n\n图 6: S3类：FBSWICD （频数数据）"
  },
  {
    "objectID": "qsight/20250326_pbcr-data-analysis-thoughts/index.html#功能验证",
    "href": "qsight/20250326_pbcr-data-analysis-thoughts/index.html#功能验证",
    "title": "基于 R 语言构建人群肿瘤登记数据分析工具",
    "section": "6 功能验证",
    "text": "6 功能验证\n在开发 canregtools 包的过程中，我们严格遵循相关的最佳实践和开发规范，以确保其质量和可信度。首先，我们使用 devtools 包的 check() 函数对 R 包的结构、依赖性及基本文档进行全面检查，确保其符合 R 包的基本要求。然后，借助 testthat 包对核心函数进行功能性测试，以验证其正确性。接着，利用 covr 包评估测试代码的覆盖率，以提高包的稳定性。同时，我们采用 roxygen2 包自动生成帮助文档，确保文档的完整性和准确性，并通过 devtools 包的 document() 函数重新生成文档，以确保示例代码的正确性。此外，我们还配置了 GitHub Actions 实现自动化测试，使代码每次提交后都能自动进行测试，并生成 R 包的网站。通过上述措施，我们对 canregtools 进行了全面验证，以提升其质量和可靠性。\n为了进一步提高该工具集的可信度，我们计划将各个 R 包的开发过程和功能通过期刊论文的形式发表，以接受同行评审，并获得相关专家的反馈和建议，从而进一步优化 R 包的设计和功能。目前，canregtools 包已被 《中华肿瘤杂志》接收发表，其他 R 包的论文也在陆续投稿和发表过程中。"
  },
  {
    "objectID": "qsight/20250326_pbcr-data-analysis-thoughts/index.html#部署安装与使用",
    "href": "qsight/20250326_pbcr-data-analysis-thoughts/index.html#部署安装与使用",
    "title": "基于 R 语言构建人群肿瘤登记数据分析工具",
    "section": "7 部署安装与使用",
    "text": "7 部署安装与使用\n目前，上述的四个 R 语言包均仍处于开发和优化阶段。我们已将 canregtools 和 crcheck 包托管在 GitHub 平台上，供用户试用并反馈意见，而 ggcanreg 和 manuscript 包仍有部分功能尚未完成，我们正积极推进开发工作，争取尽快发布。在 GitHub 上托管这些 R 包只是第一步，待功能稳定后，我们计划陆续将其提交至 CRAN，以便用户能够更加便捷地安装和使用。\n\ncanregtools: Github地址， R包网站\ncrcheck: Github地址\n\n如何安装？\n\n# 需要提前安装devtools包\ninstall.packages(\"devtools\")\nlibrary(devtools)\n\n# 安装并加载canregtools包\ninstall_github(\"gigu003/canregtools\")\nlibrary(canregtools)\n\n# 安装并加载crcheck包\ninstall_github(\"gigu003/crcheck\")\nlibrary(crcheck)"
  },
  {
    "objectID": "qsight/20250326_pbcr-data-analysis-thoughts/index.html#后续规划",
    "href": "qsight/20250326_pbcr-data-analysis-thoughts/index.html#后续规划",
    "title": "基于 R 语言构建人群肿瘤登记数据分析工具",
    "section": "8 后续规划",
    "text": "8 后续规划\n虽然我们已经尽可能地将肿瘤登记相关功能封装为函数，供大家使用，但对于不熟悉 R 语言的用户而言，仍然存在一定的使用门槛。因此，我们计划进一步利用 R Shiny 开发一个可视化界面，使这些常用功能能够通过图形界面进行操作。此外，为了用户能够方便的理解和学习使用R包，我们还需要为各个R包编写网站和详细的使用文档，尽管这将是一个耗时的过程，但却至关重要。另一项重要的工作是将这些 R 包与 R 语言本身以及 Shiny 界面整合，并打包成可独立安装的应用程序（App），这样用户无需单独安装 R 语言和 R 包，从而降低使用难度，使其对非 R 语言用户更加友好。\n\n\n\n\n\n\n开发计划\n\n\n\n\n基于 R Shiny 开发软件界面\n封装成可独立安装的应用程序\n编写R包网站和使用文档"
  },
  {
    "objectID": "qsight/20250326_pbcr-data-analysis-thoughts/index.html#小结",
    "href": "qsight/20250326_pbcr-data-analysis-thoughts/index.html#小结",
    "title": "基于 R 语言构建人群肿瘤登记数据分析工具",
    "section": "9 小结",
    "text": "9 小结\n肿瘤登记是数据采集流程和质量控制最为复杂的监测工作之一。由于肿瘤诊断的复杂性，基层工作人员在实际工作中面临诸多挑战，例如：如何准确编码？如何有效进行数据审核，确保其有效性和内部一致性？如何判定多原发癌？\n为了帮助肿瘤登记工作者应对这些关键问题，我们开发了一套 R 语言工具集，以提升数据处理的准确性和效率。尽管这一过程耗时且充满挑战，但我们认为这项工作极具价值，值得投入时间和精力。同时，我们也希望更多同行能够加入，共同完善和优化这一工具集，为肿瘤登记工作提供更强有力的技术支持。\n\n\n1. Wei W, Zeng H, Zheng R, Zhang S, An L, Chen R, 等. Cancer Registration in China and Its Role in Cancer Prevention and Control. Lancet Oncol. 2020年;21:e342–9. \n\n\n2. Ferlay J. IARCcrgTools Version 2.13 [网际网络]. Lyon (FR): Section of Cancer Surveillance, International Agency for Research on Cancer; 2018 [见引于 2024年12月21日]. 载于: http://www.iacr.com.fr/files/IARCcrgToolsSetup213.zip\n\n\n3. Morten JE. CanReg5 [网际网络]. Lyon (FR): International Agency for Research on Cancer; 2023 [见引于 2024年12月21日]. 载于: http://www.iacr.com.fr/CanReg5/CanReg5-Setup.zip\n\n\n4. Giusti F, Martos C, Adriani S, Flego M, Carvalho RN, Bettio M, 等. The Joint Research Centre-European Network of Cancer Registries Quality Check Software (JRC-ENCR QCS). Front Oncol [网际网络]. 2023年;13:1250195. 载于: https://www.ncbi.nlm.nih.gov/pubmed/37965471\n\n\n5. Ferlay J, Burkhard C, Whelan S, Parkin DM. Check And Conversions Programs for Cancer Registeies (IARC/IACR Tools for Cancer Registries). IARC Technical Report No 42. 2005年; \n\n\n6. 中国卫生信息与健康医疗大数据学会. 中国肿瘤登记数据集标准. \n\n\n7. 王庆生, 陈万青, 张思维. 中国肿瘤登记数据管理与分析系统软件开发与实践. 中国肿瘤 [网际网络]. 2012年 [见引于 2025年3月28日];21. 载于: https://d.wanfangdata.com.cn/periodical/zgzl201202002"
  },
  {
    "objectID": "qsight/2021-11-25-ICDO3编码规则6/index.html",
    "href": "qsight/2021-11-25-ICDO3编码规则6/index.html",
    "title": "ICDO3编码规则六：形态学的编码",
    "section": "",
    "text": "如果在诊断描述中没有指出解剖学部位时，则使用形态学默认的解剖学部位编码。如果已知肿瘤发生在另一个部位，则忽略这个默认的解剖学编码。\n\n\n\n在董景五编写的ICDO3编码一书以及中国肿瘤登记指导手册（2016）一书中列出的形态学术语后面的括号里列出了这些形态学编码对应的部位编码，这形态学的肿瘤通常发生在这些部位中。例如：诊断描述”视网膜母细胞瘤” M9510/3（C69.2），诊断中没有指出具体部位，则使用建议的部位编码C69.2。\n\n\n\n\n\n\n\n形态学编码/术语\n常见原发部位\n\n\n\n\nM9510/3 视网膜母细胞瘤\nC69.2 视网膜\n\n\nM8170/3 肝细胞癌\nC22.0 肝\n\n\nM8090/3 基底细胞癌\nC44._ 皮肤，其他原发部位（C51._ 外阴，C60._ 阴茎，C63.2 阴囊，C61.9 前列腺）\n\n\nM9530/0 脑（脊）膜瘤\nC70._ 脑（脊）膜\n\n\nM938-M948\nC71._ 脑\n\n\nM8500/3 浸润性导管癌,NOS\nC50._ 乳房，其他原发部位（C07.9 腮腺，C08._ 涎腺，C25._ 胰，C61.9 前列腺）\n\n\nM8470/3 粘液性囊腺癌,NOS\nC86.9 卵巢，其他原发部位（C25._ 胰，C34._ 肺）\n\n\n\n\n\n\n某些肿瘤的名称暗示了一个解剖学部位，但是这些肿瘤其实不必编码到这个部位。例如”胆管癌”通常发生在肝脏的肝内胆管肿瘤，（胆管的ICDO3的解剖学编码分两种：肝内胆管（C22.1）和肝外胆管（C24.0））。因此，面对这些容易混淆部位的肿瘤时，需要编码人员熟悉病案以明确诊断，常见的容易混淆的部位见下表。\n\n\n\n\n\n\n\n\n\n部位\n易混淆部位\n易混淆部位\n易混淆部位\n\n\n\n\n扁桃体\nC02.4 舌扁桃体\nC09 扁桃体\nC11.1 咽扁桃体\n\n\n牙\nC03 牙龈，压槽，牙龈\nC41.0 牙源性\n\n\n\n咽\nC10 口咽\nC11 鼻咽\nC13 咽下部/下咽 C14.0 咽(喉)/ 咽(侧/后)壁\n\n\n涎腺\nC08.9 （大）涎腺NOS\nC06.9 小涎腺NOS\n\n\n\n壶腹\nC20.9 直肠壶腹\nC24.1 法特、瓦尔特(VaTer)壶腹\n\n\n\n胆管\nC22.1 肝内胆管\nC24.0 肝外胆管\n\n\n\n子宫\nC54 子宫体\nC55 子宫NOS\nC57.3 子宫旁组织/子宫（骶骨）韧带NOS\n\n\n食管-胃\nC16.0 胃-食管连接处\nC26.8 消化系统交搭跨越的损害\n\n\n\n软骨\nC30.0 鼻腔软骨\nC32.3 喉软骨、甲状软骨\nC40-C41 关节软骨\n\n\n眼睑\nC43.1/C44.1 眼睑（皮肤）\nC49.0 眼睑结缔组织\nC69.9 眼NOS\n\n\n乳房\nC43.5/C44.5乳房皮肤\nC50 乳房：不包括乳房皮肤\n\n\n\n乳房结缔组织\nC49.3 胸部结缔组织\nC50 乳房，包括乳房结缔组织\n\n\n\n脑膜瘤\nC70 脑（脊）膜\nC71 脑"
  },
  {
    "objectID": "qsight/2021-11-25-ICDO3编码规则6/index.html#与部位相关的形态学术语",
    "href": "qsight/2021-11-25-ICDO3编码规则6/index.html#与部位相关的形态学术语",
    "title": "ICDO3编码规则六：形态学的编码",
    "section": "",
    "text": "如果在诊断描述中没有指出解剖学部位时，则使用形态学默认的解剖学部位编码。如果已知肿瘤发生在另一个部位，则忽略这个默认的解剖学编码。\n\n\n\n在董景五编写的ICDO3编码一书以及中国肿瘤登记指导手册（2016）一书中列出的形态学术语后面的括号里列出了这些形态学编码对应的部位编码，这形态学的肿瘤通常发生在这些部位中。例如：诊断描述”视网膜母细胞瘤” M9510/3（C69.2），诊断中没有指出具体部位，则使用建议的部位编码C69.2。\n\n\n\n\n\n\n\n形态学编码/术语\n常见原发部位\n\n\n\n\nM9510/3 视网膜母细胞瘤\nC69.2 视网膜\n\n\nM8170/3 肝细胞癌\nC22.0 肝\n\n\nM8090/3 基底细胞癌\nC44._ 皮肤，其他原发部位（C51._ 外阴，C60._ 阴茎，C63.2 阴囊，C61.9 前列腺）\n\n\nM9530/0 脑（脊）膜瘤\nC70._ 脑（脊）膜\n\n\nM938-M948\nC71._ 脑\n\n\nM8500/3 浸润性导管癌,NOS\nC50._ 乳房，其他原发部位（C07.9 腮腺，C08._ 涎腺，C25._ 胰，C61.9 前列腺）\n\n\nM8470/3 粘液性囊腺癌,NOS\nC86.9 卵巢，其他原发部位（C25._ 胰，C34._ 肺）\n\n\n\n\n\n\n某些肿瘤的名称暗示了一个解剖学部位，但是这些肿瘤其实不必编码到这个部位。例如”胆管癌”通常发生在肝脏的肝内胆管肿瘤，（胆管的ICDO3的解剖学编码分两种：肝内胆管（C22.1）和肝外胆管（C24.0））。因此，面对这些容易混淆部位的肿瘤时，需要编码人员熟悉病案以明确诊断，常见的容易混淆的部位见下表。\n\n\n\n\n\n\n\n\n\n部位\n易混淆部位\n易混淆部位\n易混淆部位\n\n\n\n\n扁桃体\nC02.4 舌扁桃体\nC09 扁桃体\nC11.1 咽扁桃体\n\n\n牙\nC03 牙龈，压槽，牙龈\nC41.0 牙源性\n\n\n\n咽\nC10 口咽\nC11 鼻咽\nC13 咽下部/下咽 C14.0 咽(喉)/ 咽(侧/后)壁\n\n\n涎腺\nC08.9 （大）涎腺NOS\nC06.9 小涎腺NOS\n\n\n\n壶腹\nC20.9 直肠壶腹\nC24.1 法特、瓦尔特(VaTer)壶腹\n\n\n\n胆管\nC22.1 肝内胆管\nC24.0 肝外胆管\n\n\n\n子宫\nC54 子宫体\nC55 子宫NOS\nC57.3 子宫旁组织/子宫（骶骨）韧带NOS\n\n\n食管-胃\nC16.0 胃-食管连接处\nC26.8 消化系统交搭跨越的损害\n\n\n\n软骨\nC30.0 鼻腔软骨\nC32.3 喉软骨、甲状软骨\nC40-C41 关节软骨\n\n\n眼睑\nC43.1/C44.1 眼睑（皮肤）\nC49.0 眼睑结缔组织\nC69.9 眼NOS\n\n\n乳房\nC43.5/C44.5乳房皮肤\nC50 乳房：不包括乳房皮肤\n\n\n\n乳房结缔组织\nC49.3 胸部结缔组织\nC50 乳房，包括乳房结缔组织\n\n\n\n脑膜瘤\nC70 脑（脊）膜\nC71 脑"
  },
  {
    "objectID": "qsight/2021-11-25-ICDO3编码规则6/index.html#复合性形态学诊断",
    "href": "qsight/2021-11-25-ICDO3编码规则6/index.html#复合性形态学诊断",
    "title": "ICDO3编码规则六：形态学的编码",
    "section": "2 复合性形态学诊断",
    "text": "2 复合性形态学诊断\n\n2.1 规则描述\n在一个复合性术语中，如果术语未在ICDO3中列出，则可以改变词根的次序。\n不是所有的复合性词都被列出。例如，在ICD-O-3中没有列出”粘液纤维肉瘤” ，但列出了”纤维粘液肉瘤”。如果第一个词根没有找到,可以查找词根各种不同的排列。再比如，脂肪纤维瘤和纤维脂肪瘤均可编码至为M8851/0。\n\n\n2.2 常用且已经被列入ICDO3中的复合组织学类型\n\n\n\n复合组织学类型\nICDO3形态学编码\n\n\n\n\n混合性腺癌和鳞状细胞癌（腺鳞癌）\nM-8560/3\n\n\n乳头状和滤泡性腺癌\nM-8340/3\n\n\n混合性基底鳞状细胞癌\nM-8094/3"
  },
  {
    "objectID": "qsight/2021-11-25-ICDO3编码规则6/index.html#对具有多个形态学术语的诊断进行编码",
    "href": "qsight/2021-11-25-ICDO3编码规则6/index.html#对具有多个形态学术语的诊断进行编码",
    "title": "ICDO3编码规则六：形态学的编码",
    "section": "3 对具有多个形态学术语的诊断进行编码",
    "text": "3 对具有多个形态学术语的诊断进行编码\n\n3.1 规则描述\n当诊断描述包含多个形态学术语，而且没有单一的编码可以包括所有的形态学术语时，也就是说，如果肿瘤诊断的形态学描述编码到两个或两个以上编码号，则使用在数值上更高的编码号。\n\n\n3.2 案例分析\n诊断描述为”移行细胞上皮样癌”，诊断描述包括了两种细胞类型的成分，第一种：移行细胞癌，编码为M8120/3，第二种：上皮样癌，编码到 M8070/3。\n当没有单一编码能够包括全部诊断性成份时，编码者应使用数码较高的编码号，在本例使用M8120/3的编码，因为通常数值高的编码往往意味着更具有特异性。"
  },
  {
    "objectID": "qsight/2021-11-17-ICDO3编码规则2/index.html",
    "href": "qsight/2021-11-17-ICDO3编码规则2/index.html",
    "title": "ICDO3编码规则二：解剖学部位被“前缀”修饰",
    "section": "",
    "text": "0.1 临床常见”前缀”词\n临床上比较常见的有前缀词修饰的解剖学部位包括：“主动脉旁”、“腹膜后”、“甲状腺旁”、“胰腺周围组织”、“肾上腺周围组织”、“盲肠后组织”、“甲状腺区域”、“纵膈旁”、“子宫旁组织”等。\n使用这样的前缀词修饰表明这个解剖学部位是不明确的。对于这样的描述，首先应考虑是否可以从其它信息来源获取肿瘤的起源组织，然后结合解剖学部位进行编码。\n\n\n0.2 ICDO-3 列出的被前缀修饰的解剖学部位\n其实ICDO-3编码里已经列出了部分被前缀修饰的解剖学部位，但是列出所有可能被这些前缀所修饰的解剖学部位也是不太可能的。已经被ICDO-3直接列出的前缀修饰解剖学部位有哪些呢，对于已经明确列出的这些解剖学部位则使用下列明确的编码。\n\n\n\n\n\n\n\n前缀修饰解剖学部位\nICDO-3 解剖学部位编码\n\n\n\n\n腹膜后、肾上腺周围组织、肾周围组织、胰腺周围组织、盲肠后组织\nC48.0\n\n\n腹膜后和腹膜交搭跨越的损害\nC48.8\n\n\n主动脉旁淋巴结\nC77.2\n\n\n主动脉周淋巴结\nC77.2\n\n\n胰腺周淋巴结\nC77.2\n\n\n腹膜后淋巴结\nC77.2\n\n\n子宫旁组织\nC57.3\n\n\n\n\n\n0.3 未被ICDO-3列出的前缀修饰解剖学部位\n对于未被ICDO3列出的不明确部位描述应该编码到C76条目下适当的亚目里，具体可参考ICDO3编码规则一：诊断报告解剖学部位为区域或不明确。\n\n\n\n\n\n\n  \n    \n  \n  \n    陈 琼\n       博士 \n       副主任医师 \n    他从事肿瘤登记与人群流行病学研究，编写肿瘤登记年报，并开发和维护个人网站。他撰写博文，分享数据分析方法、可视化技巧和自动化报告解决方案，同时学习 R 语言，开发 R 包，不断探索高效的数据处理与展示方式。 🚀\n    \n      \n        \n      \n      \n        \n      \n      \n        \n      \n    \n  \n\n 回到顶部"
  },
  {
    "objectID": "qsight/2022-03-05-r-sas-spss-stata/index.html",
    "href": "qsight/2022-03-05-r-sas-spss-stata/index.html",
    "title": "haven包实现R语言与SAS软件、SPSS软件、STATA软件实现数据交互",
    "section": "",
    "text": "R语言，数据处理，haven\n我们每个人都有自己比较熟悉的统计软件，日常工作中也都会用自己熟悉的软件进行数据处理、统计分析、作图或者其它工作；但是，如果我们想要进行的分析在当前的软件中比较难实现或者没有成熟的程序可用时，那么我们就可能需要把中间数据导出来，然后再利用另外一个软件来进一步处理。\n今天我们就来介绍一个R包，haven包，由大神Hadley Wickham编写，它是tidyverse包的一部分。它使R能够读取和保存其他统计软件的数据格式，目前haven包支持的统计软件包括：SAS软件、SPSS软件、Stata软件.具体如下：\n通过haven包读取的其它软件的数据的输出结果为："
  },
  {
    "objectID": "qsight/2022-03-05-r-sas-spss-stata/index.html#安装",
    "href": "qsight/2022-03-05-r-sas-spss-stata/index.html#安装",
    "title": "haven包实现R语言与SAS软件、SPSS软件、STATA软件实现数据交互",
    "section": "1 安装",
    "text": "1 安装\n你可以安装整个tidyverse包，里面包含haven包\ninstall.packages(\"tidyverse\")\n当然你也可以单独haven包\ninstall.packages(\"haven\")"
  },
  {
    "objectID": "qsight/2022-03-05-r-sas-spss-stata/index.html#使用方法",
    "href": "qsight/2022-03-05-r-sas-spss-stata/index.html#使用方法",
    "title": "haven包实现R语言与SAS软件、SPSS软件、STATA软件实现数据交互",
    "section": "2 使用方法",
    "text": "2 使用方法\nlibrary(haven)\n\n# SAS\nread_sas(\"mtcars.sas7bdat\")\nwrite_sas(mtcars, \"mtcars.sas7bdat\")\n\n# SPSS\nread_sav(\"mtcars.sav\")\nwrite_sav(mtcars, \"mtcars.sav\")\n\n# Stata\nread_dta(\"mtcars.dta\")\nwrite_dta(mtcars, \"mtcars.dta\")"
  },
  {
    "objectID": "qsight/2022-03-05-r-sas-spss-stata/index.html#其它相关r包",
    "href": "qsight/2022-03-05-r-sas-spss-stata/index.html#其它相关r包",
    "title": "haven包实现R语言与SAS软件、SPSS软件、STATA软件实现数据交互",
    "section": "3 其它相关R包",
    "text": "3 其它相关R包\n\nforeign包 读取SAS XPORT,SPSS,和Stata数据\nreadstat13 读取和写入stata格式数据\nsas7bdat 读取SAS软件SAS7BDAT数据"
  },
  {
    "objectID": "qsight/2010-11-28-SAS-tips/index.html",
    "href": "qsight/2010-11-28-SAS-tips/index.html",
    "title": "SAS程序员必备的十大技巧(转载)",
    "section": "",
    "text": "无意中从网上看到SUGI27写的SAS程序员必备的十大技巧，拿来放着对自己激励一下，照着单子一样一样的学吧。-\n\nMacros—basic knowledge of macro language——对SAS宏语言的基本了解。这里作者推荐的主打文档当然是SAS Manuals中的SAS Macro language，以及SAS Guide to Macro Processing，然后还有Little SAS Book和Carpenter’s Complete Guide to the SAS Macro Language\nData Step—basic knowledge of data step——对SAS数据步的基本了解，参见一篇SUGI21的文章，Thomas Miron的The Secret Lift of the Data Step\nData file manipulation—INFILE, UPDATE, SET intricacies etc ——数据文件操作语句，如infile、update、set等\nODS——SAS输出传送系统(Output Delivery System)\nEfficiency——编程效率\nData Step Vector—How it works——理解数据步的运行原理，参见2\nMacros—Knowing how to write macros that write SAS programs——如何写宏语句\nSystem Development Life Cycle process——这里讲软件开发流程了，作者甚至列出了Steve McConnell的代码大全(Code Complete)，在程序员中流传甚广。\nSAS Help—How to get it——利用SAS的联机帮助文档\nProc Report——程序步，设计报表\nSQL Dictionary tables—basic of retrieving SAS metadata— 用SQL语句管理数据词典（原数据，metadata），可以参见Frank C. DiIorio 和Nancy J. Michal的Data about Data: An Introduction to Dictionary Tables\nProc Summary/Means——程序步，汇总和均值\nDebugging Techniques-DEBUG facility and other techniques——程序调试\nProc SQL——SQL语句\nStructured programming concepts——结构化编程\nProc Format——格式输入语句\nRelational Database Design——数据库设计\nWeb technology—HTML, JavaScript, SAS IntrNet, ect——网络技术，一些脚本语言\nYour Operating System native (and other) languages—REXX, Unix scripts, VBScript, syncsort——跟操作系统相关的一些脚本语句\nProc Transpose——数据转置\nData step reports—”Data null” report writing\nSCL—SCL Functions usable in e.g.,Base SAS data steps——屏幕控制语句\n\n\n\n\n\n\n  \n    \n  \n  \n    陈 琼\n       博士 \n       副主任医师 \n    他从事肿瘤登记与人群流行病学研究，编写肿瘤登记年报，并开发和维护个人网站。他撰写博文，分享数据分析方法、可视化技巧和自动化报告解决方案，同时学习 R 语言，开发 R 包，不断探索高效的数据处理与展示方式。 🚀\n    \n      \n        \n      \n      \n        \n      \n      \n        \n      \n    \n  \n\n 回到顶部"
  },
  {
    "objectID": "qsight/2022-02-08-joinpoint-trend-analysis-software/index.html",
    "href": "qsight/2022-02-08-joinpoint-trend-analysis-software/index.html",
    "title": "Joinpoint Trend Analysis Software",
    "section": "",
    "text": "Joinpoint是用于使用连接点模型分析趋势的统计软件，也就是像下图所示的模型，其中几条不同的线在“连接点”连接在一起。NCI出版物中报告的癌症趋势是使用Joinpoint回归程序计算的，以分析由SEER*Stat软件计算的比率。\nJoinpoint软件有两个版本：桌面和命令行。 1. 桌面版: 桌面版本存在图形交互界面，适合个人在PC上使用。 目前最新版本: Version 4.9.0.1 – February 7, 2022. 1. 命令行版: 命令行版本适合通过其他软件如SAS或R调用来批量运行。目前最新版本: Version 4.9.0.0 – March 25, 2021.\n\n\n\n肿瘤登记数据分析工具joinpoint\n\n\n该软件利用趋势数据(例如癌症发病率)，拟合数据允许的最简单的连接点模型。用户可以设置连接点的最小和最大数量。该程序从连接点的最小数开始(例如，0连接点，将拟合一条直线)，并检验更多连接点是否在统计上有意义并且必须添加到模型中(直到该最大数目)。这使我们能检验趋势的明显变化是否有统计学意义。显著性检验使用Monte Carlo Permutation方法。模型可以纳入每个点的估计变化(例如，当响应是年龄调整的比率时)，或者使用泊松变化模型。此外，模型还可以在响应变量的对数上是线性的(例如，用于计算年度百分比变化)。该软件还允许查看每个连接点模型的一个图表，从连接点数量最少的模型到连接点数量最大的模型。\n关于软件的详细参数信息可以参考一下文献：\nKim HJ, Fay MP, Feuer EJ, Midthune DN. Permutation tests for joinpoint regression with applications to cancer rates. Stat Med 2000;19:335-51 (correction: 2001;20:655).\n\n\n\n\n\n  \n    \n  \n  \n    陈 琼\n       博士 \n       副主任医师 \n    他从事肿瘤登记与人群流行病学研究，编写肿瘤登记年报，并开发和维护个人网站。他撰写博文，分享数据分析方法、可视化技巧和自动化报告解决方案，同时学习 R 语言，开发 R 包，不断探索高效的数据处理与展示方式。 🚀\n    \n      \n        \n      \n      \n        \n      \n      \n        \n      \n    \n  \n\n 回到顶部"
  },
  {
    "objectID": "qsight/2022-03-23-icd10-c-d/index.html",
    "href": "qsight/2022-03-23-icd10-c-d/index.html",
    "title": "ICD10编码里除了C开头编码和D开头编码是肿瘤专属分类编码外，还有哪些编码与肿瘤相关？",
    "section": "",
    "text": "在肿瘤登记工作中，我们经常与ICD10或者ICDO3打交道，但是ICD10编码里有一些编码值得我们注意。目前国内肿瘤登记工作要求上报的肿瘤病例范围为：所有恶性肿瘤病例+中枢神经系统良性肿瘤+原位癌，对应的ICD10编码为C00-C97+D32-D33,D35.2-4+D00-D09。然而其实ICD10编码里除了C编码和D编码外，还有一些编码与肿瘤相关。\n首先是”人类免疫缺陷病毒疾病导致的恶性肿瘤”这一类在ICD10编码里被归入到B21的分类里，它与肿瘤登记相关。具体包括人类免疫缺陷病毒疾病导致的卡波济肉瘤、Burkitt淋巴瘤、其他类型的非霍奇金淋巴瘤、淋巴组织和造血组织，以及有关组织的其他恶性肿瘤等。根据确定死因的规则，在死亡统计或诊断医院病史中这些恶性肿瘤将被归入ICD10的B21分类中，而不归入恶性肿瘤的C00-C97编码中。因此，肿瘤登记机构必须取得这些死亡证明或病例记录，否则容易被遗漏。\nICD10中还有一个专门分类，是Z打头的其他肿瘤相关分类和编码，在医院编码实践中，对于以复诊为目的的恶性肿瘤患者，特别重视Z码的编制，而疏忽直至遗忘了同时编制C编码。在开展医院诊断病例漏报调查等质量控制过程中应该引起注意。与肿瘤相关的Z编码如下：\n\nZ08 恶性肿瘤治疗后的随诊检查\nZ12 肿瘤的特殊筛查\nZ40.0 与恶性肿瘤有关的危险因素的预防性手术\nZ51.0 肿瘤放疗疗程\nZ51.1 肿瘤化疗疗程\nZ80 恶性肿瘤的家族史\nZ85 恶性肿瘤的个人史\nZ86.0 其他肿瘤的个人史\nZ92.6 肿瘤化疗个人史\n\n除此之外，还有一部分ICD10编码容易被遗漏。2000年出版的ICD-O3中对ICD10和ICD-O2中的部分分类与编码做了较大修订，其中影响较大的是将一些ICD-10中的非恶性肿瘤，重新定义为恶性肿瘤。ICD-10在之后的修订版本中对这些分类和编码作了说明，但因为国内推广应用的主要是1992年的原版，专业人员如果对此了解不多的话，也容易被忽略。重新定义为恶性肿瘤的疾病如下列。\n\nD45(1992年) C94.1(修订后) 真性红细胞增多症\nD46(1992年) C92.7(修订后) 骨髓增生异常综合征MDS/顽固性贫血\nD47.1(1992年) C96.7(修订后) 慢性骨髓增生性疾病\nD47.3(1992年) C96.7(修订后) 特发性(出血性)血小板增多症\n\n数据来源：中国肿瘤登记工作指导手册(2016)\n\n\n\n\n\n  \n    \n  \n  \n    陈 琼\n       博士 \n       副主任医师 \n    他从事肿瘤登记与人群流行病学研究，编写肿瘤登记年报，并开发和维护个人网站。他撰写博文，分享数据分析方法、可视化技巧和自动化报告解决方案，同时学习 R 语言，开发 R 包，不断探索高效的数据处理与展示方式。 🚀\n    \n      \n        \n      \n      \n        \n      \n      \n        \n      \n    \n  \n\n 回到顶部"
  },
  {
    "objectID": "qsight/2014-05-22-SAS-data-step-loop/index.html",
    "href": "qsight/2014-05-22-SAS-data-step-loop/index.html",
    "title": "SAS数据步内循环",
    "section": "",
    "text": "我们都知道，SAS的功能很强大，其中数据步是base模块中很重要的一部分，数据步读取数据、修改数据，有很大的灵活性，很大程度上允许你控制怎么改变你的数据。但是有一点，大家可能并不在意，特别是对于刚刚接触SAS的人来说；那就是数据步有一个潜在的内在循环，你不需要写程序告诉sas去执行该循环，sas在处理数据的时候会自动执行。\n那么什么是SAS数据步的内在循环呢，简单的来说就是，数据步程序会逐行逐条记录的执行（DATA steps execute line by line and observation by observation.）。 SAS数据步逐行并且逐条记录的执行，其中，逐行执行是显而易见的，那就是，SAS会在数据步的第二条语句之前执行第一条语句，再第三条语句之前执行第二条，按照数据步程序语句的先后顺序逐行执行。但是很多新手常常会犯这样的错误，就是，在创建一个变量之前就开始使用它。如果变量z是由变量x和变量y生成的，那么在写程序的时候一定要保证生成x和y的程序在生成y的程序之前。 那我们怎么理解逐条记录执行呢，SAS从输入数据集读取一条记录，然后依次执行数据步所有程序(逐行执行)，在数据步程序执行完之后，在回到数据步开始，紧接着再读取第二条记录，然后依次类推。意思就是sas在数据步执行的时候只会同时处理一条记录。 下面的图例说明了sas数据步怎么完整处理数据集一条记录。\n\n\n\nSAS数据步循环\n\n\n如图所示，SAS从输入数据集读取记录1，然后用数据步程序的Line 1 程序处理它，接着是Line 2，直到所有的数据步程序处理结束，最后SAS会输出这条记录到输出数据集里。图中只是展示了第一条记录执行过程，一旦SAS处理完了第一条记录，循环会跳到数据步的开始，然后读取第二条记录，接着处理，直到sas处理完所有的记录，循环自动停止。\n\n\n\n\n\n  \n    \n  \n  \n    陈 琼\n       博士 \n       副主任医师 \n    他从事肿瘤登记与人群流行病学研究，编写肿瘤登记年报，并开发和维护个人网站。他撰写博文，分享数据分析方法、可视化技巧和自动化报告解决方案，同时学习 R 语言，开发 R 包，不断探索高效的数据处理与展示方式。 🚀\n    \n      \n        \n      \n      \n        \n      \n      \n        \n      \n    \n  \n\n 回到顶部"
  },
  {
    "objectID": "qsight/2022-03-10-qualitycontrol/index.html",
    "href": "qsight/2022-03-10-qualitycontrol/index.html",
    "title": "肿瘤登记质量控制的四类指标",
    "section": "",
    "text": "肿瘤登记工作的宗旨就是为覆盖地区提供全部恶性肿瘤发病、死亡、生存等信息，描述恶性肿瘤疾病负担，从而为肿瘤防控政策的制定、恶性肿瘤流行病学研究以及防控效果评估提供信息。\n质量控制在实现上述肿瘤登记工作宗旨中至关重要，因为不可靠的数据将会为肿瘤防控政策制定、科学研究等提供错误的方向，从而影响肿瘤防控效果。\n目前我国肿瘤登记在评估数据质量方面主要采用可比性、完整性、有效性和时效性四类指标。"
  },
  {
    "objectID": "qsight/2022-03-10-qualitycontrol/index.html#可比性",
    "href": "qsight/2022-03-10-qualitycontrol/index.html#可比性",
    "title": "肿瘤登记质量控制的四类指标",
    "section": "1 可比性",
    "text": "1 可比性\n肿瘤登记资料的可比性是指不同肿瘤登记处之间恶性肿瘤发病率、死亡率、生存率等是真实可比的，不同登记处之间率的不同是由于数据本身不同而产生，不是因为标准或质量不同而产生。\n可比性的一个基础先决条件是不同登记处采用一套通用的标准或定义，同时，可比性也是登记处执行国际标准化的编码、分类和记录以及报告项目定义的程度。\n常用的可比性指标有：发病的定义、偶发病例的诊断、分类与编码、多原发肿瘤标准、死亡数据等"
  },
  {
    "objectID": "qsight/2022-03-10-qualitycontrol/index.html#完整性",
    "href": "qsight/2022-03-10-qualitycontrol/index.html#完整性",
    "title": "肿瘤登记质量控制的四类指标",
    "section": "2 完整性",
    "text": "2 完整性\n肿瘤登记资料的完整性是指在登记处覆盖地区目标人群中发现的肿瘤发病病例与本地区现实世界所有的肿瘤发病病例的符合程度。即登记处数据库中包含目标人群内发生肿瘤病例数的程度（以百分数表示）。\n完整性是肿瘤登记数据的重要属性。\n在实际中，没有一个登记处的数据完整性能够达到理想的100%，我们登记处所需要做的就是使完整性尽量接近100%，以达到完整性的最大化。\n完整性达到最大化时，所计算的肿瘤发病率、死亡率等指标与登记处覆盖地区目标人群肿瘤发病率、死亡率的真实值最接近。\n因此，完整性是肿瘤登记质量控制过程中的重要部分，完整性的评价标准有：\n\n一定时间内稳定的发病率\n不同地区人群可比较的发病率\n年龄别发病率曲线\n儿童肿瘤的发病率\n组织学诊断确认的比例（MV%）\n死亡发病比（M:I）\n死亡医学证明确认的比例。"
  },
  {
    "objectID": "qsight/2022-03-10-qualitycontrol/index.html#有效性",
    "href": "qsight/2022-03-10-qualitycontrol/index.html#有效性",
    "title": "肿瘤登记质量控制的四类指标",
    "section": "3 有效性",
    "text": "3 有效性\n有效性是评价肿瘤登记质量的一个基本内容，是指登记病例中具有给定特征（比如，肿瘤部位、年龄、性别、诊断、编码）的真正属性的病例所占的比例。\n常用的指标：MV%、DCO%、原发部位不详或未特指的病例所占的百分比（other and unspecified, O&U%）,年龄不明的百分比等。"
  },
  {
    "objectID": "qsight/2022-03-10-qualitycontrol/index.html#时效性",
    "href": "qsight/2022-03-10-qualitycontrol/index.html#时效性",
    "title": "肿瘤登记质量控制的四类指标",
    "section": "4 时效性",
    "text": "4 时效性\n肿瘤登记资料的时效性是肿瘤登记处收集、处理、报告足够可靠和完整的肿瘤资料的及时性。常常需要平衡及时报告和获取完整、准确的肿瘤信息的关系。病例发生后，各级登记机构要及时向上报告。医疗机构应在患者出院后1周内收集病例信息并在规定时间内上报。在每年的年末发现的病例，更要及时收集、登记、报告。未能及时报告的病例可能影响到年度分析报告–相当于漏报。"
  },
  {
    "objectID": "qsight/2023-04-04-quartomultiformat/index.html",
    "href": "qsight/2023-04-04-quartomultiformat/index.html",
    "title": "Quarto支持多格式同时输出",
    "section": "",
    "text": "Quarto自1.3以后的版本中将支持网页输出中包含其他输出格式（PDF、MS Word等）的链接，这对于多种格式的内容分享很重要。"
  },
  {
    "objectID": "qsight/2023-04-04-quartomultiformat/index.html#功能介绍",
    "href": "qsight/2023-04-04-quartomultiformat/index.html#功能介绍",
    "title": "Quarto支持多格式同时输出",
    "section": "1 功能介绍",
    "text": "1 功能介绍\nQuarto自1.3版本之后，quartoHTML页面（独立或网站中）可以支持自动包含元数据中指定 的其他输出格式的链接。例如，如果在quarto文档中指定下面的元数据：\n\n\n\n\n\n\n元数据设置\n\n\n\n\n\n---\ntitle: \"Quarto支持多格式同时输出\"\nsubtitle: \"多种输出格式，网页中自动加入其他格式链接\"\ndescription: |\n  Quarto自1.3以后的版本中将支持网页输出中包含其他输出格式（PDF、MS Word等）的链接，这对于多种格式的内容分享很重要。\ncategories:\n  - quarto\n  - 个人网站\ndate: 2023-04-04\ndate-modified: last-modified\ndraft: false\ntoc: true\nmainfont: \"Hiragino Sans GB\"\nformat:\n  html: default\n  docx: default\n  pdf:\n    documentclass: scrartcl\n---\n\n\n\n在网页的输出结果中会包含一个链接指向指定的除HTML以外的其他格式输出结果，这个链接会放在网页的右边栏中，放在边栏目录内容下面。"
  },
  {
    "objectID": "qsight/2023-04-04-quartomultiformat/index.html#指定显示链接的格式",
    "href": "qsight/2023-04-04-quartomultiformat/index.html#指定显示链接的格式",
    "title": "Quarto支持多格式同时输出",
    "section": "2 指定显示链接的格式",
    "text": "2 指定显示链接的格式\n显示链接到其他格式是默认的，但是我们可以通过在YAML里设置format-links来控制它是否显示，甚至可以指定哪种具体的格式可以显示出来。\nformat:\n  html: default\n  docx: default\n  pdf:\n    documentclass: scrartcl\nformat-links: [docx]"
  },
  {
    "objectID": "qsight/2023-04-04-quartomultiformat/index.html#隐藏所有链接",
    "href": "qsight/2023-04-04-quartomultiformat/index.html#隐藏所有链接",
    "title": "Quarto支持多格式同时输出",
    "section": "3 隐藏所有链接",
    "text": "3 隐藏所有链接\n如果我们只想输出多种格式，但是不想在右侧边栏中显示他们的链接，可以通过下面的设定来实现。\nfomat-links: false"
  },
  {
    "objectID": "qsight/2023-04-04-quartomultiformat/index.html#在项目水平上控制显示格式",
    "href": "qsight/2023-04-04-quartomultiformat/index.html#在项目水平上控制显示格式",
    "title": "Quarto支持多格式同时输出",
    "section": "4 在项目水平上控制显示格式",
    "text": "4 在项目水平上控制显示格式\n在一个Quarto项目中，为了控制其中一个文件夹内所有quarto文档的显示格式，我们可以在这个文件夹的根目录下的_metadata.yml文件中设置format或format-links选项，如果该文件夹中没有_metadata.yml文件，我们可以新建一个该名称的文件。\n\n\n\n\n\n\n_metadata.yml\n\n\n\nformat:\n  html:\n    toc: true\n  docx: default\n  pdf: default\n\n\n如果你想在整个Quarto项目中设置统一的显示格式，那么我们就可以在Quarto项目的根目录下的_quarto.yml文件中设置format和format-links选项，从而在项目水平上设置输出格式以及链接的格式内容。如果你选择在_quarto.yml文件中设置输出格式，那么也意味着这个Quarto项目内的所有quarto文档均输出你所指定的格式。\n\n\n\n\n\n\n_quarto.yml\n\n\n\nformat:\n  html:\n    toc: true\n  docx: default\n  pdf: default"
  },
  {
    "objectID": "qsight/2023-04-04-quartomultiformat/index.html#预览版本的quarto",
    "href": "qsight/2023-04-04-quartomultiformat/index.html#预览版本的quarto",
    "title": "Quarto支持多格式同时输出",
    "section": "5 预览版本的Quarto",
    "text": "5 预览版本的Quarto\n预览版本的Quarto可以在下面的链接中进行下载使用https://quarto.org/docs/download/，这个链接中也列出了最新版本Quarto的一些新的特性，如果你想试试最新Quarto支持的功能，可以尝试下载使用哈。"
  },
  {
    "objectID": "qsight/2014-07-02-R-array/index.html",
    "href": "qsight/2014-07-02-R-array/index.html",
    "title": "多维数组与矩阵",
    "section": "",
    "text": "数组（array）可以看成是带多个下标的类型相同的集合，常用的是数值型的数组如矩阵（数值型二维数组），也可以有其它类型（如字符型、逻辑性、复数型）。R软件可以很容易地生成和处理数组，特别是矩阵。\n数组有一个特征属性叫做维数向量（dim属性），维数向量是一个元素取正整数的向量，其长度是数组的维数，比如维数向量有两个元素时数组为二维数组（如矩阵）。维数向量的每一个元素指定了该下标的上界，下标的下界总为1.\n\n\n向量可以直接看作为一个一维数组，但要将向量定义为二维以上的数组，需要定义维数向量（dim属性）。比如：\n\nz &lt;- 1:12\nz\n\n [1]  1  2  3  4  5  6  7  8  9 10 11 12\n\n\n\ndim(z) &lt;- c(3,4)\nz\n\n     [,1] [,2] [,3] [,4]\n[1,]    1    4    7   10\n[2,]    2    5    8   11\n[3,]    3    6    9   12\n\n\n注意：矩阵的元素是按列存放的。也可以定义为三维数组。如：\n\ndim(z) &lt;- c(3,2,2)\nz\n\n, , 1\n\n     [,1] [,2]\n[1,]    1    4\n[2,]    2    5\n[3,]    3    6\n\n, , 2\n\n     [,1] [,2]\n[1,]    7   10\n[2,]    8   11\n[3,]    9   12\n\n\n\n\n\nR软件可以用array（）函数直接构造数组，其构造形式为：\narray(data=NA, dim=length(data) ,dimnames=NULL)\n其中data是一个向量数据，dim是数组各维的长度，缺省时为原向量的长度。dimnames是数组维的名字，缺省时为空。如： 产生一个4*5的二维数组（矩阵），即：\n\nx&lt;-array(1:20,dim=c(4,5))\nx\n\n     [,1] [,2] [,3] [,4] [,5]\n[1,]    1    5    9   13   17\n[2,]    2    6   10   14   18\n[3,]    3    7   11   15   19\n[4,]    4    8   12   16   20\n\n\n利用该函数也可以产生三维及以上的数组，如：\n\nx &lt;- array(c(1,2,5,7,4,8,9,10), dim=c(2,2,2))\n\n产生一个222的三维数组。\n\nx\n\n, , 1\n\n     [,1] [,2]\n[1,]    1    5\n[2,]    2    7\n\n, , 2\n\n     [,1] [,2]\n[1,]    4    9\n[2,]    8   10\n\n\n说明：如果数组每个元素相同，则array函数的data部分直接写成数字即可（与下面的matrix（）函数类似）如：\n\nx&lt;-array(0,dim=c(4,5))\nx\n\n     [,1] [,2] [,3] [,4] [,5]\n[1,]    0    0    0    0    0\n[2,]    0    0    0    0    0\n[3,]    0    0    0    0    0\n[4,]    0    0    0    0    0\n\n\n产生一个4*5零矩阵。\n\n\n\n函数matrix（）是专门用来构造矩阵（二维数组）的函数，其构造形式为\nmatrix(data=NA,nrow=1,ncol=1,byrow=FALSE,dimnames=NULL)\n其中data是一个向量数据，nrow是矩阵的行数，ncol是矩阵的列数。当byrow=TRUE时，生成矩阵的数据按行放置，缺省时，相当于byrow=FALSE，按列放置。dimnames是数组维的名字，缺省时为空。 比如，构造一个3*5阶的矩阵\n\nA&lt;-matrix(1:15,nrow=3,ncol=5,byrow=TRUE)\nA\n\n     [,1] [,2] [,3] [,4] [,5]\n[1,]    1    2    3    4    5\n[2,]    6    7    8    9   10\n[3,]   11   12   13   14   15\n\n\n注意：下面两种方式与上述的格式是等价的。\n\n A&lt;-matrix(1:15,nrow=3,byrow=TRUE)\n A&lt;-matrix(1:15,ncol=5,byrow=TRUE)"
  },
  {
    "objectID": "qsight/2014-07-02-R-array/index.html#一生成数组或矩阵",
    "href": "qsight/2014-07-02-R-array/index.html#一生成数组或矩阵",
    "title": "多维数组与矩阵",
    "section": "",
    "text": "数组（array）可以看成是带多个下标的类型相同的集合，常用的是数值型的数组如矩阵（数值型二维数组），也可以有其它类型（如字符型、逻辑性、复数型）。R软件可以很容易地生成和处理数组，特别是矩阵。\n数组有一个特征属性叫做维数向量（dim属性），维数向量是一个元素取正整数的向量，其长度是数组的维数，比如维数向量有两个元素时数组为二维数组（如矩阵）。维数向量的每一个元素指定了该下标的上界，下标的下界总为1.\n\n\n向量可以直接看作为一个一维数组，但要将向量定义为二维以上的数组，需要定义维数向量（dim属性）。比如：\n\nz &lt;- 1:12\nz\n\n [1]  1  2  3  4  5  6  7  8  9 10 11 12\n\n\n\ndim(z) &lt;- c(3,4)\nz\n\n     [,1] [,2] [,3] [,4]\n[1,]    1    4    7   10\n[2,]    2    5    8   11\n[3,]    3    6    9   12\n\n\n注意：矩阵的元素是按列存放的。也可以定义为三维数组。如：\n\ndim(z) &lt;- c(3,2,2)\nz\n\n, , 1\n\n     [,1] [,2]\n[1,]    1    4\n[2,]    2    5\n[3,]    3    6\n\n, , 2\n\n     [,1] [,2]\n[1,]    7   10\n[2,]    8   11\n[3,]    9   12\n\n\n\n\n\nR软件可以用array（）函数直接构造数组，其构造形式为：\narray(data=NA, dim=length(data) ,dimnames=NULL)\n其中data是一个向量数据，dim是数组各维的长度，缺省时为原向量的长度。dimnames是数组维的名字，缺省时为空。如： 产生一个4*5的二维数组（矩阵），即：\n\nx&lt;-array(1:20,dim=c(4,5))\nx\n\n     [,1] [,2] [,3] [,4] [,5]\n[1,]    1    5    9   13   17\n[2,]    2    6   10   14   18\n[3,]    3    7   11   15   19\n[4,]    4    8   12   16   20\n\n\n利用该函数也可以产生三维及以上的数组，如：\n\nx &lt;- array(c(1,2,5,7,4,8,9,10), dim=c(2,2,2))\n\n产生一个222的三维数组。\n\nx\n\n, , 1\n\n     [,1] [,2]\n[1,]    1    5\n[2,]    2    7\n\n, , 2\n\n     [,1] [,2]\n[1,]    4    9\n[2,]    8   10\n\n\n说明：如果数组每个元素相同，则array函数的data部分直接写成数字即可（与下面的matrix（）函数类似）如：\n\nx&lt;-array(0,dim=c(4,5))\nx\n\n     [,1] [,2] [,3] [,4] [,5]\n[1,]    0    0    0    0    0\n[2,]    0    0    0    0    0\n[3,]    0    0    0    0    0\n[4,]    0    0    0    0    0\n\n\n产生一个4*5零矩阵。\n\n\n\n函数matrix（）是专门用来构造矩阵（二维数组）的函数，其构造形式为\nmatrix(data=NA,nrow=1,ncol=1,byrow=FALSE,dimnames=NULL)\n其中data是一个向量数据，nrow是矩阵的行数，ncol是矩阵的列数。当byrow=TRUE时，生成矩阵的数据按行放置，缺省时，相当于byrow=FALSE，按列放置。dimnames是数组维的名字，缺省时为空。 比如，构造一个3*5阶的矩阵\n\nA&lt;-matrix(1:15,nrow=3,ncol=5,byrow=TRUE)\nA\n\n     [,1] [,2] [,3] [,4] [,5]\n[1,]    1    2    3    4    5\n[2,]    6    7    8    9   10\n[3,]   11   12   13   14   15\n\n\n注意：下面两种方式与上述的格式是等价的。\n\n A&lt;-matrix(1:15,nrow=3,byrow=TRUE)\n A&lt;-matrix(1:15,ncol=5,byrow=TRUE)"
  },
  {
    "objectID": "qsight/2014-07-02-R-array/index.html#二数组的下标",
    "href": "qsight/2014-07-02-R-array/index.html#二数组的下标",
    "title": "多维数组与矩阵",
    "section": "2 二、数组的下标",
    "text": "2 二、数组的下标\n要访问数组的某个元素，只要写出数组名和方括号内的用逗号分开的下标即可，或进行运算。\n\n2.1 （一）数组的下标\n\na&lt;-1:24\n dim(a)&lt;-c(2,3,4)\n a[2,1,2]\n\n[1] 8\n\n\n要进一步还可以在每一个下标位置写一个下标向量，表示这一维取出所有指定下标的元素，如a[1,2:3,2:3]取出所有第一下标为1，第二下标为2或3，第三下标为2或3的元素，如：\n\na[1,2:3,2:3]\n\n     [,1] [,2]\n[1,]    9   15\n[2,]   11   17\n\n\n注意：因为第一维只有一个下标，所以退化了，得到一个维数向量为2*2的数组。 另外,如果略写某一维的下标，则表示该维全选，例如：\n\n\n2.2 （二）不规则的数组下标\n在R语言中，甚至可以把数组中的任意位置的元素作为数组访问，其方法就是用一个二维数组作为数组的下标，二维数组的每一行就是一个元素的下标，列数为数组的维数。例如要把上面的性状为3*3的矩阵A的第[1,1] [1,3] [2,1] [2,2]号元素作为一个整体访问，先定义一个包含这些下标作为行的二维数组。\n\nb&lt;-matrix(c(1,1,1,3,2,1,2,2),ncol=2,byrow=TRUE)\nb\n\n     [,1] [,2]\n[1,]    1    1\n[2,]    1    3\n[3,]    2    1\n[4,]    2    2\n\n\n\na[b]\n\n[1] 1 1 2 2 1 3 1 2\n\n\n注意:取出的是一个向量，我们还可以对这几个元素赋值，如：\n\na\n\n, , 1\n\n     [,1] [,2] [,3]\n[1,]    1    3    5\n[2,]    2    4    6\n\n, , 2\n\n     [,1] [,2] [,3]\n[1,]    7    9   11\n[2,]    8   10   12\n\n, , 3\n\n     [,1] [,2] [,3]\n[1,]   13   15   17\n[2,]   14   16   18\n\n, , 4\n\n     [,1] [,2] [,3]\n[1,]   19   21   23\n[2,]   20   22   24\n\n\n\na[b]&lt;-c(3,5,6,7)\na\n\n, , 1\n\n     [,1] [,2] [,3]\n[1,]    6    5    5\n[2,]    7    4    6\n\n, , 2\n\n     [,1] [,2] [,3]\n[1,]    7    9   11\n[2,]    8   10   12\n\n, , 3\n\n     [,1] [,2] [,3]\n[1,]   13   15   17\n[2,]   14   16   18\n\n, , 4\n\n     [,1] [,2] [,3]\n[1,]   19   21   23\n[2,]   20   22   24"
  },
  {
    "objectID": "qsight/2014-07-02-R-array/index.html#三数组的四则运算",
    "href": "qsight/2014-07-02-R-array/index.html#三数组的四则运算",
    "title": "多维数组与矩阵",
    "section": "3 三、数组的四则运算",
    "text": "3 三、数组的四则运算\n\n3.1 （一）矩阵的乘法\n可以对数组之间进行四则运算(+、-、*、/)，这时进行的是数组对应元素的四则运算，参加运算的数组一般应该是相同性状的（dim属性完全相同）例如：\n\nA&lt;-matrix(1:6,nrow=2,byrow=T)\nA\n\n     [,1] [,2] [,3]\n[1,]    1    2    3\n[2,]    4    5    6\n\n\n\nB&lt;-matrix(1:6,nrow=2)\nB\n\n     [,1] [,2] [,3]\n[1,]    1    3    5\n[2,]    2    4    6\n\n\n\nC&lt;-matrix(c(1,2,2,3,3,4),nrow=2)\nC\n\n     [,1] [,2] [,3]\n[1,]    1    2    3\n[2,]    2    3    4\n\n\n\nD&lt;-2*C+A/B\nD\n\n     [,1]     [,2] [,3]\n[1,]    3 4.666667  6.6\n[2,]    6 7.250000  9.0\n\n\n从这个例子可以看出，数组的加、减运算和数乘运算满足原矩阵运算的性质，但数组的乘、除法运算实际上是数组中对应位置的元素作运算。"
  },
  {
    "objectID": "qsight/2014-07-02-R-array/index.html#四矩阵的运算",
    "href": "qsight/2014-07-02-R-array/index.html#四矩阵的运算",
    "title": "多维数组与矩阵",
    "section": "4 四、矩阵的运算",
    "text": "4 四、矩阵的运算\n\n4.1 （一）矩阵的乘法\n如果矩阵A和B具有相同的维数，则AB表示矩阵中对应的元素的乘积A%%B表示通常意义下的两个矩阵的乘积（当然要求矩阵A的列数等于矩阵B的行数）。如：\n\nA&lt;-matrix(1:9,nrow=3)\nA\n\n     [,1] [,2] [,3]\n[1,]    1    4    7\n[2,]    2    5    8\n[3,]    3    6    9\n\n\n\nB&lt;-matrix(9:1,nrow=3)\nB\n\n     [,1] [,2] [,3]\n[1,]    9    6    3\n[2,]    8    5    2\n[3,]    7    4    1\n\n\n\nC&lt;-A*B;C\n\n     [,1] [,2] [,3]\n[1,]    9   24   21\n[2,]   16   25   16\n[3,]   21   24    9\n\n\n\nD&lt;-A%*%B\nD\n\n     [,1] [,2] [,3]\n[1,]   90   54   18\n[2,]  114   69   24\n[3,]  138   84   30\n\n\n\n\n4.2 （二）矩阵的转置运算\n对于矩阵A，函数t(A)表示矩阵A的转置，即AT 如：\n\nA&lt;-matrix(1:6,nrow=2)\nA\n\n     [,1] [,2] [,3]\n[1,]    1    3    5\n[2,]    2    4    6\n\n\n\nt(A)\n\n     [,1] [,2]\n[1,]    1    2\n[2,]    3    4\n[3,]    5    6\n\n\n\n\n4.3 （三）方阵的行列式\n函数det（）是用来求方阵行列式的值，如：\n\ndet(matrix(1:4,ncol=2))\n\n[1] -2\n\n\n\n\n4.4 (四)生成对角矩阵和对矩阵取对角运算\n函数diag()依赖于它的变量，当v是一个向量时，diag(v)表示以v的元素为对角元素的对角阵。当M是一个矩阵时，则diag(M)表示的是取M对角线上的元素的向量。如：\n\nv&lt;-c(1,4,5)\ndiag(v)\n\n     [,1] [,2] [,3]\n[1,]    1    0    0\n[2,]    0    4    0\n[3,]    0    0    5\n\n\n\nm&lt;-matrix(1:9,nrow=3)\nm\n\n     [,1] [,2] [,3]\n[1,]    1    4    7\n[2,]    2    5    8\n[3,]    3    6    9\n\n\n\n diag(m)\n\n[1] 1 5 9"
  },
  {
    "objectID": "qsight/2014-07-02-R-array/index.html#五与矩阵运算有关的函数",
    "href": "qsight/2014-07-02-R-array/index.html#五与矩阵运算有关的函数",
    "title": "多维数组与矩阵",
    "section": "5 五、与矩阵运算有关的函数",
    "text": "5 五、与矩阵运算有关的函数\n\n5.1 （一）去矩阵的维数\n函数dim（A）得到矩阵的维数，函数nrow(A)得到矩阵A的行数，函数ncol(A)得到矩阵A的列数。如：\n\nA&lt;-matrix(1:6,nrow=2)\nA\n\n     [,1] [,2] [,3]\n[1,]    1    3    5\n[2,]    2    4    6\n\n\n\ndim(A)\n\n[1] 2 3\n\n\n\nnrow(A)\n\n[1] 2\n\n\n\nncol(A)\n\n[1] 3\n\n\n\n\n5.2 （二）矩阵的合并\n函数cbind()把其自变量横向拼成一个大矩阵，rbind()把其自变量纵向合拼成一个大矩阵。cbind()的自变量是矩阵或看做列向量的向量时，自变量的高度应该相等。rbind()的自变量是矩阵或看做行向量的向量时，自变量的宽度应该相等。\n如果参与合并的的自变量比其变量短，则循环补足后合并。如：\n\nx1&lt;-rbind(c(1,2),c(3,4))\nx1\n\n     [,1] [,2]\n[1,]    1    2\n[2,]    3    4\n\n\n\nx2&lt;-10+x1\nx3&lt;-cbind(x1,x2)\nx3\n\n     [,1] [,2] [,3] [,4]\n[1,]    1    2   11   12\n[2,]    3    4   13   14\n\n\n\nx4&lt;-rbind(x1,x2)\nx4\n\n     [,1] [,2]\n[1,]    1    2\n[2,]    3    4\n[3,]   11   12\n[4,]   13   14\n\n\n\ncbind(1,x1)\n\n     [,1] [,2] [,3]\n[1,]    1    1    2\n[2,]    1    3    4\n\n\n\n\n5.3 （三）矩阵的拉直（把矩阵转化为向量）\n设A是一个矩阵，则函数as.vector(A)可以将矩阵转化为向量，它是将矩阵A按列拉成向量。如：\n\nA&lt;-matrix(1:6,nrow=2)\nA\n\n     [,1] [,2] [,3]\n[1,]    1    3    5\n[2,]    2    4    6\n\n\n\nA&lt;-matrix(1:6,nrow=2)\nA\n\n     [,1] [,2] [,3]\n[1,]    1    3    5\n[2,]    2    4    6\n\n\n\nas.vector(A)\n\n[1] 1 2 3 4 5 6\n\n\n\n\n5.4 （四）apply函数\n对于想对矩阵的各行或各列进行某种计算，可用apply函数，其一般形式为：\napply（A，MARGIN，FUN，…）\n其中A为一个矩阵（或数组），MARGIN取1，代表对行进行运算；MARGIN取2，代表队列进行运算，FUN是用来计算的函数。如：\n\nA&lt;-matrix(1:6,nrow=2)\nA\n\n     [,1] [,2] [,3]\n[1,]    1    3    5\n[2,]    2    4    6\n\n\n\n apply(A,1,sum)\n\n[1]  9 12\n\n\n\napply(A,2,mean)\n\n[1] 1.5 3.5 5.5\n\n\n说明：求矩阵行列的均值还可分别用函数rowmean()和colmean()。"
  },
  {
    "objectID": "qsight/2022-05-04-chasing-barchart/index.html",
    "href": "qsight/2022-05-04-chasing-barchart/index.html",
    "title": "R语言ggplot2包和gganimate包绘制动态追逐条形图(chasing barchart)",
    "section": "",
    "text": "最近动态条形图或者称之为追逐条形图在社交媒体上比较火，最常见的是世界各个国家的GDP排名随着时间（以年为单位）变化的情况，通过它可以明显的看到中国的GDP排名从前10名开外逐渐上升到全球第二名的位置。热爱数据可视化的小伙伴们也在想着如何制作这样酷炫的图呢？今天这篇文章的目的就是介绍如何利用R语言绘制这样的动态条形图。"
  },
  {
    "objectID": "qsight/2022-05-04-chasing-barchart/index.html#用到哪些r包",
    "href": "qsight/2022-05-04-chasing-barchart/index.html#用到哪些r包",
    "title": "R语言ggplot2包和gganimate包绘制动态追逐条形图(chasing barchart)",
    "section": "1 用到哪些R包？",
    "text": "1 用到哪些R包？\n\nggplot2\ngganimate\n\nggplot2包和gganimate包是两个主要用到的包，但是我们在数据整理过程中还用到了tidyverse、janitor和scales包。"
  },
  {
    "objectID": "qsight/2022-05-04-chasing-barchart/index.html#数据准备",
    "href": "qsight/2022-05-04-chasing-barchart/index.html#数据准备",
    "title": "R语言ggplot2包和gganimate包绘制动态追逐条形图(chasing barchart)",
    "section": "2 数据准备",
    "text": "2 数据准备\n作者在互联网上收集了从1980年以来全球前10位国家的GDP数据，数据，点击下载以CSV的形式保存。\n我们把数据读入到R环境中，总共有4个变量，year年份、country国家、continent大洲、gdp，下面看下数据的结构，这个数据已经是ggplot2绘图所需要的长数据格式，所以不需要进行特别的转换了。\n\nlibrary(dplyr)\n#读入gdp数据\ndata &lt;- read.csv(\"gdp.csv\")\n#显示头6条数据\nhead(data)\n\ndata1&lt;-data%&gt;%\n  group_by(year)%&gt;%\n  arrange(year,desc(gdp))%&gt;%\n  mutate(ranking=row_number())%&gt;%\n  filter(ranking&lt;=10)"
  },
  {
    "objectID": "qsight/2022-05-04-chasing-barchart/index.html#绘制动态条形图",
    "href": "qsight/2022-05-04-chasing-barchart/index.html#绘制动态条形图",
    "title": "R语言ggplot2包和gganimate包绘制动态追逐条形图(chasing barchart)",
    "section": "3 绘制动态条形图",
    "text": "3 绘制动态条形图\n绘制动态条形图实际需要两个部分，\n\n利用ggplot2绘制历年的静态图\n利用gganimate包把静态图动起来\n\n前面我们已经准备好了绘图的数据，那么我们就先绘制动态条形图每个画面的静态图。我们准备基于GDP的排名展示位于全球前10位的国家，我们需要绘制每年的排名情况。\n\nlibrary(ggplot2)\nplot &lt;- data1 %&gt;%\n  ggplot() +\n  geom_col(aes(ranking,gdp,fill=continent)) +\n  geom_text(aes(ranking,gdp,label=paste(round(gdp/1000000000000,2),\"万亿\")), hjust=-0.1) +\n  geom_text(aes(ranking,y=0,label=country), hjust=1.1) + \n  geom_text(aes(x=10, y=max(gdp) , label = as.factor(year)), vjust = 0.2, alpha = 0.5,  col = \"gray\", size = 20) +\n  scale_y_continuous(label=function(x) paste(round(x/1000000000000,2),\"万亿\"))+\n  coord_flip(clip = \"off\", expand = FALSE) + scale_x_reverse() +\n  theme_minimal() + \n  theme(\n    panel.grid = element_blank(), \n    legend.position = \"top\",\n    legend.title=element_blank(),\n    axis.ticks.y = element_blank(),\n    axis.title.y = element_blank(),\n    axis.text.y = element_blank(),\n    plot.margin = margin(1, 4, 1, 3, \"cm\"),\n    text = element_text(family='Kai')\n  ) \n\n上面的代码绘制了动态条形图的每一个画面，也就是每一年的全球GDP排名前10的国家的条形图。当然你也可以对上面的代码进行更改，从而使图更加美观。而进行动态化的关键步骤是使用gganimate包的transition_states()功能，下面的代码使绘制的图按照year这个变量动态变化。\n\nlibrary(gganimate)\nplot2&lt;-plot+transition_states(year, state_length = 0, transition_length = 2) +\n  labs(title = '全球不同国家近40年GDP排名变化情况(前10位)',  \n       caption  = \"GDP in Billions USD | Data Source: World Bank Data\")+\n  enter_fade() +\n  exit_fade() + \n  ease_aes('quadratic-in-out') \n\nanimate(plot2, width = 800, height = 500, fps = 25, duration = 15, rewind = FALSE)\nanim_save(\"pp.gif\")\n\n\n\n\n追逐条形图"
  },
  {
    "objectID": "qsight/2022-05-04-chasing-barchart/index.html#小结",
    "href": "qsight/2022-05-04-chasing-barchart/index.html#小结",
    "title": "R语言ggplot2包和gganimate包绘制动态追逐条形图(chasing barchart)",
    "section": "4 小结",
    "text": "4 小结\n我们已经成功的绘制了全球gdp前10的国家在过去40年里动态变化的过程，而只要按照我们前面的准备的数据格式整理自己的数据，那么也很容易地能套用这个代码，从而实现自己的动态条形图。"
  },
  {
    "objectID": "qsight/2023-05-23-import-all/index.html",
    "href": "qsight/2023-05-23-import-all/index.html",
    "title": "肿瘤登记数据上报经验分享：R语言批量导入导出excel数据",
    "section": "",
    "text": "每年向国家肿瘤登记处上报当年肿瘤登记数据是每个省级肿瘤登记处的每年的工作内容，而当县区级登记处的数量很多的时候，数据整理工作变得很琐碎，这篇博文将向大家介绍如何处理肿瘤登记上报过程中的数据处理。"
  },
  {
    "objectID": "qsight/2023-05-23-import-all/index.html#随访数据上报要求",
    "href": "qsight/2023-05-23-import-all/index.html#随访数据上报要求",
    "title": "肿瘤登记数据上报经验分享：R语言批量导入导出excel数据",
    "section": "1 随访数据上报要求",
    "text": "1 随访数据上报要求\n随访数据要求上报两部分资料，第一部分是随访资料，第二部分是寿命表资料，并分别以FB和LT为表单名称保存到Excel中。\n\n1.1 随访资料\n要求上报建立登记处以来的所有癌症病例并随访至上一年末。\n具体上报变量如下：\n\nRegistr：登记编号\nID: 身份识别号码\nSex: 性别\nAge: 年龄\nBirthda: 出生日期\nInciden: 出生日期\nICDO3: ICDO3解剖学部位\nMorp: ICDO3形态学编码\nBeha: ICDO3行为编码\nGrad: ICDO3分级编码\nIcd10: ICD10编码\nDeathda: 死亡日期\nBasi: 诊断依据\nTrib: 民族\nMarri: 婚姻状态\nMult: 是否多原发\nLastcontact: 最后接触日期\nStatus: 生存状态\nCaus: 死亡原因\n\n\n\n1.2 寿命表数据\n要求上报与随访资料同年份的寿命表资料。具体变量如下：\n\n年份(Year):与随访数据库覆盖年份相同\n性别(Sex):合计=0，男性=1，女性=2\n年龄组(Age): 0, 1-, 5-, …, 80-, 85及以上， 用组段下限年龄值表示\n死亡数(Death):覆盖人群中的全死亡数\n人口数(Popu):户籍人口"
  },
  {
    "objectID": "qsight/2023-05-23-import-all/index.html#当年发病死亡数据上报",
    "href": "qsight/2023-05-23-import-all/index.html#当年发病死亡数据上报",
    "title": "肿瘤登记数据上报经验分享：R语言批量导入导出excel数据",
    "section": "2 当年发病死亡数据上报",
    "text": "2 当年发病死亡数据上报\n当年发病死亡数据上报的内容要求与随访资料要求上报的变量是一样的，只不过要分为三部分：\n\n发病资料：发病日期为上报年份的所有癌症病例资料；\n死亡资料：死亡日期为要求上报年份的所有癌症病例资料；\n人口数据：要求上报年份登记处所有在地分年龄分性别户籍人口数。"
  },
  {
    "objectID": "qsight/2023-05-23-import-all/index.html#存在问题及解决方法",
    "href": "qsight/2023-05-23-import-all/index.html#存在问题及解决方法",
    "title": "肿瘤登记数据上报经验分享：R语言批量导入导出excel数据",
    "section": "3 存在问题及解决方法",
    "text": "3 存在问题及解决方法\n河南省肿瘤登记采用网络直报信息管理系统进行日常数据的收集和管理，在进行数据上报的时候，我们需要把最新的数据分登记处按照上报格式导出就可以了，这个过程中也涉及了变量名的更改等。\n首先加载相关R语言包\n\nlibrary(dplyr)\nlibrary(openxlsx)\nlibrary(Hmisc)\nlibrary(haven)\n\n我们在code.mdb数据库的registry表中存储了相关登记处的信息，report2019这个变量标记了哪些登记处入选了河南省肿瘤登记年报。\n\n## 从code字典里筛选出2019年年报纳入的登记处\nregistrys &lt;- mdb.get(\"code.mdb\",tables = c(\"registry\")) %&gt;% \n  filter(report2019==1) %&gt;% \n  select(areacode,city,county)\nregistrys$areacode &lt;- as.character(registrys$areacode)\n\n通下面的程序，我们把选择需要上报的变量以及把上报变量更改为上报模板要求的变量名称。\n\n## 读取肿瘤登记数据\ncanreg &lt;- read_sas(\"tumorinfo.sas7bdat.zip\") %&gt;% \n1  rename_all(tolower) %&gt;%\n2  select(registr,indno,sex,age,birthda,inciden,topo,morp,beha,grad,autoicd10,deathda,basi,state,caus,dlc,areacode) %&gt;%\n3  rename(id=indno,icdo3=topo,icd10=autoicd10,status=state,lastcontact=dlc)\n\n\n1\n\n把所有变量名改为小写字母\n\n2\n\n选择需要上报的变量\n\n3\n\n把变量名改成上报模板要求的变量名\n\n\n\n\n我们通过下面的程序把寿命表数据转换成上报格式要求的形式。\n\n## 整理寿命表数据\nlifetable &lt;- read_sas(\"population.sas7bdat.zip\") %&gt;% \n  rename_all(tolower) %&gt;% \n  mutate(areacode = substr(addcode,1,6)) %&gt;% \n  filter(areacode %in% areacodes, year &gt;= 2008, year &lt;= 2021) %&gt;% \n  select(areacode,year,sex,type,p0:p85) %&gt;%\n  pivot_longer(cols = p0:p85, names_to = c(\"agegrp\"), values_to =c(\"count\")) %&gt;% \n  mutate(type=ifelse(type==1,\"pop\",\"death\")) %&gt;% \n  pivot_wider(names_from = c(\"type\"), values_from = c(\"count\")) %&gt;% \n  mutate(agegrp = as.numeric(gsub(\"[^0-9\\\\.]\", \"\", agegrp)),\n         sex=as.numeric(sex)) %&gt;% \n  arrange(areacode,year,sex,agegrp)\n\n下面的程序把随访资料和寿命表数据按照登记处的行政区划和名称保存成excel，虽然for显式循环运行效率有点低，但是对于几十个登记处的数据来说，运行速度还可以。如果数据量大的时候可以考虑使用lapply来批量导出。\n\nfor (areas in registrys$areacode){\n  fb &lt;- canreg %&gt;% filter(areacode==areas)\n  lt &lt;- lifetable %&gt;% filter(areacode==areas)\n  county &lt;- registrys[registrys$areacode==areas,c(\"county\")]\n  res &lt;- list(FB=fb, LT=lt)\n  write.xlsx(res,paste0(\"report/\",areas,county,\".xlsx\"),colNames = TRUE)\n}\n\n以上程序运行的结果见图 图 1 。\n\n\n\n\n\n\n\n\n图 1: 导出excel结果"
  },
  {
    "objectID": "qsight/2012-03-05-SAS-import-all-file/index.html",
    "href": "qsight/2012-03-05-SAS-import-all-file/index.html",
    "title": "利用SAS批量导入一个文件夹内的多个excel表",
    "section": "",
    "text": "%let dirs=C:\\aa; \n%macro get_filenames(location);\nfilename _dir_ \"%bquote(&location.)\";\ndata filenames(keep=memname tmp);\n  handle=dopen( '_dir_' );\n  if handle &gt; 0 then do;\n   count=dnum(handle);\n    do i=1 to count;\n     tmp=cats(\"tmp\",i);\n     tmp=Tranwrd(tmp,\" \",\"\");\n     memname=dread(handle,i);\n    \n     output filenames;\n    end;\n  end;\n  rc=dclose(handle);\nrun;\nfilename _dir_ clear;\n%mend;\n%get_filenames(&dirs);  \n\n%macro readExl(name=,tmp=);\nPROC IMPORT OUT=&tmp\n\nDATAFILE= \"&dirs\\&name\"\nDBMS=EXCEL REPLACE;\nSHEET=\"Sheet1$\";\nGETNAMES=YES;\nMIXED=NO;\nSCANTEXT=YES;\nUSEDATE=YES;\nSCANTIME=YES;\nRUN;\n%mend;\n\ndata _null_;\n   set Filenames;\n   call execute('%readExl(name= '||memname||',tmp='||tmp||')');\nrun;\n\nproc datasets library=work nolist;\n    delete target;\nrun;\n\n%macro mergeData(tmp=);\n    proc append base=target data=&tmp force;\n    run;\n%mend;\n\ndata _null_;\n   set Filenames;\n   call execute('%mergeData(tmp='||tmp||')');   \nrun;\n\n%macro deleteTmp(tmp=);\n    proc datasets library=work nolist;\n       delete &tmp;\n    run;\n%mend;\n\ndata _null_;\n   set Filenames;\n   call execute('%deleteTmp(tmp='||tmp||')');    \nrun;\n\n\n\n\n\n  \n    \n  \n  \n    陈 琼\n       博士 \n       副主任医师 \n    他从事肿瘤登记与人群流行病学研究，编写肿瘤登记年报，并开发和维护个人网站。他撰写博文，分享数据分析方法、可视化技巧和自动化报告解决方案，同时学习 R 语言，开发 R 包，不断探索高效的数据处理与展示方式。 🚀\n    \n      \n        \n      \n      \n        \n      \n      \n        \n      \n    \n  \n\n 回到顶部"
  },
  {
    "objectID": "qsight/2022-12-01-gitignore/index.html",
    "href": "qsight/2022-12-01-gitignore/index.html",
    "title": "git 如何设置忽略文件.gitignore",
    "section": "",
    "text": "git按照工作环境里的.gitignore文件设置去忽略相应的文件，如果你的git环境里还没有创建.gitignore文件,则需要首先创建该文件。\n在terminal里创建.gitignore文件，并用vim添加两行。\n\n.DS_Store\n*/.DS_Store\n\ntouch .gitignore\nvim .gitignore\n如果发现修改中仍然有.DS_Store文件，则可能原因是在早期的提交中就已将.DS_Store文件提交到repository了。如果一个文件已经被提交，那么就算这个文件已经被写到gitignor文件中，它的修改仍然会被追踪到。 所以我们需要手动将repository中的.DS_Store文件移除，可以使用以下命令移除：\ngit rm --cached .DS_Store \n#移除当前文件夹下的.DS_Store\nfind . -name .DS_Store -print0 | xargs -0 git rm --ignore-unmatch\n#移除文件夹下的所有.DS_Store文件"
  },
  {
    "objectID": "qsight/2022-12-01-gitignore/index.html#忽略.ds_store",
    "href": "qsight/2022-12-01-gitignore/index.html#忽略.ds_store",
    "title": "git 如何设置忽略文件.gitignore",
    "section": "",
    "text": "git按照工作环境里的.gitignore文件设置去忽略相应的文件，如果你的git环境里还没有创建.gitignore文件,则需要首先创建该文件。\n在terminal里创建.gitignore文件，并用vim添加两行。\n\n.DS_Store\n*/.DS_Store\n\ntouch .gitignore\nvim .gitignore\n如果发现修改中仍然有.DS_Store文件，则可能原因是在早期的提交中就已将.DS_Store文件提交到repository了。如果一个文件已经被提交，那么就算这个文件已经被写到gitignor文件中，它的修改仍然会被追踪到。 所以我们需要手动将repository中的.DS_Store文件移除，可以使用以下命令移除：\ngit rm --cached .DS_Store \n#移除当前文件夹下的.DS_Store\nfind . -name .DS_Store -print0 | xargs -0 git rm --ignore-unmatch\n#移除文件夹下的所有.DS_Store文件"
  },
  {
    "objectID": "qsight/2022-02-16-r-magick/index.html",
    "href": "qsight/2022-02-16-r-magick/index.html",
    "title": "用过R magick包处理图片，你还会用PS来P图吗？",
    "section": "",
    "text": "R magick包在R中提供了一套简单而有效的图片处理工具，让你可以直接在R程序中进行相应的图片操作，比如更改大小、图片格式，以及一些滤镜效果等。"
  },
  {
    "objectID": "qsight/2022-02-16-r-magick/index.html#安装magick包",
    "href": "qsight/2022-02-16-r-magick/index.html#安装magick包",
    "title": "用过R magick包处理图片，你还会用PS来P图吗？",
    "section": "1 安装magick包",
    "text": "1 安装magick包\n可以从CRAN上安装magick包\ninstall.packages(\"magick\")\n当然也可以从github上安装\ndevtools::install_github('ropensci/magick')"
  },
  {
    "objectID": "qsight/2022-02-16-r-magick/index.html#使用magick包读取和存储图片或视频",
    "href": "qsight/2022-02-16-r-magick/index.html#使用magick包读取和存储图片或视频",
    "title": "用过R magick包处理图片，你还会用PS来P图吗？",
    "section": "2 使用magick包读取和存储图片或视频",
    "text": "2 使用magick包读取和存储图片或视频\nmagick读取文件图片文件、pdf文件以及视频文件，读取文件的函数有以下几种：\n\nimage_read( path,density = NULL,depth = NULL,strip = FALSE,coalesce = TRUE,defines = NULL)\nimage_read_svg(path, width = NULL, height = NULL)\nimage_read_pdf(path, pages = NULL, density = 300, password = ““)\nimage_read_video(path, fps = 1, format = “png”)\n\n\n#加载magick包\nlibrary(\"magick\")\n\nLinking to ImageMagick 6.9.12.93\nEnabled features: cairo, fontconfig, freetype, heic, lcms, pango, raw, rsvg, webp\nDisabled features: fftw, ghostscript, x11\n\n#读取图片到R工作环境\nlogo &lt;- image_read(\"logo:\")\n# 显示图片信息，比如格式、宽、高、大小等\nimage_info(logo)\n\n  format width height colorspace matte filesize density\n1    GIF   640    480       sRGB FALSE    28576   72x72\n\n# 按照等比例重新调整图片宽度为300像素\nlogo&lt;-image_scale(logo, \"300\")\n# 再看看更改后的图片信息\nimage_info(logo)\n\n  format width height colorspace matte filesize density\n1    GIF   300    225       sRGB FALSE        0   72x72\n\n# 把图片在R中显示\nplot(logo)\n\n\n\n\n\n\n\n\n# 把图片另存起来\nimage_write(logo, path = \"logo.png\", format = \"png\")\n可以更改图片的格式\n\nlogo1 &lt;- image_convert(logo, \"jpg\")\nimage_info(logo1)\n\n  format width height colorspace matte filesize density\n1    JPG   300    225       sRGB FALSE        0   72x72"
  },
  {
    "objectID": "qsight/2022-02-16-r-magick/index.html#图片转换操作",
    "href": "qsight/2022-02-16-r-magick/index.html#图片转换操作",
    "title": "用过R magick包处理图片，你还会用PS来P图吗？",
    "section": "3 图片转换操作",
    "text": "3 图片转换操作\nmagick提供一系列函数对图片进行裁剪以及编辑，主要有以下函数：\n\nimage_crop(logo, “100x150+50”): 从图片logo左侧50像素处开始裁剪出宽为100像素高位150像素 的图片\nimage_scale(logo, “200”): 按照等比例重新调整图片宽度为200像素\nimage_scale(logo, “x200”): 按照等比例重新调整图片高度为200像素\nimage_fill(logo, “blue”, “+100+200”): 从x:100像素，y:200像素点开始填充蓝色，这个功能有点鬼，如果你想在图片的某个部位涂色，从图片的左上角开始算起，看这个部位距离左上点横向距离（x）和纵向距离（y）分别有多少像素。\nimage_border(logo, “red”, “20x10”): 为图片添加左右为20像素、上下为10像素的边框\nimage_frame(logo,geometry = “25x25+6+6”): 为图片增加相框\nimage_shadow(logo): 为图片增加阴影\n\n\n# 从左侧80像素开始裁剪120像素宽90像素高的图片\nimage_crop(logo, \"150x90+30\")\n\n\n\n\n\n\n\n# 按照等比例重新调整图片宽度为200像素\nimage_scale(logo, \"200\")\n\n\n\n\n\n\n\n#按照等比例重新调整图片高度为200像素\nimage_scale(logo, \"x200\")\n\n\n\n\n\n\n\n#图片添加白色背景\nlogo &lt;- image_background(logo, 'white')\n#从x:200，y:150开始填充粉红色\nimage_fill(logo, \"pink\", point = \"+200+150\")\n\n\n\n\n\n\n\n#从x:200，y:130开始填充红色\nimage_fill(logo, \"red\", point = \"+200+130\", fuzz = 25)\n\n\n\n\n\n\n\n# 为图片添加左右为20像素、上下为10像素的边框\nimage_border(logo, \"#000080\", \"20x10\")\n\n\n\n\n\n\n\n# 旋转图片90度\nimage_rotate(image_scale(logo,\"x200\"), 90)\n\n\n\n\n\n\n\n# 增加滤镜模糊效果\nimage_blur(image_scale(logo,\"x300\"), 10, 5)\n\n\n\n\n\n\n\n# 增加噪点\nimage_noise(image_blur(image_scale(logo,\"x300\"), 10, 5))\n\n\n\n\n\n\n\n# 去色\nimage_charcoal(image_scale(logo,\"x300\"))"
  },
  {
    "objectID": "qsight/2022-02-16-r-magick/index.html#添加文字注释",
    "href": "qsight/2022-02-16-r-magick/index.html#添加文字注释",
    "title": "用过R magick包处理图片，你还会用PS来P图吗？",
    "section": "4 添加文字注释",
    "text": "4 添加文字注释\n# 给图片添加文字注释\nimage_annotate(image_scale(logo,\"x300\"), \"This is logo picture includedin magick package\", size=15, gravity = \"southeast\", color=\"red\")\n\n# 你可以文字注释放到图片的任何地方\nimage_annotate(image_scale(logo,\"x300\"), \"logo image\", size=30, color=\"red\", boxcolor = \"pink\", degrees = 30, location = \"+30+120\")"
  },
  {
    "objectID": "qsight/2022-02-16-r-magick/index.html#magick包支持管道操作符",
    "href": "qsight/2022-02-16-r-magick/index.html#magick包支持管道操作符",
    "title": "用过R magick包处理图片，你还会用PS来P图吗？",
    "section": "5 magick包支持管道操作符”%”",
    "text": "5 magick包支持管道操作符”%”\n\n# 等比例调整图片高度为300像素\nimage_scale(logo,\"x300\")%&gt;%\n# 填充头像的胡子为红色，需要先大概估算胡子的中心位置具体图片左上点的横向具体和纵向距离分别为多少，\n# 作者大概估计为250像素和190像素。\n  image_fill(\"red\", point = \"+250+190\", fuzz = 30)%&gt;%\n# 为图片增加左右上下都为10像素的边框\n  image_border(\"pink\", \"10x10\")%&gt;%\n# 为图片增加模糊效果\n  image_blur(10, 5)%&gt;%\n# 为图片增加噪点\n  image_noise()"
  },
  {
    "objectID": "qsight/2022-02-16-r-magick/index.html#图片向量magick还支持图层叠加图片拼接动图处理等功能",
    "href": "qsight/2022-02-16-r-magick/index.html#图片向量magick还支持图层叠加图片拼接动图处理等功能",
    "title": "用过R magick包处理图片，你还会用PS来P图吗？",
    "section": "6 图片向量，magick还支持图层叠加、图片拼接、动图处理等功能。",
    "text": "6 图片向量，magick还支持图层叠加、图片拼接、动图处理等功能。\n\n# 先把一个gif的图片读进来\nrabbit &lt;- image_read(\"rabbit.gif\")\n# 查看一下这个gif向量有多少元素组成，也就是有多少张图片组成的。\nlength(rabbit)\n\n[1] 22\n\n\n从上面的信息可以看出，这个gif图片由22张子图组成，比较大。由于我们需要反复处理此图并展现在html中，可能造成页面加载的图片太大导致网页打开太慢，我们可以把部分的子图删掉以缩小gif的大小。\n\n# 我们可以截取这个gif图片中部分元素组成新的gif（间隔3张子图提取一个子图（8个子图），组成新的gif）\nrabbit2&lt;-rabbit[c(1,4,7,10,13,16,19,22)]\n# 先看看这个图是什么\nprint(rabbit2)\n\n  format width height colorspace matte filesize density\n1    GIF   480    264       sRGB  TRUE        0   72x72\n2    GIF   480    264       sRGB  TRUE        0   72x72\n3    GIF   480    264       sRGB  TRUE        0   72x72\n4    GIF   480    264       sRGB  TRUE        0   72x72\n5    GIF   480    264       sRGB  TRUE        0   72x72\n6    GIF   480    264       sRGB  TRUE        0   72x72\n7    GIF   480    264       sRGB  TRUE        0   72x72\n8    GIF   480    264       sRGB  TRUE        0   72x72\n\n\n\n\n\n\n\n\n\n下面我们再来试试给gif格式的图片加上处理效果吧，我们不妨试试给这个gif图片的天空加点颜色，然后在图片上再加上一条文字注释。\nrev(rabbit2)%&gt;% \n  # 我们给左上角天空中增加一个红色的条带\n   image_fill(\"red\", point = \"+50+50\", fuzz = 5)%&gt;%\n    # 我们给右上角天空中增加一个紫色的条带\n   image_fill(\"purple\", point = \"+450+50\", fuzz = 5)%&gt;%\n  # 然后我们再给图片增加一条注释语句，放到图片的右下角\n  image_annotate(\"This gif image  has been modified by Dr. Chen\", size = 15, color = \"white\",gravity = \"southeast\")"
  },
  {
    "objectID": "qsight/2022-02-16-r-magick/index.html#图层叠加",
    "href": "qsight/2022-02-16-r-magick/index.html#图层叠加",
    "title": "用过R magick包处理图片，你还会用PS来P图吗？",
    "section": "7 图层叠加",
    "text": "7 图层叠加\n我们可以实现把gif图里的各层提取出来重新组合，或者添加进去新的图层，然后把他们以纵向排列或者横向排列的方式罗列出来，也可以重新做成gif动图。当然，在这个过程中，前面所说的哪些图片处理功能仍然可以实现。\n\n# 把logo图片和rabbit2图片的前两层合并成新的图片向量\nimg &lt;-c(logo,rabbit2[1:2])\n# 把图片等比例调整为300像素宽\nimg &lt;- image_scale(img, \"300\")\n# 现在显示以下目前的图片信息\nimage_info(img)\n\n  format width height colorspace matte filesize density\n1    GIF   300    225       sRGB FALSE        0   72x72\n2    GIF   300    165       sRGB  TRUE        0   72x72\n3    GIF   300    165       sRGB  TRUE        0   72x72\n\n# 把img图片各层等比例调整为200像素高，然后横向罗列出来 \nimage_append(image_scale(img, \"x200\"))\n\n\n\n\n\n\n\n# 把img图片各层等比例调整为200像素宽，然后纵向堆积\nimage_append(image_scale(img, \"200\"), stack = TRUE)\n\n\n\n\n\n\n\n# 把imge图片向量各层重重新做成动图，以每秒1帧的速度播放\nimage_animate(image_scale(img, \"x200\"), fps = 1, dispose = \"previous\")"
  },
  {
    "objectID": "qsight/2022-02-16-r-magick/index.html#读取pdf文件转换成图片",
    "href": "qsight/2022-02-16-r-magick/index.html#读取pdf文件转换成图片",
    "title": "用过R magick包处理图片，你还会用PS来P图吗？",
    "section": "8 读取pdf文件，转换成图片",
    "text": "8 读取pdf文件，转换成图片\nmagick包提供的image_read_pdf()函数可以读取pdf文件，当读取pdf文件后，pdf文件被转化为一个向量，而pdf的每一页被转化为该向量的每一个元素。由于pdf在被读取时进行渲染，所以需要在读取函数中设置density参数。下面我们来试一试吧：\n这个功能是借助pdftools包来实现的\n# 先安装pdftools包\ninstall.packages(\"pdftools\")\n\n# 读取一个pdf文件，设置density为72\nkidney &lt;- image_read_pdf('https://www.chenq.site/papers/kidney2015.pdf', density = 72)\n# 看看这个pdf的基本信息\nimage_info(kidney)\n\n  format width height colorspace matte filesize density\n1    PNG   502    731       sRGB  TRUE        0   72x72\n2    PNG   502    731       sRGB  TRUE        0   72x72\n3    PNG   502    731       sRGB  TRUE        0   72x72\n4    PNG   502    731       sRGB  TRUE        0   72x72\n5    PNG   502    731       sRGB  TRUE        0   72x72\n6    PNG   502    731       sRGB  TRUE        0   72x72\n\n# 查看一下第一页的内容\nkidney[1]"
  },
  {
    "objectID": "qsight/2022-02-16-r-magick/index.html#图片合成",
    "href": "qsight/2022-02-16-r-magick/index.html#图片合成",
    "title": "用过R magick包处理图片，你还会用PS来P图吗？",
    "section": "9 图片合成",
    "text": "9 图片合成\n\n# 默认的叠加方式直接放到前图的上面\nimage_composite(kidney[1],image_scale(logo,\"x275\"), operator = \"atop\")\n\n\n\n\n\n\n\n# 通过blend的方式叠加\nimage_composite(image_scale(logo,\"x275\"),  kidney[1], operator = \"blend\", compose_args=\"50\")"
  },
  {
    "objectID": "qsight/2022-02-16-r-magick/index.html#推荐学习列表",
    "href": "qsight/2022-02-16-r-magick/index.html#推荐学习列表",
    "title": "用过R magick包处理图片，你还会用PS来P图吗？",
    "section": "10 推荐学习列表",
    "text": "10 推荐学习列表\n由于篇幅有限，本篇文章没有把所有的功能在此展现出来，下面列出了一些网络资源共大家参考。\n\nThe magick package: Advanced Image-Processing in R\nThe magick package: Advanced Image-Processing in R"
  },
  {
    "objectID": "qsight/2022-04-17-mv/index.html",
    "href": "qsight/2022-04-17-mv/index.html",
    "title": "如何利用病理诊断比例（MV%）指标评价人群肿瘤登记数据质量？",
    "section": "",
    "text": "肿瘤登记数据的质量控制对于产出高质量数据至关重要，以人群为基础的肿瘤登记数据一般从四个方面进行质量控制，具体包括可比性、完整性、有效性和时效性指标，而病理诊断比例(MV%)指标可以在完整性和有效性两个方面对肿瘤登记数据的质量进行评价。\n病理诊断比例(MV%)是指收集的全部病例中，经过形态学诊断（组织下、细胞学、血液学）确认的病例数占全部病例数的百分比，\\(\\frac{经病理学确认的病例数}{所有病例数}\\)，该指标的大小受到肿瘤的发病部位、肿瘤登记地区的病理诊断能力与水平、该地区的医疗服务能力与水平等因素的影响，因此，我们在利用该指标进行肿瘤登记数据质量评价时应该考虑这些因素。\n在质量评价方面，MV%的绝对指标意义有限，通常利用它与适当的标准比较,比如与相似的区域的MV%指标比较，或者与国家的平均水平进行比较，从而判断该肿瘤登记地区的数据的有效性和完整性。"
  },
  {
    "objectID": "qsight/2022-04-17-mv/index.html#与一定的区域标准mv值进行比较",
    "href": "qsight/2022-04-17-mv/index.html#与一定的区域标准mv值进行比较",
    "title": "如何利用病理诊断比例（MV%）指标评价人群肿瘤登记数据质量？",
    "section": "1 与一定的区域标准MV值%进行比较",
    "text": "1 与一定的区域标准MV值%进行比较\n当肿瘤登记处的MV%值与区域标准（比如国家的平均水平）进行比较的时候，如果登记处MV%值与区域标准差距较大，并且该地区的医疗服务能力与水平以及病理诊断能力与区域平均水平没有很大差异的时候，则提示该登记处数据的有效性或者完整性可能存在问题。如果登记处MV%值小于区域标准值，并且差距较大，提示登记处收集的数据有效性较差；而如果登记处MV%值大于区域标准值，并且差距较大，则提示登记处数据的完整性可能存在问题。\n\n\n\n病理诊断比例"
  },
  {
    "objectID": "qsight/2022-04-17-mv/index.html#与一定的区域标准mv值进行比较-1",
    "href": "qsight/2022-04-17-mv/index.html#与一定的区域标准mv值进行比较-1",
    "title": "如何利用病理诊断比例（MV%）指标评价人群肿瘤登记数据质量？",
    "section": "2 与一定的区域标准MV值%进行比较",
    "text": "2 与一定的区域标准MV值%进行比较\n在多年的连续监测中，一个登记处的MV%应该是相对稳定的，不会出现大的波动，因为一个地区的医疗服务水平或者病理诊断能力是相对稳定的。如果多年份的MV%值出现跳跃性波动，则提示登记处数据的稳定性较差，相应存在波动年份的数据可能存在问题。"
  },
  {
    "objectID": "qsight/2022-03-19-picture/index.html",
    "href": "qsight/2022-03-19-picture/index.html",
    "title": "我家养的那些花儿",
    "section": "",
    "text": "以前养多肉，总是养着养着，仅剩下一个个花盆。卖花的大妈给传授的要点就是少浇水，但是养多肉的要点不仅仅只是少浇水，还有其它一些特点。现在又到了春暖花开的季节，我又耐不住躁动买了一盆盆的多肉，这一次要好好学习一下这些养多肉的知识和技巧，希望能养的好一些！\n\n\n\n\n\n\n钱串儿\n\n\n\n\n\n\n\n钱串儿\n\n\n\n\n\n\n\n钱串儿\n\n\n\n\n\n\n\n\n\n菊花\n\n\n\n\n\n\n\n看樱桃\n\n\n\n\n\n\n\n海棠花\n\n\n\n\n\n\n\n\n\n海棠花\n\n\n\n\n\n\n\n海棠花\n\n\n\n\n\n\n\n海棠花\n\n\n\n\n\n\n\n\n\n海棠花\n\n\n\n\n\n\n\n海棠花\n\n\n\n\n\n\n\n海棠花\n\n\n\n\n\n\n\n\n\n这是过年的时候采购的一批多肉，希望撑过一年。\n\n\n这是过年的时候采购的一批多肉，希望撑过一年。\n\n\n这是过年的时候采购的一批多肉，希望撑过一年。\n\n\n商家说是可以过冬。\n\n\n小时候院里有很多这种野生的看樱桃，不知道学名是啥。\n\n\n小时候院里有很多这种野生的看樱桃，不知道学名是啥。\n\n\n小时候院里有很多这种野生的看樱桃，不知道学名是啥。\n\n\n小时候院里有很多这种野生的看樱桃，不知道学名是啥。\n\n\n小时候院里有很多这种野生的看樱桃，不知道学名是啥。\n\n\n小时候院里有很多这种野生的看樱桃，不知道学名是啥。\n\n\n小时候院里有很多这种野生的看樱桃，不知道学名是啥。\n\n\n小时候院里有很多这种野生的看樱桃，不知道学名是啥。\n\n\n\n\n\n  \n    \n  \n  \n    陈 琼\n       博士 \n       副主任医师 \n    他从事肿瘤登记与人群流行病学研究，编写肿瘤登记年报，并开发和维护个人网站。他撰写博文，分享数据分析方法、可视化技巧和自动化报告解决方案，同时学习 R 语言，开发 R 包，不断探索高效的数据处理与展示方式。 🚀\n    \n      \n        \n      \n      \n        \n      \n      \n        \n      \n    \n  \n\n 回到顶部"
  },
  {
    "objectID": "qsight/2020-02-14-开篇/index.html",
    "href": "qsight/2020-02-14-开篇/index.html",
    "title": "开篇",
    "section": "",
    "text": "从今天起，我将开始开始利用博客记录我的生活，我的高兴与不高兴将会记录在此，我学习的新知识也将在此分享给大家，也当作是一种资料归档，便于以后查询。本网站所有资料托管在github上，并利用Netlify和hugo技术 编译生成静态网页，如果发现我的网页有错误的话，请及时联系我，在此谢过。\n\n\n\n\n\n  \n    \n  \n  \n    陈 琼\n       博士 \n       副主任医师 \n    他从事肿瘤登记与人群流行病学研究，编写肿瘤登记年报，并开发和维护个人网站。他撰写博文，分享数据分析方法、可视化技巧和自动化报告解决方案，同时学习 R 语言，开发 R 包，不断探索高效的数据处理与展示方式。 🚀\n    \n      \n        \n      \n      \n        \n      \n      \n        \n      \n    \n  \n\n 回到顶部"
  },
  {
    "objectID": "qsight/2023-04-09-relativesurvival/index.html",
    "href": "qsight/2023-04-09-relativesurvival/index.html",
    "title": "基于”periodR”包利用现时生存分析法计算人群癌症5年相对生存率",
    "section": "",
    "text": "癌症5年生存率是评估癌症诊疗水平的一个重要指标，本篇博文介绍了如何利用R语言\"periodR\"包基于人群肿瘤登记数据计算人群癌症5年相对生存率。"
  },
  {
    "objectID": "qsight/2023-04-09-relativesurvival/index.html#基本概念",
    "href": "qsight/2023-04-09-relativesurvival/index.html#基本概念",
    "title": "基于”periodR”包利用现时生存分析法计算人群癌症5年相对生存率",
    "section": "1 基本概念",
    "text": "1 基本概念\n\n\n\n\n\n\n什么是5年生存率\n\n\n\n通俗的讲，5年生存率是就是诊断癌症后，生存期满5年的病人所占的比例。\n\n\n\n1.1 相对生存率\n根据死因竞争风险分析理论，癌症病人的死亡危险分别来自两个相互独立的方面:病人所患疾病(癌症)和除此之外的其它方面。后者指不同性别、年龄、种族和年代的人群本身所存在的基础死亡危险。它们分别可由研究人群的观察生存率和相应的一般人群的期望生存率来反映。\n相对生存率定义为研究人群的观察生存率与假定其为一般人群时的期望生存率之比,校正了诸如性别、年龄、种族和年代等因素对病人生存情况的影响。因而用相对生存率作为地区或人群间生存率水平的比较指标,比观察生存率能更好地说明问题。\n观察生存率反映的是研究人群的总的死亡危险,而相对生存率反映的是肿瘤的超额死亡危险。如果相对生存率越接近于 100%,则表明研究人群的预后越好,反之越差。所以它既可以象观察生存率一样用于描述研究人群的生存水平或预后优劣,也可以作为观察生存率的标化指标。\n\n\n1.2 感兴趣时期\n我们在分析癌症生存率之前，首先要确定一段时间范围作为“感兴趣时期”，本篇博文的分析将把“2017-2019年”作为感兴趣时期，我们要计算这个时期癌症病例的5年生存率，最真实准确的方法是将2017-2019年的确诊的癌症病例分别随访至2022-2024年，然后计算活满5年的人数所占的比例。在当前的时间（2023年），很显然无法得到全部癌症病例的5年随访数据来计算真实生存率，我们就需要采用其他方法进行估算。\n\n\n1.3 完全数据\n在癌症病例的随访过程中，能够明确观察记录到病例的生存时间，或者发生终点事件的具体时间，这样的数据为完全数据。生存时间是指从规定的起始观察事件到发生特定的终点事件之间的经历的时间跨度。在人群肿瘤登记数据的生存分析中，起始事件一般为明确诊断为癌症，而终止事件一般为因癌症死亡。\n\n\n1.4 不完全数据\n与完全数据相反，研究结束时，研究对象发生了研究设定的终点事件之外的其他事件，从而导致无法明确记录从起始观察到发生终点事件之间的生存时间，这类数据称之为不完全数据。\n在人群肿瘤登记数据中，在癌症病例随访过程的截止不是由”癌症死亡”引起的，而是由其他原因引起。\n不完全数据分为：删失数据和截尾数据。\n不完全数据的主要原因有：\n\n失访： 失去联系\n退出： 死于非研究因素或非处理因素而退出研究。对于人群肿瘤登记数据来说，如果癌症患者死于癌症以外的其他原因，如意外、交通事故等，也是退出。\n终止： 因为已经到研究设定的随访截止日期而终止随访观察，但是研究对象仍然存活。\n\n\n\n1.5 删失和截尾\n删失的分类\n\n左删失：研究对象在某一时刻开始接受观察，但是在该时间点之前，研究所感兴趣的事件已经发生，无法明确具体时间。\n右删失：在进行随访观察中，研究对象观察的起始时间已知，但终点事件发生的时间未知，无法获取具体的生存时间，只知道生存时间大于观察时间。\n\n截尾是所有样本的综合特性，指的是观察的总体是有偏的，只有当事件的失效时间出现在观测区间内，我们才能知道这个事件及其观测数据的存在。\n\n左截尾（left truncation）：只能观测到一个时间点之后发生的失效事件。左截尾时间点之前发生的失效事件不知情/不关心（如样本来自退休中心，都是&gt;60岁的老人）。\n右截尾（right truncation）：只能观测到一个时间点之前发生的失效事件。右截尾时间点之后发生的失效事件不知情/不关心"
  },
  {
    "objectID": "qsight/2023-04-09-relativesurvival/index.html#现时生存分析方法介绍",
    "href": "qsight/2023-04-09-relativesurvival/index.html#现时生存分析方法介绍",
    "title": "基于”periodR”包利用现时生存分析法计算人群癌症5年相对生存率",
    "section": "2 现时生存分析方法介绍",
    "text": "2 现时生存分析方法介绍\n\n2.1 不同生存率估计方法比较\n相对生存率的估计方法有队列法（cohort method）、完全法（complete method）、现时生存分析法（period survival analysis）、混合法（hybrid method）和预测法（projection method），不同的生存率估计方法纳入的确诊病例和随访时间有所不同，具体不同可以见下图(2)。\n\n\n\n\n\n\n\n\n\n以上不同的方法具有不同的优缺点，传统的队列法和完全法由于纳入的病例中均包含了感兴趣时期之前确诊的病例，因此不能反映最新最及时的生存情况。\n\n\n2.2 现时生存分析\n现时生存分析由德国流行病学家 Hermann Brenner于1996年首先提出，至2002年逐渐发展成熟(1,3–5)。\n现时生存分析（period survival analysis）纳入的研究对象分为两部分，一部分是感兴趣时期新确诊的所有病例，另一部分是感兴趣时期之前确诊而且在感兴趣时期仍然存活的病例。本研究的感兴趣时期设定为2017-2019年，那研究对象就需要纳入2017-2019年期间所有新确诊癌症病例以及2017-2019年之前确诊并在2017-2019年期间仍存活的癌症病例(6)。\n现时生存分析在感兴趣时期纳入了新确诊癌症病例数据和随访数据，因此该方法更接近真实生存率。\n\n\n2.3 现时生存分析的估计精度\n由于现时生存分析方法纳入的病例数相对于完全法来说要少，因此，该方法估计生存率的精确度和稳健度比其他方法偏低，估计生存率的方差也偏大一些，因此，我们在利用该方法估计生存率的时候应注意把握估计精确度和时效性之间的平衡。\n但是对于省级人群肿瘤登记数据来说，数据样本量较大，生存率估计的精度能够得到保证，因此，评估的时效性成为优先考虑的问题，现时生存分析成为评估人群癌症生存率的优先选项(2,7)。"
  },
  {
    "objectID": "qsight/2023-04-09-relativesurvival/index.html#统计软件包的安装",
    "href": "qsight/2023-04-09-relativesurvival/index.html#统计软件包的安装",
    "title": "基于”periodR”包利用现时生存分析法计算人群癌症5年相对生存率",
    "section": "3 统计软件包的安装",
    "text": "3 统计软件包的安装\n本篇博文介绍利用现时法统计模型估计癌症5年生存率，这种方法能够提高生存率估计的时效性。我们将使用Brenner等编写的R包”periodR”进行相对生存率的估计，你可以在这里下载R包，并安装使用(5,8)。\n点开链接之后，可以根据自己使用的操作系统和R语言版本选择相应的安装包。\n\n\n\n\n\n\n\n\n\n下载之后，我们可以看到一个名为periodR_1.0-6.tar.gz的压缩包，使用下面的R语言安装所下载的R包。\ninstall.packages('periodR_1.0-6.tar.gz', repos=NULL, type='source')"
  },
  {
    "objectID": "qsight/2023-04-09-relativesurvival/index.html#数据准备",
    "href": "qsight/2023-04-09-relativesurvival/index.html#数据准备",
    "title": "基于”periodR”包利用现时生存分析法计算人群癌症5年相对生存率",
    "section": "4 数据准备",
    "text": "4 数据准备\n\n4.1 数据来源\n本篇博文拟分析河南省肿瘤登记处覆盖地区的癌症患者5年相对生存率，数据来源分为两部分，第一部分为肿瘤登记地区癌症患者生存信息用于计算观察生存率，另一部分来源于各肿瘤登记处上报的寿命表数据用于计算一般人群的期望生存率。\n\n\n4.2 肿瘤登记处的筛选\n我们要使用河南省肿瘤登记数据估计河南省癌症5年相对生存率，首先要做的是选择使用哪些登记处的数据进行生存分析，河南省肿瘤登记已经覆盖全省人口的90%以上，但是数据质量差异很大。\n为了使生存分析的结果能够真实反映河南省癌症人群的真实生存情况，我们选择纳入分析的登记处必须满足下面的条件，即其2014年肿瘤登记数据被纳入《河南省肿瘤登记年报》，这样纳入的癌症病例能够基本反映登记地区的癌症病人总体的发病、死亡及生存情况。\n提前加载数据分析相关的R包\nlibrary(tidyverse)\nlibrary(haven)\nlibrary(Hmisc)\nlibrary(canregtools)\nlibrary(lubridate)\nlibrary(periodR)\nlibrary(flextable)\nlibrary(kableExtra)\nlibrary(gtsummary)\n筛选入选河南省肿瘤登记年报的登记处数据。\n\n\n代码\n## 从code字典里筛选出2014年年报纳入的登记处\nregistrys &lt;- mdb.get(\"code.mdb\",tables = c(\"registry\")) %&gt;% \n  filter(report2014==1) %&gt;% \n  select(areacode,city,county)\nareacodes &lt;- registrys$areacode\n\nregistrys$areacode &lt;- as.character(registrys$areacode)\n\n## 读取肿瘤登记数据\ncanreg &lt;- read_sas(\"tumorinfo.sas7bdat.zip\")\ncanreg &lt;- canreg %&gt;% \n  #把入选2014年年报的登记处筛选出来\n  filter(areacode %in% areacodes)\n\n\n\n\n4.3 按照现时生存分析筛选病例\n考虑到我们设定的”感兴趣时期”为2017-2019年，按照现时生存分析方法纳入病例的原则，我们需要纳入2017-2019年期间新诊断的所有癌症患者以及在这个时期之前诊断且在2017-2019年期间内仍存活的癌症病例(9)。\n按照上面的筛选标准，继续对上一步输出的数据进行范围筛查。\n\n\n代码\ncanreg &lt;- canreg %&gt;% \nrename_all(tolower) %&gt;% \n  mutate(dy = year(inciden),\n    dm = month(inciden),\n    dyear = year(deathda)) %&gt;% \n  filter((dy&gt;=2014 & dy&lt;=2019)|(dy&lt;2014 & (is.na(dyear)|dyear&gt;2019)),dy&gt;=2010)\n\n\n\n\n4.4 限制生存分析的癌种范围\n我们选择分析的癌种范围与《国家肿瘤登记年报》报告的癌种范围一致，即所有恶性肿瘤和中枢神经系统良性肿瘤。\n\n\n代码\n## 把数据限制在上报C00-C98,D32-33,D42-43,D45-47范围之内\nanalysis &lt;- canreg %&gt;% \n  mutate(autoicd10=toupper(autoicd10),\n         type=substr(autoicd10,1,1)) %&gt;%\n  mutate(icd_number = as.numeric(gsub(\"[^0-9\\\\.]\", \"\", autoicd10))) %&gt;% \n  filter((type==\"C\" & between(icd_number,0,98.9))|\n        (type==\"D\" & between(icd_number,32,33.9))|\n        (type==\"D\" & between(icd_number,42,43.9))|\n        (type==\"D\" & between(icd_number,45,47.9))) \n\n\n\n\n4.5 对删失数据进行处理\n本研究的随访截止日期设定为2019年12月31日，我们按照这个截止日期进行结尾数据的手工处理。\n\n\n代码\nanalysis &lt;- analysis %&gt;%  \n  mutate(diagage = trunc((birthda %--% inciden) / years(1)),\n         icdd= classify_icd10(autoicd10),\n         follow = case_when(\n           !is.na(deathda) & dy &lt;= 2019 ~ deathda,\n           !is.na(deathda) & dy &gt; 2019 ~ ymd(\"2019-12-31\"),\n           is.na(deathda) ~ ymd(\"2019-12-31\")),\n         vitstat = case_when(\n           !is.na(deathda) & dy &lt;= 2019 ~ 2,\n           !is.na(deathda) & dy &gt; 2019 ~ 1,\n           is.na(deathda) ~ 1),\n         fm = month(follow),\n         fy = year(follow))\n\n\n\n\n4.6 对待分析的分组变量进行处理\n\n\n代码\nanalysis &lt;- analysis %&gt;%  \n  mutate(\n         area_type =ifelse(areacode %in% c(\"410302\",\"410303\",\"410304\",\"410305\",\n                                           \"410602\",\"410603\",\"410611\",\n                                           \"411102\",\"411103\",\"411104\",\n                                           \"411202\",\"411303\"),\"Urban\",\"Rural\"),\n         agegrp = cut(diagage, \n                      breaks = c(0, 15, 40, 65, 85, Inf),\n                      labels = c(\"0-14 岁\",\"15-39 岁\",\n                                 \"40-64 岁\",\"65-84 岁\",\n                                 \"&gt;84 岁\"),\n                      right = FALSE),\n         agegrp2 = findInterval(diagage,c(15,40,65,85)),\n         period = case_when(\n           dy %in% c(2010,2011,2012,2013)~ \"2010-2013\",\n           dy %in% c(2014,2015,2016) ~ \"2014-2016\",\n           dy %in% c(2017,2018,2019) ~ \"2017-2019\")\n         ) %&gt;% \n  filter(!(sex==\"1\"&icdd%in%c(\"子宫体\",\"子宫颈\",\"乳房\",\"卵巢\"))) %&gt;% \n  filter(!(sex==\"2\"&icdd%in%c(\"前列腺\",\"睾丸\"))) %&gt;% \n  mutate(areacode2 = case_when(\n    areacode %in% c(\"410302\",\"410303\",\"410304\",\"410305\")~ \"410300\",\n    areacode %in% c(\"410602\",\"410603\",\"410611\") ~ \"410600\",\n    areacode %in% c(\"411102\",\"411103\",\"411104\") ~ \"411100\",\n    .default = areacode )) %&gt;% \n  mutate(basi2=ifelse(inciden==deathda&!is.na(deathda),0,basi)) %&gt;% \n  mutate(state=ifelse(areacode2==\"410300\" & state==\"9\", \"1\", state))"
  },
  {
    "objectID": "qsight/2023-04-09-relativesurvival/index.html#质量控制",
    "href": "qsight/2023-04-09-relativesurvival/index.html#质量控制",
    "title": "基于”periodR”包利用现时生存分析法计算人群癌症5年相对生存率",
    "section": "5 质量控制",
    "text": "5 质量控制\n在进行5年相对生存率的计算之前，我们需要先评估一下各个登记处的随访的质量情况，包括DCO数据的比例、失访的情况、最终纳入分析数据的病理诊断比例等来对数据质量进行评估。\n\n\n代码\nsubmit &lt;- analysis %&gt;% count(areacode2)\ndco &lt;- analysis %&gt;%\n  filter(basi2==0) %&gt;% \n  count(areacode2)\n\nstatus &lt;- analysis %&gt;% \n  filter(!basi2==0,!(state %in% c(\"1\",\"2\"))) %&gt;%\n  count(areacode2) \n\nfinal &lt;- analysis %&gt;% \n  filter(!basi2==0) %&gt;% \n  filter((state %in% c(\"1\",\"2\")))\n\nselected &lt;- final %&gt;% count(areacode2)\n\nmv &lt;- final %&gt;% filter(basi %in% c(\"5\",\"6\",\"7\")) %&gt;% count(areacode2)\nmp &lt;- final %&gt;% filter(reco ==\"3\") %&gt;% count(areacode2)\nresult &lt;- submit %&gt;% \n  left_join(dco,by=\"areacode2\") %&gt;% \n  left_join(status,by=\"areacode2\") %&gt;% \n  left_join(selected,by=\"areacode2\") %&gt;% \n  left_join(mv,by=c(\"areacode2\")) %&gt;% \n  left_join(mp,by=c(\"areacode2\")) \ncolnames(result) &lt;- c( \"areacode\",\"submit\",\"dco\",\"missfol\",\"analysis\",\"mv\",\"mp\")\n\nresult &lt;- result %&gt;% \n  replace_na(list(missfol=0,mp=0))\nresult1 &lt;- result %&gt;% \n  summarise(across(c(submit,dco,missfol,analysis,mv,mp),sum)) %&gt;% \n  mutate(areacode=\"合计\")\n\nresult &lt;- rbind(result,result1) %&gt;% \n  mutate(dco_p=round(dco/submit*100,1),\n         missfol_p=round(missfol/submit*100,1),\n         mv_p=round(mv/analysis*100,1),\n         mp_p=round(mp/analysis*100,1))\nurban &lt;- c(\"410300\",\"410600\",\"411100\",\"411202\",\"411303\")\n\n\n把上面计算的结果绘制成可以展现的表格，从下面 表 1 中可以看出入选登记处的数据质量情况，包括DCO、失访情况、以及最终纳入分析的病例数、多原发比例、以病理诊断比例等。\n\n\n代码\nt1 &lt;- result %&gt;% \n  mutate(a=paste0(dco,\"(\",dco_p,\"%)\"),\n         b=paste0(missfol,\"(\",missfol_p,\"%)\"),\n         c=paste0(mp,\"(\",mp_p,\"%)\"),\n         d=paste0(mv,\"(\",mv_p,\"%)\"),\n         type=ifelse(areacode %in% urban,\"城市\",\"农村\"),\n         type=ifelse(areacode ==\"合计\",\"--\",type)) %&gt;%\n  left_join(registrys,by=\"areacode\") %&gt;% \n  mutate(county=case_when(\n    areacode==\"410300\"~\"洛阳市\",\n    areacode==\"410600\"~\"鹤壁市\",\n    areacode==\"411100\"~ \"漯河市\",\n    areacode==\"合计\"~\"合计\",\n    .default = county\n  )) %&gt;% \n  select(county,type,submit,a,b,analysis,c,d) %&gt;% \n  kbl(col.names = c(\"登记处\",\"类型\",\"病例数\",\"DCO,n(%)\",\"失访,n(%)\",\n                    \"病例数\",\"多原发,n(%)\",\"病理诊断,n(%)\"),\n      align = \"c\") %&gt;% \n  kable_styling(font_size = 7) %&gt;% \n  kable_classic(full_width = T, html_font = \"Cambria\") %&gt;% \n  add_header_above(c(\" \" = 3, \"剔除\" = 2, \"纳入分析\" = 3),\n                   bold = T,border_left = T) %&gt;%\n  row_spec(0,1,bold=T,italic=T) \n\n\n\n\n\n\n表 1: 纳入分析肿瘤登记处随访质量情况\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n剔除\n\n\n纳入分析\n\n\n\n登记处\n类型\n病例数\nDCO,n(%)\n失访,n(%)\n病例数\n多原发,n(%)\n病理诊断,n(%)\n\n\n\n\n洛阳市\n城市\n23750\n1079(4.5%)\n1993(8.4%)\n20678\n182(0.9%)\n15901(76.9%)\n\n\n孟津县\n农村\n9688\n337(3.5%)\n311(3.2%)\n9040\n23(0.3%)\n6168(68.2%)\n\n\n新安县\n农村\n8815\n170(1.9%)\n67(0.8%)\n8578\n15(0.2%)\n5587(65.1%)\n\n\n栾川县\n农村\n5766\n206(3.6%)\n257(4.5%)\n5303\n8(0.2%)\n3969(74.8%)\n\n\n嵩县\n农村\n10091\n219(2.2%)\n56(0.6%)\n9816\n7(0.1%)\n7092(72.2%)\n\n\n汝阳县\n农村\n7771\n275(3.5%)\n6(0.1%)\n7490\n0(0%)\n5786(77.2%)\n\n\n宜阳县\n农村\n11723\n206(1.8%)\n115(1%)\n11402\n19(0.2%)\n8147(71.5%)\n\n\n偃师市\n农村\n11615\n211(1.8%)\n157(1.4%)\n11247\n213(1.9%)\n8350(74.2%)\n\n\n鲁山县\n农村\n16226\n439(2.7%)\n17(0.1%)\n15770\n212(1.3%)\n12528(79.4%)\n\n\n林州市\n农村\n25727\n259(1%)\n1(0%)\n25467\n475(1.9%)\n20861(81.9%)\n\n\n鹤壁市\n城市\n11707\n251(2.1%)\n267(2.3%)\n11189\n119(1.1%)\n7706(68.9%)\n\n\n辉县市\n农村\n16596\n90(0.5%)\n792(4.8%)\n15714\n24(0.2%)\n11220(71.4%)\n\n\n禹州市\n农村\n18484\n654(3.5%)\n23(0.1%)\n17807\n18(0.1%)\n13155(73.9%)\n\n\n漯河市\n城市\n23074\n905(3.9%)\n558(2.4%)\n21611\n46(0.2%)\n15431(71.4%)\n\n\n三门峡市湖滨区\n城市\n5945\n73(1.2%)\n224(3.8%)\n5648\n5(0.1%)\n4498(79.6%)\n\n\n南阳市卧龙区\n城市\n15196\n1575(10.4%)\n66(0.4%)\n13555\n66(0.5%)\n9895(73%)\n\n\n方城县\n农村\n16024\n423(2.6%)\n70(0.4%)\n15531\n41(0.3%)\n11534(74.3%)\n\n\n内乡县\n农村\n12722\n155(1.2%)\n0(0%)\n12567\n84(0.7%)\n9372(74.6%)\n\n\n睢县\n农村\n14534\n98(0.7%)\n510(3.5%)\n13926\n22(0.2%)\n9818(70.5%)\n\n\n虞城县\n农村\n15607\n106(0.7%)\n3(0%)\n15498\n42(0.3%)\n11036(71.2%)\n\n\n罗山县\n农村\n13046\n161(1.2%)\n5(0%)\n12880\n191(1.5%)\n8716(67.7%)\n\n\n沈丘县\n农村\n22220\n628(2.8%)\n139(0.6%)\n21453\n12(0.1%)\n14877(69.3%)\n\n\n郸城县\n农村\n23826\n597(2.5%)\n0(0%)\n23229\n0(0%)\n16073(69.2%)\n\n\n西平县\n农村\n14952\n361(2.4%)\n134(0.9%)\n14457\n41(0.3%)\n10808(74.8%)\n\n\n济源市\n农村\n13396\n423(3.2%)\n593(4.4%)\n12380\n13(0.1%)\n8716(70.4%)\n\n\n合计\n--\n368501\n9901(2.7%)\n6364(1.7%)\n352236\n1878(0.5%)\n257244(73%)"
  },
  {
    "objectID": "qsight/2023-04-09-relativesurvival/index.html#计算一般人群期望生存概率",
    "href": "qsight/2023-04-09-relativesurvival/index.html#计算一般人群期望生存概率",
    "title": "基于”periodR”包利用现时生存分析法计算人群癌症5年相对生存率",
    "section": "6 计算一般人群期望生存概率",
    "text": "6 计算一般人群期望生存概率\n普通人群期望生存概率是计算癌症相对生存率的基础，我们可以通过肿瘤登记处上报的分性别、年龄组的全因死亡数来计算简略寿命表，然后通过一些方法把简略寿命表扩展为完全寿命表。\n下面我们介绍如何使用stata软件计算简略寿命表，并把简略寿命表扩充为完全寿命表的过程。（图 1）\n\n\n\n\n\n\nflowchart TD\n A[(全死因数据)] --&gt; B[分性别年龄组全因死亡数]\n B --&gt; C[编制简略寿命表]\n C --&gt; D[寿命表的质量控制]\n D --&gt; E[平滑方法]\n E --&gt; F[完全寿命表]\n\n\n\n\n图 1: 简略寿命表扩充完全寿命表\n\n\n\n\n\n\n6.1 统计整理全死因数据\nlifetable &lt;- read_sas(\"population.sas7bdat.zip\") %&gt;% \n  rename_all(tolower) %&gt;% \n  # mutate(areacode = substr(addcode,1,6)) %&gt;% \n  # filter(areacode ==\"410302\",type==4,year==2013)\n  mutate(areacode = substr(addcode,1,6),\n         area_type =\n          ifelse(areacode %in% c(\"410302\",\"410303\",\"410304\",\"410305\",\n                                  \"410602\",\"410603\",\"410611\",\n                                 \"411102\",\"411103\",\"411104\",\n                                  \"411202\",\"411303\"),\"Urban\",\"Rural\")) %&gt;% \n  filter(areacode %in% areacodes, year &gt;= 2014,year &lt;= 2020) %&gt;% \n  filter(!(areacode %in% c(\"410602\",\"410603\",\"410611\",\"410303\"))) %&gt;% \n  select(areacode,area_type,year,sex,type,p0:p85) %&gt;%\n  pivot_longer(cols = p0:p85, names_to = c(\"agegrp\"), values_to =c(\"count\")) %&gt;% \n  mutate(type=ifelse(type==1,\"pop\",\"death\")) %&gt;% \n  pivot_wider(names_from = c(\"type\"), values_from = c(\"count\")) %&gt;% \n  mutate(agegrp = as.numeric(gsub(\"[^0-9\\\\.]\", \"\", agegrp)),\n         sex=as.numeric(sex))  \n## 按照地区分类计算各年龄生存概率\narea_type &lt;- lifetable %&gt;%  \n  filter(!is.na(death),!is.na(pop)) %&gt;%\n  group_by(area_type,sex, year, agegrp) %&gt;% \n  mutate(deaths=sum(death),\n         pop = sum(pop),\n         rate = deaths/pop*1000) %&gt;% \n  distinct(area_type,sex,year,agegrp,pop,deaths,rate) %&gt;% \n  ungroup() %&gt;% \n  mutate(agegroup2=agegrp,\n         code=area_type) %&gt;%  \n  arrange(area_type,year,sex,agegrp)\nwrite_dta(area_type,\"pop.dta\")\n\n\n# A tibble: 6 × 8\n    sex  year agegrp    pop deaths  rate agegroup2 code \n  &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;\n1     1  2014      0 118519    596 5.03          0 Henan\n2     1  2014      1 593146    304 0.513         1 Henan\n3     1  2014      5 743825    181 0.243         5 Henan\n4     1  2014     10 694528    177 0.255        10 Henan\n5     1  2014     15 692646    290 0.419        15 Henan\n6     1  2014     20 829811    537 0.647        20 Henan\n\n\n\n\n6.2 stata数据准备\n我们在扩展简略寿命表的过程中使用了ej-hm的方法，这个方法需要用到ej系数和ej-hm方法的do程序，大家可以点击下面的按钮下载使用。\n 下载ej系数 \n 下载ej-hm.do \n\n\n6.3 计算简略寿命表\ncd \"/Users/qc0824/manuscripts/period-survival\"\n************step 2 简略寿命表准备\nuse pop.dta,clear\nbrowse\ngen n=5 //生成组距\nreplace n=1 if agegroup2==0\nreplace n=4 if agegroup2==1\nreplace n=15 if agegroup2==85\n\ntab n\ngen mx= deaths/pop // 计算年龄组死亡率\ngen qx=1-exp(-n*mx) // 计算年龄组死亡概率\negen ageblock1=seq(),block(19)\nbysort ageblock1: gen ageblock2=_n\n\ngen lx=.\nreplace lx=100000 if agegroup2==0\ngen dx=.\nreplace dx=qx*lx \n\nforeach n of numlist 2/19 {\n   bysort code year sex ageblock1: replace lx=lx[_n-1]-dx[_n-1] if  ageblock2==`n'\n   replace dx=qx[_n]*lx[_n] if ageblock2==`n'\n    } // 计算尚存活人数lx，和死亡人数dx\ngen Lx=n*(2*lx-dx)/2    //计算个年龄组生存人年数\n\ngsort code year sex -ageblock2 // 利用sum函数从上往下累计的原理，将年龄组倒序排列，反向累加\nbysort ageblock1: gen Tx=sum(Lx) // 计算生存总人年数\ngsort code year sex ageblock2\ngen ex=Tx/lx // 计算期望寿命=生存总人年数/年龄组尚存活人数\n\n\n6.4 寿命表的质量审核\ntwoway(connected ex year if agegroup2==0),by(code sex) xla(2014(2)2020) // #根据期望寿命判断寿命表的数据质量（修改分析年份）\n\n\n6.5 扩充完全寿命表结构\n*******************step3 将19个年龄组expand为0到99岁完整年龄寿命表结构\ndrop ageblock1 ageblock2 // 删除年龄区组中间变量\ngen num=_n // 生成序号\nexpand=n   // 根据n的数量扩充数据库\nsort num // 根据序号排序\nbysort code year sex : egen age=seq(),f(0) t(99) // 生成0-99岁单岁组\nbysort code year sex num :egen block=seq(),f(1) t()  // 为19个年组内扩充的单岁组排序\norder age,after(sex) // 年龄变量移位至sex后面\nforeach var of varlist mx-ex {\n    replace `var'=. if block~=1\n    } // 清除扩充出的单岁组的对应的死亡率mx，死亡概率qx，尚存活人数lx，死亡人数dx，生存人年数Lx，生存总人年数Tx，平均期望寿命ex\n    \nsave lt0-99,replace\n\n\n6.6 合并EJ推算系数\n************step 4 EJ推算系数合并\nuse ej系数,clear\nsort age\nsave ej系数,replace\n\nuse lt0-99,clear\nsort age\n\nmerge m:1 age using \"ej系数\" // 注意查看合并结果和note文件\n\n\n6.7 利用EJ-hm方法建模估计完全寿命表\n************step 5 EJ建模估算\nren (code pop deaths)(site population deaths) // 重新命名变量与EJ-hm.do内保持一致\ndescribe\nsort site year sex age\nreplace lx=lx/100000 //必须将lx转化，除以100000，否则结果出错\ndo \"EJ-hm.do\"\n* Generate fitted mortality rate from 0 to 98 years\nsort site sex year age \ngen fitmx=-ln(fitlx[_n+1]/fitlx) if age!=99 // 根据qx=1-exp(-n*mx)公式反向推导而来，即px=exp(-mx)\nreplace fitmx=-ln(fitlx/fitlx[_n-1]) if age==99 // 99岁组fitmx单独计算,等于98岁组的死亡率（疑问？）\n* Save results\nsave complete_lifetable_js, replace"
  },
  {
    "objectID": "qsight/2023-04-09-relativesurvival/index.html#利用periodr包计算相对生存率",
    "href": "qsight/2023-04-09-relativesurvival/index.html#利用periodr包计算相对生存率",
    "title": "基于”periodR”包利用现时生存分析法计算人群癌症5年相对生存率",
    "section": "7 利用periodR包计算相对生存率",
    "text": "7 利用periodR包计算相对生存率\n\n7.1 periodR基本语法\nperiod(data, k, surv.m, surv.f, perbeg, perend, method=\"EdereII\", agedist=NULL)\n程序参数如下：\n\n\ndata：生存数据\nk：随访时间\nsurv.m：0-99岁条件一年生存概率（男性）\nsurv.f：0-99岁条件一年生存概率（女性）\nperbeg：纳入分析的起始年份\nperend：纳入分析的终止年份\nmethod：相对生存率的计算方法\nagedist: 标准年龄构成\n\n\n生存数据所须的一些强制性变量\n\n\n\n\n\n\nperiodR生存分析的强制性变量\n\n\n\n\nsex: 1-男性，2-女性\ndm: 诊断时间月份(数值：1-12)\ndy: 诊断时间年份(数值：2002)\ndiagage: 诊断时年龄(数值：66)\nfm: 随访终止时间月份(数值：1-12)\nfy: 随访终止时间年份(数值：2019)\nvitstat: 随访终止时生存状态(1：存活，2：死亡)\n\n\n\n\n\n7.2 构建批量生存分析函数\nperiod函数对不同数据子集进行生存分析时，需要在data参数中制定不同的数据子集，如果子集很多的时候，数据分析起来就会很麻烦，比如对不同部位癌种进行生存分析，所以，我们可以在period函数的基础上，编制一个批量生存分析的函数，来方面我们的计算过程。\n下面这个函数在period的基础上进行了一些整合，可以批量分析不同亚组的生存分析，并把主要结果整理成数据集。\ntperiod &lt;- function(data,cat) {\n  cats &lt;- unique(data[[cat]])\n  ress &lt;- data.frame()\n  for (x in cats) {\n    std.pop &lt;- icss_choose(x)\n    ress_ &lt;- period(subset(data,data[[cat]]==x), 5, surv.m, surv.f, 2017, 2019)\n    res_ &lt;-  period(subset(data,data[[cat]]==x), 5, surv.m, surv.f, \n                   2017, 2019, agedist = std.pop)\n    res &lt;- data.frame(cate=x,\n                      crs=round(ress_$rel.surv[5],1),\n                      cse=round(ress_$rel.surv.stderr[5],1),\n                      rs=round(res_$rel.surv[5],1),\n                      se=round(res_$rel.surv.stderr[5],1))\n    ress &lt;-rbind(ress,res)\n  }\n  total_ &lt;- period(data, 5, surv.m, surv.f, 2017, 2019)\n  total &lt;- period(data, 5, surv.m, surv.f, 2017, 2019, agedist = icss1)\n  total &lt;- data.frame(cate=\"合计\",\n                      crs=round(total_$rel.surv[5],1),\n                      cse=round(total_$rel.surv.stderr[5],1),\n                      rs=round(total$rel.surv[5],1),\n                      se=round(total$rel.surv.stderr[5],1))\n  ress &lt;- rbind(ress,total) %&gt;% arrange(cate)\n  return(ress)\n}\n\n\n7.3 年龄标化生存率的计算\n在进行生存率的年龄标化时，WHO推荐了三个标准年龄构成，不同的癌种在进行年龄标化时应该选择不同的标准年龄构成。我把这个过程跟上面的函数整合到一起，可以实现根据不同癌症选择不同的标准年龄构成，这样就不用手动选择标准年龄结构了(10)。\n\n7.3.1 标准年龄构成\n标准年龄构成分为两种，一种是每5岁一组的年龄构成(表 2)；另外一种是20岁一组的年龄构成(表 3)。\n\n\n\n\n表 2: 5岁年龄组的标准年龄构成\n\n\n\n\n\n\n年龄组\nICSS1\nICSS2\nICSS3\n\n\n\n\n15-19 岁\n164\n1128\n6938\n\n\n20-24 岁\n215\n2011\n11183\n\n\n25-29 岁\n416\n3745\n12964\n\n\n30-34 岁\n842\n5755\n11630\n\n\n35-39 岁\n1874\n7538\n9635\n\n\n40-44 岁\n3489\n7823\n7650\n\n\n45-49 岁\n4906\n8283\n5324\n\n\n50-54 岁\n7094\n8717\n4676\n\n\n55-59 岁\n9641\n9894\n5224\n\n\n60-64 岁\n13359\n11106\n4776\n\n\n65-69 岁\n14234\n10992\n5067\n\n\n70-74 岁\n14766\n9008\n4933\n\n\n75-79 岁\n14131\n7254\n5179\n\n\n80-84 岁\n9347\n4116\n3247\n\n\n85+ 岁\n5522\n2630\n1574\n\n\n\n\n\n\n\n\n\n\n\n\n表 3: 20岁年龄组的标准年龄构成\n\n\n\n\n\n\n年龄组\nICSS1\nICSS2\nICSS3\n\n\n\n\n15-44岁\n7000\n28000\n60000\n\n\n45-54岁\n12000\n17000\n10000\n\n\n55-64岁\n23000\n21000\n10000\n\n\n65-74岁\n29000\n20000\n10000\n\n\n75+岁\n29000\n14000\n10000\n\n\n\n\n\n\n\n\n\n\n7.3.2 不同癌种对应的标准人口构成\n不同的癌种对应了不同的标准人口构成，(表 4)列出了不同的癌种的想对应的癌种，在计算所有癌种合计的标化生存率时，应选择ICSS1。\n我们在计算不同癌种的标化相对生存率时可以参考(表 4)选择标准人口构成。\n\n\n\n\n表 4: 不同癌种对应的标准人口构成(10)\n\n\n\n\n\n\n\n\n\n\nICSS\n癌症部位\n\n\n\n\nICSS1\nLip, tongue, salivary glands, oral cavity, oropharynx, hypopharynx, head & neck, oesophagus, stomach, small intestine, colon, rectum, liver, biliary tract, pancreas, nasal cavities, larynx, lung, pleura, breast, corpus uteri, ovary, vagina & vulva, penis, bladder, kidney, choroid melanoma, non-Hodgkin lymphomas, multiple myeloma, chronic lymphatic leukaemia, acute myeloid leukaemia, chronic myeloid leukaemia, leukaemia, all cancers, prostate\n\n\nICSS2\nNasopharynx, soft tissues, melanoma, cervix uteri, brain, thyroid gland, bone\n\n\nICSS3\nTestis, Hodgkins disease, acute lymphatic leukaemia\n\n\n\n\n\n\n\n\n\n\n7.3.3 标准人口选择R程序\n我们在计算标化率时选择的标准人口是(表 3)对应的标准人口，同时也写了R程序自动选择不同癌种对应的标准人口，并把程序嵌入到(小节 7.2)对应的R函数中，这样就可以使用程序批量输出标化相对生存率的计算结果。\n程序如下：\n#生成生存分析标准人口结构\ns &lt;- c(7,12,23,29,29)\nicss1 &lt;- cbind(cancer.pop[,1:2],s)\ns=c(28,17,21,20,14)\nicss2 &lt;- cbind(icss1[,1:2],s)\ns=c(60,10,10,10,10)\nicss3 &lt;- cbind(icss1[,1:2],s)\n#根据癌种不同选择不同的标准人口结构\nicss_choose &lt;- function(x) {\n  if (x %in% c(\"鼻咽\",\"皮肤黑色素瘤\",\"子宫颈\",\"脑\",\"甲状腺\",\"骨\")) {\n    std.pop &lt;- icss2\n  } else if (x %in% c(\"睾丸\")) {\n    std.pop &lt;- icss3 \n  } else { \n    std.pop &lt;- icss1 \n  }\n  return(std.pop)\n}\n\n\n\n7.4 计数分性别不同部位的5年相对生存率\n首先，截取需要用的数据子集，然后利用tperiod函数计算不同癌种的5年相对生存率\n##合计成人5年生存率\ntotal &lt;- ana %&gt;% filter(diagage&gt;=15) \nress_total &lt;- tperiod(data=total,cat=\"icdd\")\n计算男性成人5年相对生存率\n##男性成人5年生存率\nmale &lt;- ana %&gt;% filter(sex==\"1\",diagage&gt;=15)\nress_male &lt;- tperiod(data=male,cat=\"icdd\")\n计算女性成人5年相对生存率\n##女性成人5年生存率\nfemale &lt;- ana %&gt;% filter(sex==\"2\",diagage&gt;=15)\nress_female &lt;- tperiod(data=female,cat=\"icdd\")\n\n\n7.5 组间相对生存率的统计学检验\nperiodR能够输出估计的相对生存率和标准差，其实有这两个参数可以直接推出95%可信区间，但是为了能够更直观的两组间相对生存率点估计值的统计学差异，可以对两组的相对生存率进行统计学检验。\n我们采用Z检验比较组间5年相对生存率的统计学差异（式 1），其中\\(P_1\\)表示组1的相对生存率，\\(P_2\\)表示组2的相对生存率，\\(s.e.(P_1)\\)表示\\(P_1\\)的标准误，\\(s.e.(P_2)\\)表示\\(P_2\\)的标准误癌，如果Z&gt;1.96，则P&lt;0.05；如果Z&gt;2.56，则P&lt;0.01。\n\\[\nZ=\\frac{|P_1-P_2|}{\\sqrt{s.e.(P_1)^2+s.e.(P_2)^2}}\n\\tag{1}\\]\n\n\n7.6 结果表格整理\n(小节 7.4)已经计算出了不同癌种、不同性别癌症人群的5年相对生存率，这一部分，我们将根据计算结果以及(式 1)计算男性和女性之间估计5年相对生存率的统计学差异。\noptions(NA.print = \"--\")\nress_site &lt;- ress_total %&gt;% \n  left_join(ress_male,by=c(\"cate\")) %&gt;% \n  left_join(ress_female,by=c(\"cate\")) %&gt;% \n  arrange(-rs.x) %&gt;% \n  mutate(z=round(abs(rs.y-rs)/sqrt(se.y^2+se^2),2),\n         p=ifelse(z&lt;1.96,\"&gt;0.05\",\n                  ifelse(z&lt;2.56,\"&lt;0.05\",\"&lt;0.01\"))) \n最后，我们利用kableExtra包把所有的结果输出到表格。\n  ress_site &lt;- ress_site %&gt;% \n  mutate(a=paste0(crs.x,\"(\",cse.x,\")\"),\n         b=paste0(rs.x,\"(\",se.x,\")\"),\n         c=paste0(crs.y,\"(\",cse.y,\")\"),\n         d=paste0(rs.y,\"(\",se.y,\")\"),\n         e=paste0(crs,\"(\",cse,\")\"),\n         f=paste0(rs,\"(\",se,\")\")) %&gt;% \n  select(cate,a,b,c,d,e,f,z,p) %&gt;% \n  mutate(across(a:f, ~ ifelse(. == \"NA(NA)\", \"--\", .))) %&gt;% \n  kbl(col.names = c(\"部位\",rep(c(\"CRS\",\"ARS\"),3),\"Z\",\"P\"),align = \"c\") %&gt;% \n  kable_classic(full_width = T, html_font = \"Cambria\") %&gt;% \n  add_header_above(c(\" \" = 1, \"合计\" = 2, \"男性\" = 2, \"女性\" = 2, \" \"=2),\n                   bold = T,border_left = T) %&gt;%\n  row_spec(0,1,bold=T,italic=T) %&gt;% \n  footnote(general = \"结果以5年相对生存率(标准误)的形式展示. CRS: 5年相对生存率. ARS: 年龄调整5年相对生存率.\",\n           general_title = \"注:\",footnote_as_chunk = TRUE,escape = FALSE)\n\n\n\n\n表 5: 15岁以上不同性别、不同部位癌症患者5年相对生存率\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n合计\n\n\n男性\n\n\n女性\n\n\n\n\n部位\nCRS\nARS\nCRS\nARS\nCRS\nARS\nZ\nP\n\n\n\n\n甲状腺\n91.8(0.6)\n86.4(1.2)\n87.8(1.6)\n83.4(2.3)\n92.9(0.6)\n87.3(1.4)\n1.45\n&gt;0.05\n\n\n睾丸\n72.8(5.4)\n74.4(4.9)\n72.8(5.4)\n74.4(4.9)\n--\n--\nNA\nNA\n\n\n乳房\n79.7(0.4)\n73.1(1)\n--\n--\n79.7(0.4)\n73.1(1)\nNA\nNA\n\n\n子宫颈\n72.4(0.7)\n68.3(0.8)\n--\n--\n72.4(0.7)\n68.3(0.8)\nNA\nNA\n\n\n皮肤黑色素瘤\n68.4(4.5)\n67.6(4.5)\n64.9(6.3)\n63.7(6.2)\n72.4(6.3)\n72.2(6)\n0.99\n&gt;0.05\n\n\n膀胱\n66.1(1.4)\n66.2(1.4)\n68.5(1.7)\n68.7(1.6)\n58.5(2.7)\n58.7(2.6)\n3.28\n&lt;0.01\n\n\n子宫体\n79.5(0.8)\n64.2(1.8)\n--\n--\n79.5(0.8)\n64.2(1.8)\nNA\nNA\n\n\n口腔\n63.4(1.5)\n60.2(1.7)\n58.2(2)\n55.3(2.3)\n70.3(2.1)\n66.7(2.6)\n3.28\n&lt;0.01\n\n\n肾\n64.8(1.4)\n60.2(1.7)\n61.1(1.9)\n56.5(2.3)\n70.2(2)\n66(2.5)\n2.80\n&lt;0.01\n\n\n鼻咽\n59.2(2.3)\n59.2(2.3)\n57.5(2.8)\n57.5(3)\n62.2(3.7)\n62.7(3.7)\n1.09\n&gt;0.05\n\n\n结直肠\n58.5(0.6)\n56.9(0.6)\n58.5(0.8)\n57(0.9)\n58.5(0.8)\n56.8(0.9)\n0.16\n&gt;0.05\n\n\n其他\n58.3(0.8)\n55.1(0.9)\n53.9(1.1)\n51.7(1.3)\n62.7(1.1)\n58.2(1.3)\n3.54\n&lt;0.01\n\n\n前列腺\n58.7(2.1)\n55.1(2.7)\n58.7(2.1)\n55.1(2.7)\n--\n--\nNA\nNA\n\n\n骨\n50.5(1.6)\n51.4(1.5)\n49.3(2.2)\n50.1(2.1)\n51.9(2.4)\n53.1(2.3)\n0.96\n&gt;0.05\n\n\n其他胸腔器官\n54.4(2.8)\n51.1(3.3)\n48.5(3.7)\n42.6(4.1)\n61.7(4.1)\n62.8(4.7)\n3.24\n&lt;0.01\n\n\n喉\n52.4(2.2)\n49.8(2.4)\n53.7(2.5)\n50.5(2.6)\n46.2(5.4)\n42.4(5.6)\n1.31\n&gt;0.05\n\n\n卵巢\n57.7(1.3)\n47.5(1.8)\n--\n--\n57.7(1.3)\n47.5(1.8)\nNA\nNA\n\n\n脑\n45.7(0.9)\n45.8(0.9)\n38(1.2)\n38.3(1.2)\n53.1(1.2)\n53.2(1.2)\n8.78\n&lt;0.01\n\n\n淋巴瘤\n47.2(1.2)\n43.1(1.4)\n47.1(1.7)\n43.1(1.9)\n47.4(1.8)\n43.1(1.9)\n0.00\n&gt;0.05\n\n\n白血病\n44.4(1.1)\n41.6(1.3)\n43.4(1.4)\n42.3(1.8)\n45.7(1.6)\n40.5(2)\n0.67\n&gt;0.05\n\n\n合计\n44.2(0.1)\n40.7(0.2)\n35.2(0.2)\n34.4(0.2)\n54(0.2)\n47.1(0.2)\n44.90\n&lt;0.01\n\n\n食管\n36.7(0.4)\n36.9(0.4)\n35.9(0.5)\n35.6(0.5)\n37.9(0.6)\n39(0.6)\n4.35\n&lt;0.01\n\n\n胃\n34.3(0.4)\n33.5(0.4)\n34.2(0.4)\n33.2(0.5)\n34.7(0.7)\n34.4(0.7)\n1.39\n&gt;0.05\n\n\n胆囊\n27.5(1.1)\n28(1.2)\n25.4(1.7)\n25.6(1.7)\n29(1.5)\n29.6(1.6)\n1.71\n&gt;0.05\n\n\n肺\n24.1(0.3)\n24.3(0.3)\n22.2(0.4)\n22.5(0.4)\n28.1(0.6)\n27.8(0.6)\n7.35\n&lt;0.01\n\n\n胰腺\n20.8(0.9)\n20.5(0.9)\n18.7(1.2)\n18.1(1.2)\n23.4(1.5)\n23.2(1.5)\n2.65\n&lt;0.01\n\n\n肝\n19.9(0.4)\n19.1(0.4)\n19.9(0.5)\n19.1(0.5)\n20(0.7)\n19.7(0.7)\n0.70\n&gt;0.05\n\n\n\n注:  结果以5年相对生存率(标准误)的形式展示. CRS: 5年相对生存率. ARS: 年龄调整5年相对生存率."
  },
  {
    "objectID": "qsight/2023-04-09-relativesurvival/index.html#参考文献",
    "href": "qsight/2023-04-09-relativesurvival/index.html#参考文献",
    "title": "基于”periodR”包利用现时生存分析法计算人群癌症5年相对生存率",
    "section": "参考文献",
    "text": "参考文献\n\n\n1. 李卓颖, 蒋宇飞, 谭玉婷, 等. 现时法统计模型在全人群肿瘤登记生存分析中的应用. 复旦学报(医学版). 2021年;48(3): 376-382+397+383-387. \n\n\n2. 张华, 曹志刚, 柳光宇, 等. 队列法、完全法和现时生存分析方法在乳腺癌随访研究中的应用. 肿瘤. 2014年;34(6): 550–556. \n\n\n3. Brenner H, Söderman B, Hakulinen T. Use of Period Analysis for Providing More Up-to-Date Estimates of Long-Term Survival Rates: Empirical Evaluation among 370 000 Cancer Patients in Finland. International Journal of Epidemiology. 2002年;31(2): 456–462. https://doi.org/10.1093/ije/31.2.456.\n\n\n4. Brenner H, Gefeller O, Hakulinen T. Period Analysis for 《up-to-Date》 Cancer Survival Data. European Journal of Cancer. 2004年;40(3): 326–335. https://doi.org/10.1016/j.ejca.2003.10.013.\n\n\n5. Holleczek B, Brenner H. Model Based Period Analysis of Absolute and Relative Survival with R: Data Preparation, Model Fitting and Derivation of Survival Estimates. Comput Methods Programs Biomed. 2013年;110(2): 192–202. https://doi.org/10.1016/j.cmpb.2012.10.004.\n\n\n6. Jansen L, Hakulinen T, Brenner H. Study Populations for Period Analyses of Cancer Survival. Br J Cancer. 2013年;108(3): 699–707. https://doi.org/10.1038/bjc.2013.14.\n\n\n7. 张华, 曹志刚, 莫淼, 等. 肿瘤监测数据的生存分析方法比较. 中国卫生统计. 2016年;33(5): 908–913. \n\n\n8. Holleczek B, Gondos A, Brenner H. periodR - an R Package to Calculate Long-Term Cancer Survival Estimates Using Period Analysis. Methods Inf Med. 2009年;48(2): 123–128. https://doi.org/10.3414/ME0563.\n\n\n9. Ellison LF. An Empirical Evaluation of Period Survival Analysis Using Data from the Canadian Cancer Registry. Annals of Epidemiology. 2006年;16(3): 191–196. https://doi.org/10.1016/j.annepidem.2005.02.017.\n\n\n10. Corazziari I, Quinn M, Capocaccia R. Standard Cancer Patient Population for Age Standardising Survival Ratios. European Journal of Cancer. 2004年;40(15): 2307–2316. https://doi.org/10.1016/j.ejca.2004.07.002."
  },
  {
    "objectID": "qsight/2021-04-19-发布年报/index.html",
    "href": "qsight/2021-04-19-发布年报/index.html",
    "title": "河南省”线上+线下”重磅发布《2020河南省肿瘤登记年报》",
    "section": "",
    "text": "4.15肿瘤防治宣传周期间，河南省癌症中心/河南省肿瘤医院线上线下重磅发布《2020河南省肿瘤登记年报》，年报图文并茂，内容详实，线下由河南科学技术出版社正式出版，线上为Gitbook格式电子书籍，2020肿瘤登记年报系统描述了河南省肿瘤登记地区癌症发病和死亡等癌症疾病负担情况，为河南省癌症防控提供了基础数据。\n\n0.1 肿瘤登记年报有何用途？\n发布肿瘤登记年报在于共享和传播恶性肿瘤的发病、死亡和生存状况等信息，为肿瘤病因研究提供依据，为制定卫生工作规划和肿瘤防治计划、评价和考核肿瘤防治效果提供基础数据。2020河南省肿瘤登记年报系统描述了河南省癌症总体的发病、死亡情况以及各主要癌种的发病死亡情况以及年龄分布、性别分布、地区分布等流行病学情况，为肿瘤防治专业人员的肿瘤防治工作提供参考依据，同时，也能让普通大众增加对癌症的了解。\n\n\n0.2 河南省最新的癌症疾病负担如何？\n2020肿瘤登记年报显示，2017年河南省肿瘤登记地区恶性肿瘤发病率为264.00/10万，位居恶性肿瘤发病第1位的癌种是肺癌，其次为乳腺癌、胃癌、食管癌、肝癌，子宫颈癌、结直肠癌、子宫体癌、甲状腺癌和卵巢癌，前10位恶性肿瘤发病例数占全部恶性肿瘤发病的80.36 %。2017年河南省肿瘤登记地区恶性肿瘤死亡率为166.23/10万，位居恶性肿瘤死亡第1位的癌种是肺癌，其次为胃癌、肝癌、食管癌、乳腺癌、结直肠癌、子宫颈癌、脑癌、胰腺癌和卵巢癌，前10位恶性肿瘤死亡病例数占全部恶性肿瘤死亡的85.53 %。河南省恶性肿瘤防控形式严峻，肺癌、上消化癌、乳腺癌和结直肠癌是威胁人群健康的主要癌种， 因此，需要根据恶性肿瘤流行特点，加大防控力度，以减轻恶性肿瘤疾病负担。\n\n\n0.3 河南省肿瘤登记工作的历史是怎样的？\n河南省肿瘤登记工作起始于1959年的林州市（原林县），当时林县建立了食管癌、贲门癌发病死亡登记制度，是全国第一个农村肿瘤登记处。 随着“健康中国2030”的不断推进，肿瘤登记监测数据的重要性日益凸显，河南省肿瘤登记工作也得到迅速发展，到2020年12月31日为止，河南省已有70个市县建立了肿瘤登记处，开展以人群为基础的肿瘤登记工作，覆盖全省近50%的人口，初步形成了反映河南省城乡居民恶性肿瘤发病与死亡基本信息的肿瘤随访登记系统。自2013年起，河南省癌症中心/河南省肿瘤医院每年以年报的形式及时发布河南省肿瘤登记监测数据，《河南省肿瘤登记年报》成为河南省癌症预防控制的重要资料，也是河南省肿瘤登记监测工作的标志性成果之一。\n\n\n0.4 2020肿瘤登记年报有什么创新吗？\n《2020河南省肿瘤登记年报》进行了全新的改版，在以下几个方面进行了创新，首先是内容创新，2020年报内容更加丰富，统计制图全部进行了优化，更为统一和美观，可读性更强；其次是展示方式创新，2020年报采用传统纸制年报和线上年报的方式进行数据共享和发布，传统年报由河南科学技术出版社出版，线上年报充分利用互联网的优势，采用Gitbook格式进行制作，更利于肿瘤登记监测数据的分享和利用；最后是传播途径创新，2020年报在国内首次线上形式发布肿瘤登记数据，便利了肿瘤防控专业人员以及大众及时了解河南省癌症流行情况。\n &lt;img src=“/images/cover/2020.jpg” alt=“2020河南省肿瘤登记年报”,width=“240” height=“300” border=“0” style=“border:1px solid gray”/&gt;\n\n\n0.5 2020肿瘤登记年报数据质量怎么样？\n2020肿瘤登记年报专家组和编委会在数据稳定性、完整性、有效性等方面对2017年肿瘤登记年报数据质量进行了全面的评价，同时，年报也邀请国内领域内专家进行评价和审核，《2020河南省肿瘤登记年报》反映了河南省癌症发病死亡情况，为肿瘤防治提供了科学性的基础数据。 除此之外，在日常的工作开展中也通过多种途径提高肿瘤随访登记工作质量，首先，积极开展培训工作，提高专业人员能力，每年召开全省肿瘤随访登记工作会议，旨在提高专业人员能力，促进肿瘤登记工作进展。第二，不断完善网络直报相关软件系统，自2016年起，河南省实现了肿瘤随访登记工作的网络直报，促进了肿瘤数据收集的时效性和数据质量的提高；同时，为了进一步提高肿瘤随访登记数据质量，我们致力于肿瘤随访登记质量控制的可视化工作，开发相关软件系统 ，可以直观的展示各登记处肿瘤登记数据质量以及数据质量的年度变化情况，从而实现多维度进行肿瘤随访登记数据的质量控制。 第三，常态化质量控制工作，定期组织肿瘤随访登记专家对肿瘤登记处开展数据质量督导工作,及时发现工作存在的问题，并予以解决。\n通过开展扎实的工作，河南省肿瘤登记数据质量得到国内和国际认可，被《中国肿瘤登记年报》收录的登记处的数量也是逐年增多。 此外，河南省部分登记处2008-2012年数据被世界卫生组织出版物《五大洲发病率》收录。\n\n\n0.6 如何引用本书数据？\n如果您需要引用本书中相关数据，请按照以下格式进行引用：\n[1]张建功，张韶凯. 2020河南省肿瘤登记年报[M]. 郑州: 河南科学技术出版社,2021.  \n\n\n\n\n\n\n  \n    \n  \n  \n    陈 琼\n       博士 \n       副主任医师 \n    他从事肿瘤登记与人群流行病学研究，编写肿瘤登记年报，并开发和维护个人网站。他撰写博文，分享数据分析方法、可视化技巧和自动化报告解决方案，同时学习 R 语言，开发 R 包，不断探索高效的数据处理与展示方式。 🚀\n    \n      \n        \n      \n      \n        \n      \n      \n        \n      \n    \n  \n\n 回到顶部"
  },
  {
    "objectID": "qsight/2022-02-21-ggplot2/index.html",
    "href": "qsight/2022-02-21-ggplot2/index.html",
    "title": "利用ggplot2制作金字塔图，展示人口结构数据",
    "section": "",
    "text": "人口金字塔是用类似古埃及金字塔的形象描绘人口年龄和性别分布状况的图形。能表明人口现状及其发展类型，比如看一个地区或国家的人口结构类型是扩展型、稳定型或者收缩型。\n图形的画法是：按男女人口年龄自然顺序自下而上在纵轴左右画成并列的横条柱，各条柱代表各个年龄组。底端标有按一定计算单位或百分比表示的人口数量。\n下面我们介绍一下如何利用R画出人口金字塔图。"
  },
  {
    "objectID": "qsight/2022-02-21-ggplot2/index.html#什么是人口金字塔图",
    "href": "qsight/2022-02-21-ggplot2/index.html#什么是人口金字塔图",
    "title": "利用ggplot2制作金字塔图，展示人口结构数据",
    "section": "",
    "text": "人口金字塔是用类似古埃及金字塔的形象描绘人口年龄和性别分布状况的图形。能表明人口现状及其发展类型，比如看一个地区或国家的人口结构类型是扩展型、稳定型或者收缩型。\n图形的画法是：按男女人口年龄自然顺序自下而上在纵轴左右画成并列的横条柱，各条柱代表各个年龄组。底端标有按一定计算单位或百分比表示的人口数量。\n下面我们介绍一下如何利用R画出人口金字塔图。"
  },
  {
    "objectID": "qsight/2022-02-21-ggplot2/index.html#用到哪些r包",
    "href": "qsight/2022-02-21-ggplot2/index.html#用到哪些r包",
    "title": "利用ggplot2制作金字塔图，展示人口结构数据",
    "section": "2 用到哪些R包？",
    "text": "2 用到哪些R包？\n今天主要用到 dplyr包、reshape2包、ggplot2包和cowplot包。 dplyr包和reshape2包用来进行数据整理，ggplot2包和cowplot包用来画图和整合。"
  },
  {
    "objectID": "qsight/2022-02-21-ggplot2/index.html#加载这些r包",
    "href": "qsight/2022-02-21-ggplot2/index.html#加载这些r包",
    "title": "利用ggplot2制作金字塔图，展示人口结构数据",
    "section": "3 加载这些R包",
    "text": "3 加载这些R包\n\nlibrary(dplyr)\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\nlibrary(reshape2)\nlibrary(ggplot2)\nlibrary(cowplot)"
  },
  {
    "objectID": "qsight/2022-02-21-ggplot2/index.html#数据处理",
    "href": "qsight/2022-02-21-ggplot2/index.html#数据处理",
    "title": "利用ggplot2制作金字塔图，展示人口结构数据",
    "section": "4 数据处理",
    "text": "4 数据处理\n首先需要把我们手里的现有数据读取到R工作环境，然后把数据调整为ggplot2包绘图所需要的格式。\n我们看一下，我们目前的数据结构和变量基本信息吧，目前我们有一个数据框，数据框里有20列数据，第一列为性别(sex),其余分别为0，1，4~，…，85+岁组各年龄组的人口数据。\n\npop  &lt;- read.csv(\"pop.csv\")\n\nWarning in read.table(file = file, header = header, sep = sep, quote = quote, :\nincomplete final line found by readTableHeader on 'pop.csv'\n\npop &lt;- pop %&gt;%\n  #把合计人口数去掉只保留男性和女性人口\n  filter(sex %in% c(\"男性\",\"女性\"))\nhead(pop)\n\n   sex     r0     r1      r5     r10     r15     r20     r25     r30     r35\n1 男性 193565 924420 1186130 1158427 1130776 1254271 1426065 1291455 1279639\n2 女性 176068 821772 1038768  991518 1002524 1162174 1365563 1235362 1208151\n      r40     r45     r50    r55    r60    r65    r70    r75    r80    r85\n1 1322747 1338809 1145094 941395 812746 622679 440440 300147 183825 102596\n2 1261624 1292094 1101333 918208 801106 635924 467743 342476 228937 164663\n\n\n但是，ggplot2绘图需要读取纵向格式的数据，也就是说我们需要把目前的数据格式转换成两列，一列为性别，另一列为人口数。因此，我们需要把目前的数据转换成纵向结构数据。\nreshape2包的melt函数可以把横向数据转换为纵向数据，id.vars参数指定保留的变量名称，其余的变量都转职置为纵向结构，转换为两列，一列存放变量名，一列存放变量值。variable.name指定存放变量名的那一列的变量名，value.name指定存放变量值的那一列的变量名。\n\n# 对横向数据进行转置，然后存入pop数据框\npop &lt;- pop %&gt;%\n# reshape2包的melt函数转置横向数据\n  melt(id.vars=c(\"sex\"),\n       variable.name=\"age\",\n       value.name = \"pop\")\n\n现在来看看转置后的数据吧\n\nhead(pop)\n\n   sex age     pop\n1 男性  r0  193565\n2 女性  r0  176068\n3 男性  r1  924420\n4 女性  r1  821772\n5 男性  r5 1186130\n6 女性  r5 1038768\n\n\n然后把目前pop数据框的age变量值进行转换，因为它的值就是人口金字塔中显示的年龄组的值。\n\npop&lt;-pop%&gt;%\n  mutate(age=as.numeric(gsub(\"r\",\"\",age)),\n         pop=ifelse(sex==\"男性\",-pop,pop))\n\n绘制人口金字塔的时候，横条的长度采用跟年龄组人口数占相应人口的百分比来表示，因此计算人口百分比数据。\n\nage_label&lt;- c(\"0\",\"1-4\",\"5-9\",\"10-14\",\"15-19\",\"20-24\",\"25-29\",\"30-34\",\"35-39\",\"40-44\",\"45-49\",\"50-54\",\"55-59\",\"60-64\",\"65-69\",\"70-74\",\"75-79\",\"80-84\",\"85-\")\npop &lt;- pop%&gt;%\n  group_by(sex)%&gt;%\n  mutate(pop_rate=pop/sum(pop)*100)%&gt;%\n  mutate(pop_rate=ifelse(sex==\"男性\",-pop_rate,pop_rate))\n\n然后把人口数据拆分成男性和女性两个数据框，并把这个两个数据框存入列表ct\n\nct &lt;- pop%&gt;%group_by(sex)%&gt;%group_split()\nct\n\n&lt;list_of&lt;\n  tbl_df&lt;\n    sex     : character\n    age     : double\n    pop     : integer\n    pop_rate: double\n  &gt;\n&gt;[2]&gt;\n[[1]]\n# A tibble: 19 × 4\n   sex     age     pop pop_rate\n   &lt;chr&gt; &lt;dbl&gt;   &lt;int&gt;    &lt;dbl&gt;\n 1 女性      0  176068     1.09\n 2 女性      1  821772     5.07\n 3 女性      5 1038768     6.41\n 4 女性     10  991518     6.11\n 5 女性     15 1002524     6.18\n 6 女性     20 1162174     7.17\n 7 女性     25 1365563     8.42\n 8 女性     30 1235362     7.62\n 9 女性     35 1208151     7.45\n10 女性     40 1261624     7.78\n11 女性     45 1292094     7.97\n12 女性     50 1101333     6.79\n13 女性     55  918208     5.66\n14 女性     60  801106     4.94\n15 女性     65  635924     3.92\n16 女性     70  467743     2.88\n17 女性     75  342476     2.11\n18 女性     80  228937     1.41\n19 女性     85  164663     1.02\n\n[[2]]\n# A tibble: 19 × 4\n   sex     age      pop pop_rate\n   &lt;chr&gt; &lt;dbl&gt;    &lt;int&gt;    &lt;dbl&gt;\n 1 男性      0  -193565   -1.13 \n 2 男性      1  -924420   -5.42 \n 3 男性      5 -1186130   -6.95 \n 4 男性     10 -1158427   -6.79 \n 5 男性     15 -1130776   -6.63 \n 6 男性     20 -1254271   -7.35 \n 7 男性     25 -1426065   -8.36 \n 8 男性     30 -1291455   -7.57 \n 9 男性     35 -1279639   -7.50 \n10 男性     40 -1322747   -7.76 \n11 男性     45 -1338809   -7.85 \n12 男性     50 -1145094   -6.71 \n13 男性     55  -941395   -5.52 \n14 男性     60  -812746   -4.77 \n15 男性     65  -622679   -3.65 \n16 男性     70  -440440   -2.58 \n17 男性     75  -300147   -1.76 \n18 男性     80  -183825   -1.08 \n19 男性     85  -102596   -0.602\n\n\n为了使用方便，我们编制一个函数，并利用lapply函数把ct列表放入进去，这样就可以自动生成横向条形图。"
  },
  {
    "objectID": "qsight/2022-02-21-ggplot2/index.html#制作金字塔图的思路",
    "href": "qsight/2022-02-21-ggplot2/index.html#制作金字塔图的思路",
    "title": "利用ggplot2制作金字塔图，展示人口结构数据",
    "section": "5 制作金字塔图的思路",
    "text": "5 制作金字塔图的思路\n我们先编写一个函数，实现对列表数据进行处理，判断如果是男性数据的话则生成左侧横向条形图，如果是女性数据的话则生成右侧横向条形图，然后把利用cowplot把左侧条形图和右侧条形图组成一个金字塔图。\n上程序：\n\n# top_value &lt;-  max(abs(pop$pop_rate)) \np&lt;- lapply(ct,function(x) {\n  sexx &lt;- x[1,c(\"sex\")]\n  abslabel &lt;- function(x) {paste(abs(x),\"%\",sep=\"\")}\n  mycolor &lt;- ifelse(sexx==\"男性\",paste(\"steelblue\"),paste(\"red\"))\n  pp&lt;-ggplot(x) + \n    geom_bar(aes(x=pop_rate,y=factor(age,labels=age_label)), stat = \"identity\",color=\"white\",width=0.9,fill=ifelse(x$pop_rate&gt;0,'#e31a1c','#1f78b4'))+\n    scale_x_continuous(expand = expansion(),limits=c(0,9.9),labels=abslabel)+\n    xlab(ifelse(sexx==\"男性\",\"男性\",\"女性\"))+\n    theme_void()+\n    theme(\n      axis.title.y = element_blank(),\n      panel.border = element_blank(),\n      panel.grid=element_blank(),\n      panel.grid.major =element_blank(),\n      axis.ticks.y = element_blank(),\n      axis.line.y=element_blank(),\n      axis.text.x = element_text(face=\"bold\"),\n      axis.text.y =element_text(size=12),\n      axis.title.x=element_text(size=12)\n    )\n  if (sexx==\"男性\"){ pp&lt;- pp+ theme(axis.text.y =element_blank())+scale_x_continuous(expand = expansion(),limits=c(-9.9,0),labels=abslabel)\n  }\n  return(pp)\n})\n\nScale for x is already present.\nAdding another scale for x, which will replace the existing scale.\n\n\n上面的程序有已经把生成的左侧和右侧条形图放入列表p，下面把列表的第一个元素和第二个元素利用cowplot组合起来就是一个金字塔图了。\n\n# 利用plot_grid来组合p列表元素，进行横向拼接，存入pyramid\npyramid &lt;- plot_grid(p[[1]],p[[2]],ncol=2,align=\"hv\")\n\n我们来看看最终的金字塔图的吧。\n\npyramid"
  },
  {
    "objectID": "qsight/2022-02-21-ggplot2/index.html#小结",
    "href": "qsight/2022-02-21-ggplot2/index.html#小结",
    "title": "利用ggplot2制作金字塔图，展示人口结构数据",
    "section": "6 小结",
    "text": "6 小结\n本篇文章介绍了如何利用R语言制作人口金字塔图，利用本程序的思路，稍微修改，可以批量制作金字塔图。\n如果你对本篇文章有任何建议，请在页面进行评论吧！"
  },
  {
    "objectID": "qsight/2024-4-19-jingxian/index.html",
    "href": "qsight/2024-4-19-jingxian/index.html",
    "title": "安徽泾县行",
    "section": "",
    "text": "李白乘舟将欲行，忽闻岸上踏歌声。桃花潭水深千尺，不及汪伦送我情。\n  \n\n\n\n\n\n前几天有幸收到邀请来到安徽泾县分享肿瘤登记的质量控制和自动化报告。刚听到泾县时，对这里是没有概念的，在高铁上闲时对这个地方进行了初步的了解。泾县是个美丽的地方，有著名的桃花潭，李白曾在这里留下“桃花潭水深千尺，不及汪伦送我情。”的著名诗句。皖南事变也曾经发生在这片山区，国共合作抗日从这里开始彻底决裂。当我初下高铁，发现这里的空气很清新，从站台上望向远处的群山被云雾缭绕的水汽环绕，就像一副水墨山水画，很美的一个地方。\n在来时的高铁上，我从泾县政府的官网上找到了他们的宣传片，下面是其中的几张，是不是很漂亮。\n\n\n\n\n\n\n\n\n\n\n\n\n\n由于时间紧张，我没有机会去这些地方看一看，会议结束之后，当天下午我就又乘坐高铁匆匆离开了。但是这个地方在我心里埋下了一个种子，以后我一定要带着媳妇和孩子来这个地方游玩。\n\n\n\n\n\n  \n    \n  \n  \n    陈 琼\n       博士 \n       副主任医师 \n    他从事肿瘤登记与人群流行病学研究，编写肿瘤登记年报，并开发和维护个人网站。他撰写博文，分享数据分析方法、可视化技巧和自动化报告解决方案，同时学习 R 语言，开发 R 包，不断探索高效的数据处理与展示方式。 🚀\n    \n      \n        \n      \n      \n        \n      \n      \n        \n      \n    \n  \n\n 回到顶部"
  },
  {
    "objectID": "qsight/2022-04-05-2021annualreport/index.html",
    "href": "qsight/2022-04-05-2021annualreport/index.html",
    "title": "河南省癌症中心/河南省肿瘤医院发布《2021河南省肿瘤登记年报》",
    "section": "",
    "text": "河南肿瘤登记年报\n癌症是威胁河南省居民健康的一大类疾病，2022年4月，河南省癌症中心/河南省肿瘤医院重磅发布了《2021河南省肿瘤登记年报》（以下简称《年报》）。\n《年报》利用2018年肿瘤登记数据描述了河南省登记地区恶性肿瘤发病死亡情况，它的发布可以为肿瘤病因学研究、制定卫生工作规划和肿瘤防治计划、评价和考核肿瘤防治效果等工作提供基础数据。\n《年报》使用河南省39个合格肿瘤登记处的数据分析了2018年河南省登记地区的恶性肿瘤负担。数据显示，2018年，河南省肿瘤登记地区恶性肿瘤新发90609例，发病率为272.33/10万；恶性肿瘤死亡53592例，死亡率为162.16/10万。城乡分析结果显示，城市地区的恶性肿瘤发病率高于农村地区，而死亡率则为农村地区高于城市地区。"
  },
  {
    "objectID": "qsight/2022-04-05-2021annualreport/index.html#河南省恶性肿瘤发病死亡特征",
    "href": "qsight/2022-04-05-2021annualreport/index.html#河南省恶性肿瘤发病死亡特征",
    "title": "河南省癌症中心/河南省肿瘤医院发布《2021河南省肿瘤登记年报》",
    "section": "1 河南省恶性肿瘤发病死亡特征",
    "text": "1 河南省恶性肿瘤发病死亡特征\n肺癌是男性最常见的恶性肿瘤，占男性全部诊断恶性肿瘤病例的25.18%；乳腺癌则位居女性恶性肿瘤发病的第一位，占全部女性肿瘤病例的17.01%；不管是男性还是女性，肺癌均位居全部恶性肿瘤死亡的第一位。发病前10位的恶性肿瘤分别为肺癌、乳腺癌、胃癌、食管癌、肝癌、子宫颈癌、结直肠癌、甲状腺癌、子宫体癌和卵巢癌，占全部恶性肿瘤发病数的78.60%。\n\n\n\n\n\n\n\n\n\n癌症总体发病率和死亡率均随着年龄的增加而升高，均在85岁以上的年龄组中达到峰值。但是不同的癌种具有不同的年龄分布模式，比如肺癌在40岁之前发病率相对平稳而之后则快速上升；前列腺癌则从60岁开始快速上升；乳腺癌、宫颈癌、甲状腺癌的发病高峰则在50岁左右等。\n\n\n\n\n\n\n\n\n\n在前10位恶性肿瘤发病中，消化系统肿瘤仍然占据主要地位，胃癌、食管癌、肝癌和结直肠癌等消化系统肿瘤病例占全部恶性肿瘤病例的39.68%，是影响河南省居民健康的主要肿瘤类型。"
  },
  {
    "objectID": "qsight/2022-04-05-2021annualreport/index.html#提高年报覆盖人口比例提升数据全省代表性",
    "href": "qsight/2022-04-05-2021annualreport/index.html#提高年报覆盖人口比例提升数据全省代表性",
    "title": "河南省癌症中心/河南省肿瘤医院发布《2021河南省肿瘤登记年报》",
    "section": "2 提高《年报》覆盖人口比例，提升数据全省代表性",
    "text": "2 提高《年报》覆盖人口比例，提升数据全省代表性\n\n\n\n河南省肿瘤登记处分布地图\n\n\n河南省于1959年在林州市（原林县）建立第一个肿瘤登记处，开始进行食管癌的单病种登记工作，拉开了河南省肿瘤登记工作的序幕。之后，一些县区陆陆续续在全死因登记的基础上建立肿瘤登记处。2008年以后，中央转移支付地方项目对肿瘤登记工作进行经费支持，河南省肿瘤登记工作进入迅速发展期，肿瘤登记登记处的数量和数据质量都得到较大的提高。截至2021年底，河南省肿瘤登记地区覆盖全省人口的比例达到70%，形成了反映河南省城乡居民恶性肿瘤发病与死亡基本信息的肿瘤随访登记系统。自2013年起，河南省癌症中心/河南省肿瘤医院每年以年报的形式及时发布河南省肿瘤登记监测数据，《河南省肿瘤登记年报》成为河南省癌症预防控制的重要资料，也是河南省肿瘤登记监测工作的标志性成果之一。\n由于肿瘤登记工作存在3年的滞后性，2021年《年报》收录了39个肿瘤登记处的2018年肿瘤发病死亡数据，覆盖人口3300万人，约占河南省2018年人口总数的30.51%。"
  },
  {
    "objectID": "qsight/2022-04-05-2021annualreport/index.html#多渠道开展质控工作稳步提升数据质量",
    "href": "qsight/2022-04-05-2021annualreport/index.html#多渠道开展质控工作稳步提升数据质量",
    "title": "河南省癌症中心/河南省肿瘤医院发布《2021河南省肿瘤登记年报》",
    "section": "3 多渠道开展质控工作，稳步提升数据质量",
    "text": "3 多渠道开展质控工作，稳步提升数据质量\n河南省肿瘤医院作为省级肿瘤登记处，积极组织全省各县区肿瘤登记专业人员开展业务培训，开发质量控制工具，开展线上质控等多途径开展质控工作，河南省肿瘤医院作为省级肿瘤登记处荣获“省级单位杰出贡献奖”。在全省肿瘤登记专业人员的共同努力下，河南省各县区肿瘤登记处的数据质量得到不断的提升，也得到国家癌症中心的认可。2021年共有28个县区肿瘤登记处荣获国家癌症中心奖励，其中，1个登记处荣获“肿瘤登记工作杰出贡献奖”，16个肿瘤登记处荣获“肿瘤登记工作优秀奖”，11个登记处荣获“肿瘤登记工作进步奖”。"
  },
  {
    "objectID": "qsight/2022-04-05-2021annualreport/index.html#创新年报形式促进数据共享利用",
    "href": "qsight/2022-04-05-2021annualreport/index.html#创新年报形式促进数据共享利用",
    "title": "河南省癌症中心/河南省肿瘤医院发布《2021河南省肿瘤登记年报》",
    "section": "4 创新《年报》形式，促进数据共享利用",
    "text": "4 创新《年报》形式，促进数据共享利用\n为了能让癌症防治专业人员和普通大众更方便、快捷的了解河南省癌症疾病负担情况，在出版纸质年报之外，我们也制作了线上《年报》，在内容展示方式以及获取途径上进行了创新，从而促进大家更方便的利用《年报》数据。大家可以通过手机扫描二维码在手机端查看年报，也可以通过电脑端输入网址：https://chenq.site/report/2021/进行查看。"
  },
  {
    "objectID": "qsight/2022-04-05-2021annualreport/index.html#积极建设全省癌症防治网络降低癌症疾病负担",
    "href": "qsight/2022-04-05-2021annualreport/index.html#积极建设全省癌症防治网络降低癌症疾病负担",
    "title": "河南省癌症中心/河南省肿瘤医院发布《2021河南省肿瘤登记年报》",
    "section": "5 积极建设全省癌症防治网络，降低癌症疾病负担",
    "text": "5 积极建设全省癌症防治网络，降低癌症疾病负担\n为了应对居高不下的癌症负担，河南省肿瘤医院/河南省癌症中心积极响应“健康中国行动-癌症防治行动”的要求，实施癌症信息化行动，健全肿瘤登记制度，提高肿瘤登记覆盖范围，提升肿瘤登记数据质量，促进信息资源共享利用；实施早诊早治推广行动，在城市和农村地区开展相应高发癌种的筛查早诊早治，提高癌症患者生存率；实施癌症诊疗规范化行动，提升管理服务水平；与此同时，也正积极推进全省的癌症防治网络建设工作，促进癌症防控工作系统化、标准化、信息化和常态化，以降低癌症疾病负担，提高癌症患者生存率。"
  },
  {
    "objectID": "qsight/2010-06-02-SAS-start/index.html",
    "href": "qsight/2010-06-02-SAS-start/index.html",
    "title": "给SAS开块地",
    "section": "",
    "text": "最近闲来无事之时以自学SAS软件来打发些时间，由于院里没有SAS这门课，无人可以相问，本人也没有计算机语言方面的基础，所以刚开始学起来还是很费劲的，只能是自己一点一点的摸索，一步程序一步程序的调试。不过这么些日子的功夫也算没有白费，总归可以说是上道儿了吧。由于SAS系统很是庞大，有很多模块，呵呵，本人才低学浅，不晓得有什么功能，只是拿来对自己有用的学习啦！\n今天在这里专门辟了一小块地“SAS学习心得”来记录一下自己的SAS学习经历。既可以复习下所学过的知识，也算是做个备忘录吧，不定哪天用的着的时候，可以拿来用。同时也欢迎各位老师们批评指正。\n\n\n\n\n\n  \n    \n  \n  \n    陈 琼\n       博士 \n       副主任医师 \n    他从事肿瘤登记与人群流行病学研究，编写肿瘤登记年报，并开发和维护个人网站。他撰写博文，分享数据分析方法、可视化技巧和自动化报告解决方案，同时学习 R 语言，开发 R 包，不断探索高效的数据处理与展示方式。 🚀\n    \n      \n        \n      \n      \n        \n      \n      \n        \n      \n    \n  \n\n 回到顶部"
  },
  {
    "objectID": "qsight/2022-04-26-website/index.html",
    "href": "qsight/2022-04-26-website/index.html",
    "title": "利用R语言Rmd文档+blogdown包制作个人网站",
    "section": "",
    "text": "本篇文章将介绍如何利用R语言blogdown包生成一个静态网站，从而用来展示个人信息、撰写博客、或者分享其他信息。\nBlogdown生成静态网页的过程实际只是由Blogdown包把Rmd转化成普通的markdown文本，然后由Hugo把markdown文本生成静态网页。"
  },
  {
    "objectID": "qsight/2022-04-26-website/index.html#准备环境",
    "href": "qsight/2022-04-26-website/index.html#准备环境",
    "title": "利用R语言Rmd文档+blogdown包制作个人网站",
    "section": "1 准备环境",
    "text": "1 准备环境\n本文将介绍如何在windows环境下，利用Blogdown生成静态网页。在介绍具体步骤之前，需要提前准备好相应的软件和环境。\n\n1.1 安装R和R studio\n\n下载并安装R语言和R studio\n\n\n\n1.2 安装blogdown包\n安装稳定版本的blogdown\ninstall.packages(\"blogdown\")\n或者安装开发版本的blogdown\nremotes::install_github('rstudio/blogdown')\n\n\n1.3 安装HUGO\nHugo 是一个用 Go 编写的静态网站生成器，一般只需几秒钟就能生成一个网站（每页少于 1 毫秒），被称为“世界上最快的网站构建框架”，也使 Hugo大受欢迎，成为最热门的静态网站生成器之一，被广泛采用。你可以在这里下载不同版本的HUGO\n在Windows环境下，你可以通过以下几种方式安装hugo，在上面的链接中找出对应的Windows版本下载到本地，然后解压缩。\n\n第一种方式：直接双击 hugo.exe 可执行文件进行安装，自动安装就可以了。\n第二种方式：把解压后的hugo.exe的路径添加到系统环境变量中。\n第二种方式：在通过blogdown建立新的project的时候，勾选安装hugo选项，但是国内不建议采用这种方式，因为速度很慢，而且常常安装不成功，但是如果你在墙外，可以使用这种方法。"
  },
  {
    "objectID": "qsight/2022-04-26-website/index.html#使用blogdown建立一个网站",
    "href": "qsight/2022-04-26-website/index.html#使用blogdown建立一个网站",
    "title": "利用R语言Rmd文档+blogdown包制作个人网站",
    "section": "2 使用blogdown建立一个网站",
    "text": "2 使用blogdown建立一个网站\n\n2.1 选择一个Hugo网站模板\n使用hugo建立静态网站的优势不仅是速度快，而且因为它有着丰富的模板，模板的源代码都存储在github上，你可以点击这里选择一个适合自己的网站模板，然后把它在github上的地址复制下来。\n如果你喜欢MainRoad的模板， 可以点击Download，会进入模板在github的存储页面，然后把模板的路径复制下来Vimux/Mainroad，后面会用到。\n\n\n\nHugo 主题\n\n\n\n\n2.2 使用blogdown生成一个新的网站项目\n\n在R studio里点击 File–New Project，选择 New Directory\n\n\n\n\n\n\n\n\n\n\n\n然后，选择Website using blogdown\n\n\n\n\n\n\n\n\n\n\n\n最后，在blogdown建立新项目的选项面板中，按照下面的选项填写完整，然后点击 Create Project 创建项目\n\n\nDirectory name: 填入你新建项目所在文件夹名称；\nCreate project as subdirectory of：\nhugo theme： 填入前面步骤中复制的网站模板的github路径，以 “github账户名/仓库名称”的格式填入，我们想要创建网站的模板的存放路径为：Vimux/Mainroad\n最下面的复选框可以按照默认的选项选择，但是如果已经安装hugo的话，记得把Install Hugo if not installed前面的复选框取消掉。\n\n\n\n\n\n\n\n\n\n\n\n完成后，在 R studio 中，点击 Addins – Serve site 可以在本地渲染网站，可以在 R studio 的右下栏中可以看到渲染的网站的样子。\n\n\n\n\n\n\n\n\n\n\n\n\n2.3 新建一篇博文\n点击 Addins – New Post ，填入题目，作者，标签或者分类，在Format 选项里可以选择使用普通的markdown(不能运行R程序)、.Rmd和.Rmarkdown(可以运行R程序)。"
  },
  {
    "objectID": "qsight/2022-04-25-rmd/index.html",
    "href": "qsight/2022-04-25-rmd/index.html",
    "title": "利用Rmd代码选项输出动态金字塔图",
    "section": "",
    "text": "人口金字塔图可以形象的展示人口结构，而动态人口金字塔则可以直观的展示历年人口结构的变化情况，从而可以直观的对人口数据进行质量控制，本篇博文讲介绍如何利用R语言Rmd文档输出动态人口金字塔图。\n首先，我们先看一下需要准备的人口数据结构,数据集包含某个地区男性和女性每年的不同年龄组的人口数（5岁一组），年份变量为year，性别变量为sex，人口数据分别为r0、r1、r5、r10、… 、r85等。\ndata&lt;-read.csv(\"population.csv\")\nhead(data)\n\n  year  sex   r0    r1    r5   r10   r15   r20   r25   r30   r35   r40   r45\n1 2009 男性 5992 22345 25843 26164 43929 54912 58033 47602 54539 50224 40894\n2 2009 女性 5857 22146 24908 25507 48444 47977 52270 46133 48743 44852 39429\n3 2010 男性 6583 39619 42627 39820 45037 54131 34227 34382 42964 47668 38828\n4 2010 女性 5484 30619 32323 31418 40701 56864 36506 34890 42224 48566 40392\n5 2011 男性 5798 33931 40512 38334 47433 49693 33125 34833 47700 50181 42654\n6 2011 女性 4983 29613 34439 33614 43799 51384 34154 35228 45182 47480 40500\n    r50   r55   r60   r65   r70  r75  r80  r85\n1 40855 29236 18125 13376 10564 6242 2369  577\n2 39600 28104 18908 14984 11186 6425 3363 1408\n3 28353 32932 24141 16239 11913 8333 4241 1970\n4 28425 32685 23329 16139 12245 9821 5835 3879\n5 33943 33498 22853 15307 12274 8428 4032 1694\n6 32253 32249 22456 15207 12998 9966 5459 3507"
  },
  {
    "objectID": "qsight/2022-04-25-rmd/index.html#作图思路",
    "href": "qsight/2022-04-25-rmd/index.html#作图思路",
    "title": "利用Rmd代码选项输出动态金字塔图",
    "section": "1 作图思路",
    "text": "1 作图思路\n首先把现有的数据从宽数据转换为长数据，然后对数据进行简单处理，最后利用for循环和ggplot2输出多个年份的人口金字塔图，然后利用code chunk 选项输出动态图片。"
  },
  {
    "objectID": "qsight/2022-04-25-rmd/index.html#数据处理",
    "href": "qsight/2022-04-25-rmd/index.html#数据处理",
    "title": "利用Rmd代码选项输出动态金字塔图",
    "section": "2 数据处理",
    "text": "2 数据处理\n\nlibrary(dplyr)\nlibrary(tidyr)\ndata &lt;- data %&gt;%\n  ## 把宽数据转换为长数据\n  gather(\"agegrp\",\"rks\",-year,-sex)%&gt;%\n  ## 整理年龄组变量，添加标签转换显示格式\n  mutate(agegrp=as.numeric(gsub(\"[^0-9]\", \"\", agegrp)),\n         agegrp=factor(agegrp,labels = c(\"0\",\"1-4\",\"5-9\",\"10-14\",\"15-19\",\"20-24\",\"25-29\",\"30-34\",\"35-39\",\"40-44\",\"45-49\",\"50-54\",\"55-59\",\"60-64\",\"65-69\",\"70-74\",\"75-79\",\"80-84\",\"85+\")))%&gt;%\n  group_by(year)%&gt;%\n  ## 把男性人口数转换为负值，以是条图显示在左侧\n  mutate(rks=round(rks/sum(rks),4),\n         rks=ifelse(sex==\"男性\",-rks,rks))"
  },
  {
    "objectID": "qsight/2022-04-25-rmd/index.html#rmd-code-chunk-选项",
    "href": "qsight/2022-04-25-rmd/index.html#rmd-code-chunk-选项",
    "title": "利用Rmd代码选项输出动态金字塔图",
    "section": "3 Rmd code chunk 选项",
    "text": "3 Rmd code chunk 选项\n利用Rmd文档可以输出成很多种格式的输出结果，比如word、ppt、网页、pdf等，本篇博文介绍的为输出到网页显示动态图片。\n在Rmd文档中插入r语言代码块，代码块的选项设置为fig.show=‘animate’,animation.hook=‘gifski’，当代码块内的语句生成多个图片的时候，会自动设置为动画播放。"
  },
  {
    "objectID": "qsight/2022-04-25-rmd/index.html#利用for循环和ggplot2制作金字塔图",
    "href": "qsight/2022-04-25-rmd/index.html#利用for循环和ggplot2制作金字塔图",
    "title": "利用Rmd代码选项输出动态金字塔图",
    "section": "4 利用for循环和ggplot2制作金字塔图",
    "text": "4 利用for循环和ggplot2制作金字塔图\n在代码块内部，使用for循环和ggplot2生成多个年份的人口金子塔图即可。\n\n## 加载ggplot2包\nlibrary(ggplot2)\n## 建立for循环\nfor (i in 2011:2017) {\n data %&gt;% \n    filter(year==i) %&gt;%\n  ggplot(aes(x=factor(agegrp),y=rks,fill=sex)) +\n  geom_bar(stat = \"identity\",position = \"identity\",color=\"black\",linewidth=0.25)+\n  geom_text(aes(label=paste0(abs(rks) * 100, '%')))+\n  coord_flip()+\n  theme_classic()+\n  xlab(\"\")+\n  ylab(\"\")+\n  scale_y_continuous(limits = c(-0.08,0.08),breaks=seq(-0.08,0.08,0.02),labels = function(x) paste0(abs(x) * 100, '%'))+\n  labs(title=\"历年人口金字塔变化情况\",subtitle=paste(i))+\n  theme(legend.position = c(0.1,0.9),\n        legend.title = element_blank(),\n        strip.text = element_text(size=10, face=\"bold.italic\"),\n        strip.background = element_rect(color=\"white\", size=0),\n        axis.text=element_text(size=10),\n        axis.title=element_text(size=12, face=\"bold\"),\n        plot.title = element_text(face=\"bold\", size=14, hjust = 0.5),\n        plot.subtitle=element_text(face=\"bold\",size=20,hjust=0.8))-&gt;p\n  plot(p)\n}\n\nWarning: The `size` argument of `element_rect()` is deprecated as of ggplot2 3.4.0.\nℹ Please use the `linewidth` argument instead.\n\n\nWarning: A numeric `legend.position` argument in `theme()` was deprecated in ggplot2\n3.5.0.\nℹ Please use the `legend.position.inside` argument of `theme()` instead."
  },
  {
    "objectID": "qsight/2022-04-16-standard/index.html",
    "href": "qsight/2022-04-16-standard/index.html",
    "title": "我国发布首个肿瘤登记数据集标准",
    "section": "",
    "text": "中国肿瘤数据集标准\n\n\n我国恶性肿瘤疾病负担居高不下，防控形势严峻，而高质量的肿瘤登记数据是制定肿瘤防控政策、开展防控工作、评价防控效果的基础。20世纪50年代的林县开始了食管癌单病种的登记工作，来开了全国开展肿瘤登记工作的序幕。自2008年开始，中央转移支付地方项目经费开始对肿瘤登记工作进行经费支持，我国的肿瘤登记工作也开始进入迅速发展的时期，肿瘤登记覆盖的人口范围迅速增加。经过近60年的发展，肿瘤登记已经覆盖全国5.98亿人口，在肿瘤防控政策制定、防控效果评价等方面发挥越来越重要的作用。\n肿瘤登记工作也得到我国政府的高度重视，并在“健康中国行动-癌症防治行动”里对肿瘤登记工作提出了具体要求：实施癌症信息化行动，健全肿瘤登记制度，提高肿瘤登记覆盖范围，提升肿瘤登记数据质量，促进信息资源共享利用。\n\n\n\n\n\n\n\n\n\n为了提高肿瘤登记数据收集的质量，国家癌症中心组织全国多家单位起草并发布了《中国人群肿瘤登记数据集标准》，河南省肿瘤医院是参与起草该标准的单位之一。该标准规定了中国肿瘤登记数据集的元数据属性和数据元属性，主要用于指导中国肿瘤登记基本信息的采集、存储、共享以及信息系统的开发。此标准实践性和可操作性极强，将为肿瘤登记数据的及时性、准确性、有效性，提供强有力的技术支撑。\n下载链接：肿瘤人群肿瘤登记数据集标准\n\n\n\n\n\n  \n    \n  \n  \n    陈 琼\n       博士 \n       副主任医师 \n    他从事肿瘤登记与人群流行病学研究，编写肿瘤登记年报，并开发和维护个人网站。他撰写博文，分享数据分析方法、可视化技巧和自动化报告解决方案，同时学习 R 语言，开发 R 包，不断探索高效的数据处理与展示方式。 🚀\n    \n      \n        \n      \n      \n        \n      \n      \n        \n      \n    \n  \n\n 回到顶部"
  },
  {
    "objectID": "qsight/2021-09-09-sas-learn/index.html",
    "href": "qsight/2021-09-09-sas-learn/index.html",
    "title": "SAS学习资源列表",
    "section": "",
    "text": "本篇文章主要收集一些比较有用的SAS技术文档，列表也将不断更新，如果你发现某些连接不能正常打开的话，请及时联系我。"
  },
  {
    "objectID": "qsight/2021-09-09-sas-learn/index.html#实用系统宏",
    "href": "qsight/2021-09-09-sas-learn/index.html#实用系统宏",
    "title": "SAS学习资源列表",
    "section": "1 实用系统宏",
    "text": "1 实用系统宏\n\nA Macro to Check if a Specified Object Exists\nCopy That\n%FOR宏，实现开放代码循环执行SAS代码"
  },
  {
    "objectID": "qsight/2021-09-09-sas-learn/index.html#sas学习网络资源",
    "href": "qsight/2021-09-09-sas-learn/index.html#sas学习网络资源",
    "title": "SAS学习资源列表",
    "section": "2 SAS学习网络资源",
    "text": "2 SAS学习网络资源\n\nW3C SAS教程\nRobert Allison’s R Graph Samples\nSAS Online Doc\nSAS Papers and Presentations\nSAS Graphic Reference\nSAS OR 技术博客\nSAS 博客列表\nSAS Graphic Programs and Macros\n颜色取样器"
  },
  {
    "objectID": "qsight/2021-09-09-sas-learn/index.html#sas-相关书籍",
    "href": "qsight/2021-09-09-sas-learn/index.html#sas-相关书籍",
    "title": "SAS学习资源列表",
    "section": "3 SAS 相关书籍",
    "text": "3 SAS 相关书籍"
  },
  {
    "objectID": "qsight/2022-03-10-iarccrgtools/index.html",
    "href": "qsight/2022-03-10-iarccrgtools/index.html",
    "title": "IARCcrgtools肿瘤登记数据逻辑核查软件",
    "section": "",
    "text": "iarccrgtool\nIARCcrgtools软件是IARC为了肿瘤登记开发的专用软件，用于ICD不同版本编码的转换和肿瘤登记数据的逻辑错误检查。\n肿瘤登记使用ICD-O-3编码体系收集肿瘤数据，为了转换或验证登记处收集到的这些数据，国际癌症研究中心开发了新的软件和程序，也就是我们今天介绍的IARCcrgtools，从而保证登记处收集的数据更准确或接近于真实。使从这些数据计算得来的流行病学相关指标如发病率、死亡率、生存率等更能真实的反映癌症发生的模式和趋势。\nIARCcrgtools使用了多种方法来检查登记处数据的有效性。其中一种广泛采用的方法就是所谓的内部一致性。肿瘤登记收集的不同变量之间存在一定的逻辑关系，比如年龄/发病部位、发病部位/形态学、性别/部位等，而IARCcrgtools则使用计算机算法来检测不可能或者不太可能的变量组合，以便登记处进一步核实这些数据。\nIARCcrgtools程序最初发表在癌症登记中的可比性和质量控制(Parkin等人，1994年)。最初创建这个程序是为了评估提交的五大洲癌症发病率数据(IARC Scientific Publications nos. 120, 143 and 155)。新程序是基于ICD-O-3的。\n目前最新版的程序则是基于ICD-O-3，考虑到ICD-O-3第一版的变化，发布了新的IARC/IACR检查程序。该程序为用户提供内部一致性检查，以检测不可能或不太可信的编码组合。"
  },
  {
    "objectID": "qsight/2022-03-10-iarccrgtools/index.html#iarccrgtools软件的主要功能",
    "href": "qsight/2022-03-10-iarccrgtools/index.html#iarccrgtools软件的主要功能",
    "title": "IARCcrgtools肿瘤登记数据逻辑核查软件",
    "section": "1 IARCcrgtools软件的主要功能",
    "text": "1 IARCcrgtools软件的主要功能\nIARCcrgtools软件的主要功能主要分为两类：（1）ICD9/10与ICD-O-2/ICD-O-3编码的相互转换；(2)用于肿瘤登记数据记录的逻辑核查功能。具体可打开软件查看相应菜单。"
  },
  {
    "objectID": "qsight/2022-03-10-iarccrgtools/index.html#使用教程",
    "href": "qsight/2022-03-10-iarccrgtools/index.html#使用教程",
    "title": "IARCcrgtools肿瘤登记数据逻辑核查软件",
    "section": "2 使用教程",
    "text": "2 使用教程\n作者在开展肿瘤登记工作的时候，对IARCcrgtools软件的技术文档进行了翻译，以及编写了相关的使用教程，从而方便肿瘤登记处的工作人员使用。 - 技术文档下载地址(英文版) - 技术文档下载地址(中文翻译版) - IARCcrgtools使用教程"
  },
  {
    "objectID": "qsight/2022-03-10-iarccrgtools/index.html#软件下载",
    "href": "qsight/2022-03-10-iarccrgtools/index.html#软件下载",
    "title": "IARCcrgtools肿瘤登记数据逻辑核查软件",
    "section": "3 软件下载",
    "text": "3 软件下载\n目前软件的最新版本为2.10版，你可以从下面的链接中下载软件或者相关技术文档。\n\n软件下载地址"
  },
  {
    "objectID": "qsight/2023-03-31-rstudioefficiency/index.html",
    "href": "qsight/2023-03-31-rstudioefficiency/index.html",
    "title": "提高Rstudio和Quarto使用效率的一些方法和配置",
    "section": "",
    "text": "本篇博文介绍了我们使用Rstudio进行数据分析或使用Quarto撰写报告时提高效率的一些方法和配置，通过这些配置可以大大提高我们工作的便捷性和效率，俗话说“磨刀不误砍柴工”，开始数据分析之前，先把工具“Rstudio,R”配置好，肯定事半功倍！"
  },
  {
    "objectID": "qsight/2023-03-31-rstudioefficiency/index.html#提高quarto效率的常见配置",
    "href": "qsight/2023-03-31-rstudioefficiency/index.html#提高quarto效率的常见配置",
    "title": "提高Rstudio和Quarto使用效率的一些方法和配置",
    "section": "1 提高Quarto效率的常见配置",
    "text": "1 提高Quarto效率的常见配置\nQuarto是基于Pandoc的开源科技出版系统，我们可以利用Quarto把常规文本以及基于不同语言的数据分析过程（R、Python等）混合格式转化为静态网页、PDF、WORD文档、网站以及其他更多的格式。我也写过一篇博文介绍了如何利用Quarto提高科技论文效率，今天在这个段落介绍一下提高Quarto撰写效率的方法。\n\n1.1 利用snippets自动插入Divs和Spans\nQuarto支持利用Divs和Spans来给特定的内容增加一些属性。比如，我们可以给一段话增加边框，语句如下：\n::: {.border}\n这是具有边框样式的一段话。\n:::\n具体显示效果如下：\n\n这是具有边框样式的一段话。\n\n我们也可以使用一些内置的callout样式，语法如下：\n::: {.callout-warning}\n这是一段warning类型callout段落。\n:::\n具体显示效果如下：\n\n\n\n\n\n\n警告\n\n\n\n这是一段warning类型callout段落的显示效果。\n\n\n但是我们在实际使用的时候，每次录入3个”:“开头，然后紧接着是”{}“内表明具体的属性名称，最后以3个”:“结尾，这么多的字符输入很浪费时间，但是我们可以通过在Rstudio里设置snippets片段的方式来提高输入效率，snippets是自动插入代码比较好的一种方式，使我们能够比较快地在quarto文档里插入相应的代码片段。\n下面是一些quarto文本中常用的一些snippet片段，我们可以在Rstudio里通过依次点击Tools &gt; Global Options &gt; Code &gt; Edit Code Snippets，在出现的界面中选择Markdown选项卡，然后把下面的代码片段插入到最后。\nsnippet fragment\n    [${1:text}]{.${2:type}}\n    \nsnippet aside\n    [${1:text}]{.aside}\n    \nsnippet fence\n    :::{.${1:type}}\n        ${2:body}\n    :::\n\nsnippet panel\n    ::: {.panel-tabset}\n        ${1:body}\n    :::\n    \nsnippet column\n    :::: {.columns}\n    ::: {.column width=\"50%\"}\n    Left column\n    :::\n\n    ::: {.column width=\"50%\"}\n    Right column\n    :::\n    ::::\n我们在在使用的时候，在Quarto文档里输入snippet名称，然后按Shift+Tab键就可以按照设定的片段录入代码了。比如，我们可以将将内容进行分栏，可以录入column，然后按Shift+Tab键，然后相应的代码块会自动填充。\n\n\n1.2 善于使用echo: fenced选项\nQuarto支持插入代码块从而实现一些相应的功能，而我们在利用Quarto进行写作时，有时需要把代码显示出来，从而让其他人知道相应的部分的内容的原始代码是什么样的，而在代码块的echo选项设定为fenced之后，可以把包括选项部分的设置一块显示出来。\n在没有这是 echo: fenced时，代码块的显示是下面这样的。\ndata %&gt;% \n  kable() %&gt;% \n  kable_stylling()\n设置echo: fenced之后，代码块的显示是这样的：\n#| label: tbl-t1\n#| tbl-cap: \"不同地区恶性肿瘤5年相对生存率\"\n#| tbl-location: top\n\ndata %&gt;% \n  kable() %&gt;% \n  kable_stylling()\n\n\n1.3 利用shortcode方便地插入内容\n通常我们可以在quarto文档中添加HTML内容，比如通过添加视频内容等，shortcode可以使我们很方便地插入我们想插入的内容。Quarto原生支持一些shortcode，比如运行下面的代码。\n这篇博客的标题是`提高Rstudio和Quarto使用效率的一些方法和配置`。\n显示的内容如下：\n这篇博客的标题是提高Rstudio和Quarto使用效率的一些方法和配置。\n\n\n1.4 在不同文档间重复利用内容\n{{&lt; include &gt;}}是一个quarto的shortcode使我们能够重复利用不同quarto文档的内容，而不用复制和粘贴。在你想插入内容的地方，添加shortcode {{&lt; include &gt;}} include后面放入想添加的文档名称，记得在名称前添加下划线。\n{{&lt; incldue _content.qmd &gt;}}\n也可以按照一定的条件纳入内容，比如，只在渲染为特定格式时显示内容，用.content-visible 或者 .content-hidden\n::: {.content-visible when-format=\"html\"}\n这部分文字只在渲染为HTML时显示\n:::"
  },
  {
    "objectID": "qsight/2023-03-31-rstudioefficiency/index.html#善于使用快捷键",
    "href": "qsight/2023-03-31-rstudioefficiency/index.html#善于使用快捷键",
    "title": "提高Rstudio和Quarto使用效率的一些方法和配置",
    "section": "2 善于使用快捷键",
    "text": "2 善于使用快捷键\n我们在使用Rstudio在进行统计分析时，有些使用频率非常高的操作，比如添加或者取消注释、赋值号、管道操作符、运行当前行代码、运行有所代码，从代码界面切换到Console界面，切换到Terminal界面等等，如果记住一些键盘快捷键将会大大提高操作效率，就不用在写着代码的时候到桌面上找鼠标了。下面的表格中列出了我比较常用的键盘快捷键，我们在使用的时候可以参考借鉴。\n我们在数据分析的过程中也要保持良好的习惯，比如记得添加代码注释，通过添加注释可以使我们的代码具有更高的可读性，使代码更易于维护，帮助我们更好的理解代码的含义。\n\n不同操作系统Rstudio常用快捷键\n\n\n\n\n\n\n\n\n编号\n操作\nMAC OS\nLinux 或者Windows\n\n\n\n\n1\n添加或者取消代码注释\nCommand + Shift + C\nControl + Shift + C\n\n\n2\n插入赋值号 &lt;-\nOption + -\nAlt + -\n\n\n3\n插入管道操作符 %&gt;%\nCommand + Shift + M\nCtrl + Shift + M\n\n\n4\n运行目前行代码\nCommand + Enter\nControl + Enter\n\n\n5\n运行所有代码\nCommand + A + Enter\nControl + A + Enter\n\n\n6\n查看Rstudio快捷键\nOption + Shift + K\nAlt + Shift + K\n\n\n7\n切换到代码编辑界面\nCtrl + 1\nCtrl + 1\n\n\n8\n切换到Console界面\nCtrl + 2\nCtrl + 2\n\n\n9\n切换到Terminal界面\nOption + Shift + M\nAlt + Shift + M\n\n\n10\nquarto文档插入代码块\nOption + Comman + I\n\n\n\n\n\n\n\n\n\n\n记住快捷键的小技巧\n\n\n\n一下子记住所有的快捷键肯定是有困难的，但是，我们在日常使用的时候一定要想着使用快捷键，这样即使使用的当时没有记住，但是我们通过每次的查询和使用，不出几天肯定都能熟练的记住了。"
  },
  {
    "objectID": "qsight/2023-03-31-rstudioefficiency/index.html#不要保存工作环境变量",
    "href": "qsight/2023-03-31-rstudioefficiency/index.html#不要保存工作环境变量",
    "title": "提高Rstudio和Quarto使用效率的一些方法和配置",
    "section": "3 不要保存工作环境变量",
    "text": "3 不要保存工作环境变量\n尽量不要保存Rstudio工作环境，如果您创建了值得保存的 R 对象，请将生成该对象的 R 代码保存到一个 R 脚本文件中。保存 R 脚本，但不要保存对象生成时的环境或工作空间。\n为防止 RStudio 保存您的工作空间，请打开”首选项 &gt; 通用”并取消选择将 .RData 在启动时恢复到工作空间的选项。请确保指定您永不想保存工作空间，如下所示："
  },
  {
    "objectID": "qsight/2023-03-31-rstudioefficiency/index.html#用项目projects组织管理工作",
    "href": "qsight/2023-03-31-rstudioefficiency/index.html#用项目projects组织管理工作",
    "title": "提高Rstudio和Quarto使用效率的一些方法和配置",
    "section": "4 用项目(Projects)组织管理工作",
    "text": "4 用项目(Projects)组织管理工作\n如果我们使用Rstudio进行数据分析时，一定要有项目的概念，当我们处理多个分析时，时常需要在多个分析之间来回切换，使用了项目的概念之后，我们各个分析会更有组织性。\n\n\n\n\n\n\nRstudio项目\n\n\n\nRStudio Project是一个以特定目录作为根目录的工作环境，其中包含R代码、数据、图片、说明文件、结果输出等多个文件。这个根目录还包括一个用于管理项目的.Rproj文件。\n\n\n通过创建RStudio Project，您可以将所有相关文件组织在一个目录中，使得在进行多个分析或项目时更加方便、清晰和高效。此外，RStudio Project还提供了许多其他有用的功能，例如：\n\n能够在项目之间快速切换，而无需重新打开各个文件\n为每个项目分配单独的工作空间，从而避免命名空间冲突\n将项目文件和支持文件打包，便于与他人共享和合作\n可以使用renv等工具来管理项目依赖项，以确保在不同计算机上运行项目时的一致性。\n\n通过导航到 RStudio 中的”文件”选项卡并选择”新建项目”来创建新项目。您可以选择在新目录或现有目录中创建新项目。\n但是，如果您想实现无缝协作，可能需要将软件包管理引入工作流程。幸运的是，RStudio 提供了一个有用的软件包管理工具 renv，现在与 RStudio Projects 兼容。"
  },
  {
    "objectID": "qsight/2023-03-31-rstudioefficiency/index.html#利用renv管理r包的版本",
    "href": "qsight/2023-03-31-rstudioefficiency/index.html#利用renv管理r包的版本",
    "title": "提高Rstudio和Quarto使用效率的一些方法和配置",
    "section": "5 利用renv管理R包的版本",
    "text": "5 利用renv管理R包的版本\n因为R语言的开源使用，越来越多的数据科学家使用R语言来进行了数据分析和数据管理，近年来有大量的R包被上传到CRAN上，这大大方便了我们使用R语言进行数据分析，同时也加大了我们R包管理的难度。\n使用renv来管理R包版本是一种有效的方式，以确保在不同计算机上运行R代码时的一致性和可重复性。以下是使用renv管理R包版本的步骤：\n\n在RStudio中打开您的项目，并在终端中安装renv包。可以使用以下命令：install.packages(“renv”)\n在RStudio的控制台或终端中，输入以下命令，以初始化renv项目：renv::init()\n在项目的根目录中创建一个名为”renv.lock”的文件，该文件用于跟踪项目的包依赖项。可以使用以下命令创建该文件：renv::snapshot()\n在R代码中使用renv来管理R包版本。例如，使用以下命令安装特定版本的tidyverse包：renv::install(“tidyverse@1.3.1”)\n在renv项目中更新或添加新的R包时，使用以下命令将这些更改保存到”renv.lock”文件中：renv::snapshot()\n当您要在另一个计算机上运行该项目时，只需将整个项目目录复制到该计算机上，并使用以下命令恢复项目的环境：renv::restore()\n\n通过使用renv管理R包版本，您可以确保您的项目在不同计算机上具有相同的R包版本，从而使得您的分析结果更加可靠和可重复。"
  },
  {
    "objectID": "qsight/2023-03-31-rstudioefficiency/index.html#配置r和rstudio启动文件",
    "href": "qsight/2023-03-31-rstudioefficiency/index.html#配置r和rstudio启动文件",
    "title": "提高Rstudio和Quarto使用效率的一些方法和配置",
    "section": "6 配置R和Rstudio启动文件",
    "text": "6 配置R和Rstudio启动文件\n在启动Rstudio和R时，软件会自动寻找几个文件，这些文件分别为.Rprofile, .Renviron, Rprofile.site, Renviron.site, rsession.conf 和 repos.conf，可以通过这些文件设置一些选项和环境变量。这一部分将介绍如何在R启动时设置特定选项。\n下面一个表格总结了如何在启动时控制R选项和环境变量。\n\nR启动文件列表\n\n\n\n\n\n\n\n\n\nId\n文件\n需要权限\n级别\n限制\n\n\n\n\n1\n.Rprofile\n用户或管理员\n用户或项目\n没有，运行R代码\n\n\n2\n.Renviron\n用户或管理员\n用户或项目\n只能设置环境变量\n\n\n3\nRprofile.site\n管理员\nR版本\n没有，运行R代码\n\n\n4\nRenviron.site\n管理员\nR版本\n只能设置环境变量\n\n\n5\nrsession.conf\n管理员\n服务器\n只能配置Rstudio设置，只能设置一个存储库\n\n\n6\nrepos.conf\n管理员\n服务器\n只能设置存储库\n\n\n\n\n6.1 .Rprofile\n.Rprofile文件是用户可控的文件，用于设置选项和环境变量。.Rprofile文件可以是用户级别或项目级别。用户级别的.Rprofile文件位于用户主目录的根目录中，项目级别的.Rprofile文件位于项目目录的根目录中。\nR只会使用一个.Rprofile文件。因此，如果您既有一个特定于项目的.Rprofile文件，又有一个用户.Rprofile文件需要使用，则必须在项目级.Rprofile的顶部显式调用用户级.Rprofile，使用source(“~/.Rprofile”)。\n.Rprofile文件作为常规的R代码进行调用，因此设置环境变量必须在Sys.setenv(key = “value”)调用内完成。\n编辑.Rprofile文件的一种简单方法是在R会话中使用usethis::edit_r_profile()函数。您可以指定要编辑的用户或项目级.Rprofile。\n\n\n6.2 .Renviron\n.Renviron是一个可由用户控制的文件，可用于创建环境变量。这对于避免在R脚本中包含凭据（如API密钥）特别有用。该文件采用键值格式编写，因此环境变量的创建格式为：\nKey1=value1 Key2=value2 ... 然后，在R会话中使用Sys.getenv(“Key1”)将返回”value1”。\n与.Rprofile文件一样，.Renviron文件可以是用户级别或项目级别。如果有项目级别的.Renviron文件，则不会加载用户级别的文件。usethis包中包含一个帮助函数，可以使用usethis::edit_r_environ()从R会话中编辑.Renviron文件。\n\n\n6.3 Rprofile.site 和Renviron.site\n.Rprofile和.Renviron文件都有服务器范围内的等效文件。Rprofile.site和Renviron.site（没有前导点）文件由RStudio Workbench或RStudio Server上的管理员管理，并且特定于特定版本的R。这些文件的最常见设置涉及对软件包存储库的访问。例如，通常使用共享基线软件包管理策略是从Rprofile.site中完成的。\n用户可以使用其个人.Rprofile文件覆盖这些文件中的设置。\n这些文件针对每个版本的R进行设置，应位于R_HOME / etc /中。您可以通过在该版本的R会话中运行命令R.home（component =“home”）来找到R_HOME。因此，例如，如果您发现R_HOME是/opt/R/3.6.2/lib/R，则R 3.6.2的Rprofile.site将位于/opt/R/3.6.2/lib/R/etc/Rprofile.site中。\n\n\n6.4 rsession.conf和repos.conf\nRStudio Workbench和RStudio Server允许服务器管理员通过rsession.conf和repos.conf文件配置特定的服务器范围内的R包存储库。rsession.conf中只能配置一个存储库。如果需要多个存储库，应该使用repos.conf。"
  },
  {
    "objectID": "qsight/2023-03-21-肿瘤临床预后影响因素分析应该注意哪些因素/index.html",
    "href": "qsight/2023-03-21-肿瘤临床预后影响因素分析应该注意哪些因素/index.html",
    "title": "肿瘤临床预后影响因素分析应该注意哪些因素?",
    "section": "",
    "text": "今天我审读了一篇肿瘤临床预后影响因素分析的投稿论文，也想起了以前看过的几篇临床肿瘤预后影响因素的文章，我发现他们在进行数据分析的时候存在某些共同的问题，今天在这里和大家分享一下我的一些观点，希望能对肿瘤预后分析的朋友有所帮助。\n  \n\n\n\n\n\n\n\n\n\n\n\n肿瘤预后影响因素分析，下面这些问题你考虑过吗？\n\n\n\n\n\n\n怎样才能确定因素是否为预后独立影响因素？\n如何筛选潜在的混杂因素？\n如何判断模型拟合效果？\n需要使用哪个统计模型？\n结果数据该如何展现？\n\n\n\n\n今天我所审读的这篇论文题目是“淋巴瘤临床流行病学特点及利妥昔单抗和BTK抑制剂应用对预后影响”的文章，由于该文章正处于投稿阶段，不能把文章展示出来，但是这篇文章存在的一些问题是目前肿瘤预后分析时一些常见的问题，也是一些共性的问题，今天在这里分享一下我的一些观点和看法，如果刚好你也在进行相关的研究或者数据分析，不妨停下来看一看，说不定对你有所帮助。\n临床上肿瘤预后影响因素分析的文章有很多，大多为分析治疗因素对预后的影响，预后的指标多为总体生存和无进展生存。我看过一些临床的论文，得出的最后结论提示某某因素是某癌症预后的独立影响因素，那你有没有想过什么是独立的预后影响因素？达到什么样的条件才能成为独立的预后影响因素？\n我们先把这个问题放到一边，先从临床的角度想一想，癌症的预后可能与哪些因素有关系？除了治疗因素之外，癌症诊断时的临床分期、病理类型、患者的基础状态以及其他的一些流行病学因素可能均与癌症的预后有关系，这些因素可能在一定程度上影响着患者的总体生存（OS）或者无进展生存（PFS），但是它们对预后影响的效应可能大小不一。\n当我们把焦点聚焦到某一个因素上时，比如治疗因素时，我们想通过收集的数据分析一下治疗因素对预后影响的效应大小，那么我们就需要把其他可能影响因素效应排除在外，即把治疗因素以外因素的效应调整之后，才能显示出来治疗因素对预后影响的真实效应。\n那从流行病学的角度来讲的话，上面所说的过程就是去除混杂因素的过程，简单的说，所研究因素之外，可能对研究结局产生影响的因素就是混杂因素。那在实际数据分析的过程中，怎么判断哪些因素是混杂因素需要调整，而哪些因素不是混杂因素而不需要调整呢？\n我觉得可以从两个方面来判断，首先是从专业方面，我们可以通过阅读文献来了解目前证据所支持的所研究结局的影响因素有哪些？这些可能都是潜在的混杂因素。我们知道了这些因素之后，在数据收集阶段应该尽可能的把这些因素收集上来，以备后面的分析来用；第二个方面，就是利用自己研究所收集的数据来探索分析，通常按照研究因素分层来看其他不同的因素在不同层间是否分布均衡，如果不均衡的话，那么就需要这些层间不均衡分布的因素，也列入潜在的混杂因素清单，需要纳入调整模型进行校正。\n那我们再从统计的角度来说，临床上常用的预后影响因素分析的统计学方法为Cox比例风险回归模型。这个阶段已经数据分析的最后阶段了，我们把所研究因素（治疗方法）作为自变量，把潜在的混杂因素作为协变量，把结局因素（生存状态，生存时间）作为因变量纳入Cox比例风险回归模型进行模型的拟合。调整了协变量的影响之后，研究因素与结局之间的关系，通常用HR来表示，才是真正的研究因素对研究结局的效应大小。\n当然在这一步骤里，有人会问：“所有这些潜在的混杂因素最终都要放入模型吗，有没有一些潜在的混杂因素会剔除出模型？”\n答案是会的，有一些潜在混杂因素会剔除出模型，主要还是要看模型拟合的情况。如果研究样本量不大，而潜在的混杂因素又很多的时候，我们就需要评估纳入哪些变量以使模型的拟合效果更好(\\(R^2\\))。或者通过把这个变量纳入和剔除模型前后对研究因素对结局变量效应值的影响大小来判断，如果变化超过10%，那么我们可以考虑纳入模型，反之则剔除出模型。\n现在再回到前面第二段的问题，什么样的因素才是癌症预后独立的影响因素呢？\n如果你认真看完了上面的几段，我想答案应该显而易见了，所谓癌症预后的独立影响因素应该是排除了研究因素与研究结局之间除了研究因素以外的所有干扰因素之后，研究因素仍然对结局有影响，那么我们可以成为这个研究因素是结局的独立影响因素。\n以上的过程是我所理解的肿瘤临床预后影响因素分析的大概过程，这个过程虽然听起来挺简单的，但是总会有各种各样的问题出现。比如统计方法的使用是否合适、该展示的数据没有展示出来等等。\n数据分析完成之后，我们就需要以论文或者报告的形式把分析的结果展示出来。我们都知道任何一项研究都不可能做到非常完美，但是我们所能做的就是尽可能得调整混杂因素，去伪存真，展示真实的结局。\n在论文撰写的时候，我们要向读者展示出来，所有可能影响结果的地方，我都已经考虑了，而且进行了调整，而有些内容确实没有办法做，我们可以把它列入研究存在的不足和限制方面。如果能做到这一点，我相信你的论文应该是一篇质量很高的论文，还愁发表吗？\n这就是我对临床肿瘤预后分析的一点理解，如果你有不同的见解请告诉我，将不胜感激！\n\n\n\n\n\n  \n    \n  \n  \n    陈 琼\n       博士 \n       副主任医师 \n    他从事肿瘤登记与人群流行病学研究，编写肿瘤登记年报，并开发和维护个人网站。他撰写博文，分享数据分析方法、可视化技巧和自动化报告解决方案，同时学习 R 语言，开发 R 包，不断探索高效的数据处理与展示方式。 🚀\n    \n      \n        \n      \n      \n        \n      \n      \n        \n      \n    \n  \n\n 回到顶部"
  },
  {
    "objectID": "qsight/2020-03-27-ggplot2-legend/index.html",
    "href": "qsight/2020-03-27-ggplot2-legend/index.html",
    "title": "修改ggplot2图例相关设置",
    "section": "",
    "text": "ggplot2中的legend包括四个部分: legend.tittle, legend.text, legend.key, legend.backgroud。针对每一部分有四种处理方式： element_text()绘制标签和标题，可控制字体的family, face, colour, size, hjust, vjust, angle, lineheight,当改变角度时，序将hjust调整至0或1. element_rect()绘制主要供背景使用的矩形，你可以控制颜色的填充（fill）和边界的colour, size, linetype element_blank()表示空主题，即对元素不分配相应的绘图空间。该函数可以山区我们不感兴趣的绘图元素。使用之前的colour=NA，fill=NA,让某些元素不可见，但仍然占绘图空间。 element_get()可得到当前主题的设置。 theme()可在一幅图中对某些元素进行局部性修改，theme_update()可为后面图形的绘制进行全局性的修改。\n不加Legend\np+theme(legend.position='none');\n删除legend.tittle\np+theme(legend.title=element_blank())\n图例（legend）的位置 图例（legend）的位置和对齐使用的主题设置legend.position来控制，其值可为right,left,top,bottom,none(不加图例，或是一个表示位置的数值。这个数值型位置由legend.justfication给定的相对边角位置表示（取0和1之间的值），它是一个长度为2的数值型向量：右上角为c(1,1),左下角为c(0,0)\np+theme(legend.position=”left”)\n修改legend.tittle内容\np+scale_colour_hue(\"what does it eat?\",breaks=c(\"herbi\",\"carni\",\"omni\",NA),labels=c(\"plants\",\"meat\",\"both\",\"don't know\"));\n修改尺寸大小\np+theme(legend.background=element_rect(colour=\"purple\",fill=\"pink\",size=3,linetype=\"dashed\"));\np+theme(legend.key.size=unit(2,'cm'));\np+theme(legend.key.width=unit(5,'cm'));\np+theme(legend.text = element_text(colour = 'red', angle = 45, size = 10, hjust = 3, vjust = 3, face = 'bold'))\n颜色的修改以及一致性：\nlibrary(RColorBrewer);\nnewpalette&lt;-colorRampPalette(brewer.pal(12,\"Set3\"))(length(unique(eee$name)));\np+scale_fill_manual(values=newpalette);\np+geom_bar(position=\"stack\",aes(order=desc(name)))\n\n\n\n\n\n  \n    \n  \n  \n    陈 琼\n       博士 \n       副主任医师 \n    他从事肿瘤登记与人群流行病学研究，编写肿瘤登记年报，并开发和维护个人网站。他撰写博文，分享数据分析方法、可视化技巧和自动化报告解决方案，同时学习 R 语言，开发 R 包，不断探索高效的数据处理与展示方式。 🚀\n    \n      \n        \n      \n      \n        \n      \n      \n        \n      \n    \n  \n\n 回到顶部"
  },
  {
    "objectID": "qsight/2022-04-29-ggplot2-barplot/index.html",
    "href": "qsight/2022-04-29-ggplot2-barplot/index.html",
    "title": "利用ggplot2包绘制barplot简单条形图",
    "section": "",
    "text": "条形图（bar chart）是用宽度相同的条形的高度或长短来表示数据多少的图形。条形图可以横置或纵置，纵置时也称为柱形图（column chart）。此外，条形图有简单条形图、复式条形图等形式。"
  },
  {
    "objectID": "qsight/2022-04-29-ggplot2-barplot/index.html#什么是条形图",
    "href": "qsight/2022-04-29-ggplot2-barplot/index.html#什么是条形图",
    "title": "利用ggplot2包绘制barplot简单条形图",
    "section": "",
    "text": "条形图（bar chart）是用宽度相同的条形的高度或长短来表示数据多少的图形。条形图可以横置或纵置，纵置时也称为柱形图（column chart）。此外，条形图有简单条形图、复式条形图等形式。"
  },
  {
    "objectID": "qsight/2022-04-29-ggplot2-barplot/index.html#条形图有哪些类型",
    "href": "qsight/2022-04-29-ggplot2-barplot/index.html#条形图有哪些类型",
    "title": "利用ggplot2包绘制barplot简单条形图",
    "section": "2 条形图有哪些类型",
    "text": "2 条形图有哪些类型\n\n简单条形图：\n簇状条形图和三维簇状条形图：簇状条形图比较各个类别的值。在簇状条形图中，通常沿垂直轴组织类别，而沿水平轴组织数值。三维簇状条形图以三维格式显示水平矩形，而不以三维格式显示数据。\n堆积条形图和三维堆积条形图：堆积条形图显示单个项目与整体之间的关系。三维堆积条形图以三维格式显示水平矩形，而不以三维格式显示数据。\n百分比堆积条形图和三维百分比堆积条形图：此类型的图表比较各个类别的每一数值所占总数值的百分比大小。三维百分比堆积条形图表以三维格式显示水平矩形，而不以三维格式显示数据。"
  },
  {
    "objectID": "qsight/2022-04-29-ggplot2-barplot/index.html#如何绘制barplot条形图",
    "href": "qsight/2022-04-29-ggplot2-barplot/index.html#如何绘制barplot条形图",
    "title": "利用ggplot2包绘制barplot简单条形图",
    "section": "3 如何绘制barplot条形图？",
    "text": "3 如何绘制barplot条形图？\n\n3.1 绘制简单barplot条形图\n如果你还没有安装ggplot2包，那么请先安装此包，如果已经安装，请忽略此步骤。\ninstall.packages(\"ggplot2\")\n首先，准备一下绘制barplot条形图所需的数据，我们就拿河南省前10位癌症发病率数据来举例。\n\ndata &lt;- data.frame(\n  site=c(\"肺癌\",\"乳腺癌\",\"胃癌\",\"食管癌\",\"肝癌\",\"宫颈癌\",\"结直肠癌\",\"子宫体癌\",\"甲状腺癌\",\"卵巢癌\"),\n  incid=c(53.35,39.25,35.74,31.11,29.15,19.24,18.15,9.99,7.92,7.04))\nhead(data)\n\n    site incid\n1   肺癌 53.35\n2 乳腺癌 39.25\n3   胃癌 35.74\n4 食管癌 31.11\n5   肝癌 29.15\n6 宫颈癌 19.24\n\n\n利用ggplot2包的geom_bar()函数绘制简单条形图\n\nlibrary(ggplot2)\nlibrary(dplyr)\nplot &lt;- data %&gt;%\n  # 通过reorder(site,-incid)来改变条形的顺序，按照incid值的大小排列条形\n  ggplot(aes(x=reorder(site,incid), y=incid)) +\n  # 输出条形图，并把条形填充为蓝色\n  geom_bar(stat=\"identity\",fill=\"steelblue\")+\n  theme(text=element_text(family=\"STKaiti\",size=14))\nggsave(\"plot.png\")\n\n\n\n\n条形图\n\n\n把垂直条形图转换为水平条形图，通过coord_fip()坐标轴转换函数实现。\n\nplot + \n  # 转置坐标轴\n  coord_flip()\n\n\n\n\n条形图：坐标轴转置\n\n\n\n\nggplot2包里有一些自带的主题，我们可以应用这些主题来快速的调整图的样式。\n\nplot+coord_flip()+\n  # 使用classic主题\n  theme_classic()+\n    theme(text=element_text(family=\"STKaiti\",size=14))\n\n\n\n\n\n\n\n\n然后我们进一步对条形图进行修饰，比如更改坐标轴标题、把x轴由底部调整至顶部显示、添加条形图数据标签等等。\n\nplot+\n  # 对坐标轴进行转置\n  coord_flip()+\n  # 使用经典的科研作图主题\n  theme_classic()+\n  # 设置x轴标题\n  xlab(\"癌种\")+\n  # 设置y轴标题\n  ylab(\"发病率(1/10万)\")+\n  # 把转置后的x轴位置调整到顶部显示\n  scale_y_continuous(position=\"right\")+\n  # 添加数据标签\n  geom_text(aes(label=incid), size=3.5)+\n theme(text=element_text(family=\"STKaiti\",size=14))\n\n\n\n\n\n\n\n\n\n\n3.2 绘制分组barplot条形图\n准备绘制分组条形图的数据，我们可以添加不同癌种的死亡率数据，分为两组：发病率和死亡率。\n\ndata2 &lt;- data.frame(\n  site=c(\"肺癌\",\"乳腺癌\",\"胃癌\",\"食管癌\",\"肝癌\",\"宫颈癌\",\"结直肠癌\",\"子宫体癌\",\"甲状腺癌\",\"卵巢癌\",\"肺癌\",\"乳腺癌\",\"胃癌\",\"食管癌\",\"肝癌\",\"宫颈癌\",\"结直肠癌\",\"子宫体癌\",\"甲状腺癌\",\"卵巢癌\"),\n  type=c(rep(\"发病率\",10),rep(\"死亡率\",10)),\n  value=c(53.35,39.25,35.74,31.11,29.15,19.24,18.15,9.99,7.92,7.04,41.22,9.92,27.87,23.36,24.46,6.05,8.85,2.16,0.76,3.00))\nhead(data)\n\n    site incid\n1   肺癌 53.35\n2 乳腺癌 39.25\n3   胃癌 35.74\n4 食管癌 31.11\n5   肝癌 29.15\n6 宫颈癌 19.24\n\n\nggplot2在使用fill添加分组选项时，会默认绘制堆积条形图，我们可以使用position_dodge() 函数来改变默认情况，绘制分组条形图。\n\ndata2%&gt;%\n  ggplot(aes(x=reorder(site,value), y=value, fill=type)) +\n  # 使用position=position_dodge()改变堆积条图为分组条图\n  geom_bar(stat=\"identity\",position=position_dodge())+\n  coord_flip()+\n  theme_classic()+\n  scale_y_continuous(position = \"right\")+\n  xlab(\"癌种\")+\n  ylab(\"率(1/10万)\")+\n  geom_text(aes(label=value),size=2,position=position_dodge(0.9))+\n    theme(text=element_text(family=\"STKaiti\",size=14))-&gt;plot2\nplot2\n\n\n\n\n\n\n\n\n我们可以改变条形图条的颜色，也可以修改图例的位置、标题等等。\n\nplot2+\n  # 修改条的颜色为以下两个色号\n  scale_fill_manual(values=c('#999999','#E69F00'))\n\n\n\n\n\n\n\n# 我们也可以使用color palettes改变分组条图的颜色\nplot2+\nscale_fill_brewer(palette=\"Blues\")\n\n\n\n\n\n\n\n# 我们可以利用theme()对图例进行修改\nplot2+\n  theme(\n    # 修改图例的位置\n    legend.position = c(0.8,0.2),\n    # 取消图例的标题\n    legend.title=element_blank()\n  )\n\nWarning: A numeric `legend.position` argument in `theme()` was deprecated in ggplot2\n3.5.0.\nℹ Please use the `legend.position.inside` argument of `theme()` instead."
  }
]